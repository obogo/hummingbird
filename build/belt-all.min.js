/*
* grunt-belt v.0.2.0
* WebUX. MIT 2014
*/
!function(exports,global){global.belt=exports;var debug={},directives={},errors={},filters={},utils={};utils.ajax={},utils.async={},utils.browser={},utils.color={},utils.crypt={},utils.data={},utils.data.array={},utils.display={},utils.formatters={},utils.geom={},utils.parsers={},utils.patterns={},function(){function a(a,b){this.init(a,b)}var b=a.prototype=Object.create(Array.prototype);b.version="0.1.2",b.selector="",b.init=function(a,b){"string"==typeof a?"<"===a.substr(0,1)&&">"===a.substr(a.length-1,1)?this.parseHTML(a):this.parseSelector(a,b):a instanceof Array?this.parseArray(a):a instanceof Element&&this.parseElement(a)},b.parseHTML=function(a){var b=document.createElement("div");b.innerHTML=a,this.length=0,this.parseArray(b.children)},b.parseSelector=function(b,c){var d,e,f;for(this.selector=b,this.context=c instanceof Element?c:c instanceof a?c[0]:document,e=this.context.querySelectorAll(b),f=e.length,d=0,this.length=0;f>d;)this.push(e[d]),d+=1},b.parseArray=function(a){var b=0,c=a.length;for(this.length=0;c>b;)a[b]instanceof Element&&this.push(a[b]),b+=1},b.parseElement=function(a){this.length=0,this.push(a)},b.toString=function(){return this.length?this[0].outerHTML:void 0},b.each=function(a){for(var b,c=0,d=this.length;d>c&&(b=a.apply(this[c],[c,this[c]]),b!==!1);)c+=1;return this},utils.query=function(c,d){for(var e in utils.query.fn)utils.query.fn.hasOwnProperty(e)&&(b[e]=utils.query.fn[e],delete utils.query.fn[e]);return new a(c,d)},utils.query.fn={}}(),utils.timers={},utils.validators={},utils.xml={};var compiler=function(){function a(a,b,c){function d(a,b){for(var c,d,e=Array.prototype.slice.call(arguments,0),f=1,g=e.length;g>f;){c=e[f];for(d in c)c.hasOwnProperty(d)&&(a[d]=b[d]);f+=1}return a}function e(a,b){return a?void(8===a.nodeType?b.removeChild(a):a.childNodes&&q(a.childNodes,e,a)):!0}function f(b,d){if(b){var e=new RegExp(a.bindingMarkup[0]+"(.*?)"+a.bindingMarkup[1],"mg");return b.replace(e,function(a,b){var e=c.exec(d,b.trim());return"string"==typeof e||"number"==typeof e?e:""})}return b}function g(c,d){var e=a.findScope(d);b.invoke(c.options.link,e,{scope:e,el:d,alias:c.alias})}function h(b,c){b&&(b.setAttribute(p,c.$id),a.elements[c.$id]=b,b.scope=c)}function i(a){for(var c,d=a.attributes,e=[],f=0,g=d.length;g>f;){c=d[f];var h=c?c.name.split("-").join(""):"",i=b.get(h);i&&e.push({options:b.invoke(i),alias:{name:c.name,value:a.getAttribute(c.name)}}),f+=1}return e}function j(a,b,c,e){var f=a.$new(c);return h(b,f),d(f,e),f}function k(b,c){if(3===b.nodeType){if(-1!==b.nodeValue.indexOf(a.bindingMarkup[0])&&!l(c,b)){var d=b.nodeValue;c.$watch(function(){return f(d,c)},function(a){b.nodeValue=a}),c.$w[0].node=b}}else!b.getAttribute(p)&&b.childNodes.length&&q(b.childNodes,k,c)}function l(a,b){for(var c=0,d=a.$w.length;d>c;){if(a.$w[c].node===b)return!0;c+=1}return!1}function m(a,b){q(a.childNodes,e,a);var c=i(a),d=[];if(c&&c.length&&(q(c,o,a,b,d),q(d,g,a)),a){b=a.scope||b;for(var f=0,h=a.children.length;h>f;)m(a.children[f],b),f+=1;a.getAttribute(p)&&n(a,b)}return a}function n(a,b){q(a.childNodes,k,b)}function o(a,b,c,d){!b.scope&&a.options.scope&&j(c,b,"object"==typeof a.options.scope,a.options.scope),d.push(a)}var p=a.name+"-id",q=utils.each;this.link=h,this.compile=m}return function(b,c,d){return new a(b,c,d)}}();!function(){debug.scopeDebugger=function(){function a(b,c){c=c||"$$watchers";var d,e=b[c].length,f={$id:b.$id},g=b.$$childHead;for(f[c]=e,f.childTotal=0,f._children=[];g;)d=a(g),f._children.push(d),f.childTotal+=d[c]+d.childTotal,g=g.$$nextSibling;return f}var b={};return b.count=a,b}()}(),directives.app=function(a){a.directive("app",function(){return{link:function(){}}}),utils.browser.ready(function(){var b=document.querySelector("["+a.name+"-app]");b&&a.bootstrap(b)})},directives.autoscroll=function(a){a.directive("autoscroll",function(){function b(a){var b=a.offsetHeight,c=getComputedStyle(a);return b+=parseInt(c.marginTop)+parseInt(c.marginBottom)}var c=window,d=function(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},e=function(a,b,c,e){return c>e?b:a+(b-a)*d(c/e)},f=function(a,b,d,f,g){f=f||500,d=parseInt(d);var h=Date.now(),i=c.requestAnimationFrame||c.mozRequestAnimationFrame||c.webkitRequestAnimationFrame||function(a){c.setTimeout(a,15)},j=function(){var c=Date.now()-h;a.scrollTop=e(b,d,c,f),c>f?"function"==typeof g&&g(a):i(j)};j()};return{link:function(c,d,e){var g=a.interpolate(c,e.value),h=d.querySelector("*");c.$watch(g.watch,function(){Date.now();setTimeout(function(){f(d,d.scrollTop,b(h)-b(d),g.duration)},10)})}}})},directives.class=function(a){a.directive("class",function(){var b=utils.query;return{link:function(c,d,e){var f=b(d);c.$watch(function(){var b=a.interpolate(c,e.value);for(var d in b)b[d]?f.addClass(d):f.removeClass(d)})}}})},directives.cloak=function(a){a.directive("cloak",function(){return{link:function(a,b,c){b.removeAttribute(c.name)}}})},directives.disabled=function(a){a.directive("disabled",function(){return{link:function(a,b,c){var d="disabled";a.$watch(c.value,function(a){a?b.setAttribute(d,d):b.removeAttribute(d)})}}})},function(){function a(a,b,c){a.attachEvent?a.attachEvent(e+b,a[b+c]):a.addEventListener(b,c,!1)}function b(a,b,c){for(var e=0;e<d.length;e++)d[e]||(b=b.toLowerCase()),a.addEventListener(d[e]+b,c,!1)}var c="click mousedown mouseup keydown keyup touchstart touchend touchmove".split(" "),d=["webkit","moz","MS","o",""],e="on",f="AnimationStart AnimationEnd".split(" ");directives.events=function(d){utils.each(f,function(a){d.set(a,function(){return{link:function(c,e,f){function g(a){return"a"===a.target.nodeName.toLowerCase()&&a.preventDefault(),c.$event=a,a.target===e&&(d.interpolate(c,f.value),c.$apply()),!1}b(e,a,g)}}},"event")}),utils.each(c,function(b){d.set(b,function(){return{link:function(c,e,f){function g(a){return"a"===a.target.nodeName.toLowerCase()&&a.preventDefault(),c.$event=a,d.interpolate(c,f.value),c.$apply(),!1}a(e,b,g)}}},"event")})}}(),directives.html=function(a){a.directive("html",function(){return{link:function(a,b,c){a.$watch(c.value,function(a){b.innerHTML=a||""})}}})},directives.ignore=function(a){a.directive("ignore",function(){return{scope:!0,link:function(a){a.$ignore(!0)}}})},directives.model=function(a){a.directive("model",function(){var a=utils.query;return{link:function(b,c,d){function e(){utils.parsers.resolve(b,d.value,c.value),b.$apply()}var f=a(c);b.$watch(d.value,function(a){c.value=a}),f.bind("change keyup blur input onpropertychange",e),b.$on("$destroy",function(){f.unbindAll()})}}})},directives.repeat=function(a){function b(a,b,c){c[b]=a&&a.trim()}a.set("repeat",function(){return{scope:!0,link:function(c,d,e){function f(b){for(var c,e,f=0,h=Math.max(b.length,d.children.length);h>f;)c=d.children[f],c||(c=a.addChild(d,g)),b[f]?(e=c.scope,e[i]=b[f],e.$index=f):c.scope.$destroy(),f+=1}var g=d.children[0].outerHTML;d.removeChild(d.children[0]);var h=e.value;h=utils.each.call({all:!0},h.split(/\s+in\s+/),b);var i=h[0],j=h[1];c.$watch(j,f,!0)}}})},directives.show=function(a){a.directive("show",function(){return{scope:!0,link:function(a,b,c){a.$watch(c.value,function(c){c?(a.$ignore(!1,!0),b.style.display=null):(a.$ignore(!0,!0),b.style.display="none")})}}})},directives.src=function(a){a.directive("src",function(){return{link:function(a,b,c){var d="src";a.$watch(c.value,function(a){a?b.setAttribute(d,a):b.removeAttribute(d)})}}})},directives.view=function(a){a.directive("view",function(){return{link:function(b,c,d){b.$watch(d.value,function(b){c.children.length&&a.removeChild(c.children[0]);var d=a.get(b);a.addChild(c,d)})}}})},errors.MESSAGES={E0:"",E1:"",E2:"",E3:"",E4:"",E5:"",E6a:"",E6b:""},errors.MESSAGES={E1:"Trying to assign multiple scopes to the same dom element is not permitted.",E2:"Unable to find element",E3:"Exceeded max digests of ",E4:"parent element not found in %o",E5:"property is not of type object",E6a:'Error evaluating: "',E6b:'" against %o',E7:"$digest already in progress."},filters.lower=function(a){a.filter("lower",function(){return function(a){return(a+"").toLowerCase()}})},filters.timeAgo=function(a){a.filter("timeAgo",function(){return function(a){a=new Date(a);var b=" ago",c=utils.formatters.toTimeAgo(a),d=c.interval;switch(c.ago){case"d":return d+" days"+b;case"h":return d+" hours"+b;case"m":return d+" mins"+b;case"s":return d+" secs"+b;default:return"just now"}}})},filters.upper=function(a){a.filter("upper",function(){return function(a){return(a+"").toUpperCase()}})};var injector=function(){function a(){function a(a,b){a.$inject||(a.$inject=f(a));var c=a.$inject?a.$inject.slice():[];return utils.each.call({all:!0},c,g,b),c}function b(a){var b;return a instanceof Array&&(b=a.pop(),b.$inject=a,a=b),a}function c(c,d,e){return c=b(c),c.apply(d,a(c,e))}function d(c,d){return c=b(c),e(c,a(c,d))}function e(a,b){function c(){return a.apply(this,b)}return c.prototype=a.prototype,new c}function f(a){var b=a.toString();return b.match(/\(.*\)/)[0].match(/([\$\w])+/gm)}function g(a,b,c,d){var e,f=j.get(a);void 0!==f?e=f:d&&d[a]&&(e=d[a]),c[b]=e}function h(a){return k[a.toLowerCase()]}function i(a,b){k[a.toLowerCase()]=b}var j=this,k={};j.getInjection=g,j.set=i,j.get=h,j.invoke=c,j.instantiate=d}return function(){return new a}}(),interpolator=function(){function a(a){function b(a){l=a}function c(a,b,c,d){d(a,'Error evaluating: "'+c+'" against %o',b)}function d(a,b){var c,d=0,f=[],g=0;for(a=a.replace(/('|").*?\1/g,function(a){var b="*"+d;return f.push(a),d+=1,b}),a=a.replace(/(\.?[a-zA-Z\$\_]+\w?\b)(?!\s?\:)/g,function(a){return"."===a.charAt(0)?a:e(a,b)}),c=f.length;c>g;)a=a.split("*"+g).join(f[g]),g+=1;return a}function e(a,b){a=a.trim();for(var c=[j];b&&void 0===b[a];)b=b.$parent,c.push("$parent");return b&&b[a]?c.join(".")+"."+a:j+"."+a}function f(b,c){if(-1!==b.indexOf("|")&&b.match(/\w+\s?\|\s?\w+/)){b=b.replace("||","~~");var d=b.trim().split("|");d[1]=d[1].replace("~~","||"),k.call({all:!0},d,h),d[1]=d[1].split(":");var e,f=d[1].shift(),g=a.get(f);return g?(e=d[1],k(e,a.getInjection,c),{filter:function(b){return e.unshift(b),a.invoke(g,c,{alias:f}).apply(c,e)},str:d[0]}):d[0]}return void 0}function g(a,b){var e,g,h=Function;return b=utils.formatters.stripLineBreaks(b),b=utils.formatters.stripExtraSpaces(b),g=f(b,a),g&&(b=g.str),b=d(b,a),e=new h("var result; try { result = "+b+"; } catch(er) { result = er; } finally { return result; }").apply(a),e?("object"==typeof e&&(e.hasOwnProperty("stack")||e.hasOwnProperty("stacktrace")||e.hasOwnProperty("backtrace"))&&c(e,a,b,l),e+""=="NaN"&&(e="")):e="",g?g.filter(e):e}function h(a,b,c){c[b]=a&&a.trim()}var i=this,j="this",k=utils.each,l=function(a,b,c){window.console&&console.warn&&console.warn(b+"\n"+a.message+"\n"+(a.stack||a.stacktrace||a.backtrace),c)};i.exec=g,i.setErrorHandler=b}return function(b){return new a(b)}}(),module=function(){function a(a){function b(a){return w(n.name+a)}function c(a,b){x(n.name+a,b)}function d(a){return a?a.scope?a.scope:d(a.parentNode):null}function e(a){a&&(this.element(a),this.ready())}function f(a,b){if(a!==o&&o.contains&&!o.contains(a))throw new Error("parent element not found in %o",o);a.insertAdjacentHTML("beforeend",utils.formatters.stripHTMLComments(b));var c=d(a),e=a.children[a.children.length-1];return t.link(e,c.$new()),u(e,c),e}function g(b){var c;b.scope?b.scope.$destroy():(c=b.querySelectorAll(a+"-id"),utils.each(c,g)),b.remove()}function h(a){return"undefined"!=typeof a&&(o=a,t.link(o,p),u(o,p)),o}function i(a,b){return x(a,r.instantiate(["$rootScope",b]))}function j(a,b){var c,d=b.split(" ");for(var e in d)c=d[e],a.hasOwnProperty(c)&&a[c](this)}function k(a){j.apply(n,[directives,a])}function l(a){j.apply(n,[filters,a])}function m(){for(;q.length;)r.invoke(q.shift(),n);p.$apply()}var n=this;n.name=a;var o,p=exports.scope(),q=[],r=exports.injector(),s=exports.interpolator(r),t=exports.compiler(n,r,s),u=t.compile,v=s.exec,w=r.get,x=r.set;r.set("$rootScope",p),p.interpolate=function(a,b,c){return"function"==typeof b?b(a,c):v(a,b)},n.bindingMarkup=[":=","=:"],n.elements={},n.bootstrap=e,n.findScope=d,n.addChild=f,n.removeChild=g,n.interpolate=v,n.element=h,n.get=b,n.set=c,n.directive=c,n.filter=x,n.template=c,n.useDirectives=k,n.useFilters=l,n.service=i,n.ready=m}var b={};return function(c,d){return b[c]=!d&&b[c]||new a(c)}}(),scope=function(){function a(a){return Array[f].slice.call(a,0)||[]}function b(a,b){for(var c=!0,d=0,e=a.length;e>d;)b(a[d])||(c=!1),d+=1;return c}function c(){return(i++).toString(36)}function d(){}function e(){var a=this;a.$id=c(),a.$w=[],a.$lw=null,a.$aQ=[],a.$pQ=[],a.$r=a,a.$c=[],a.$l={},a.$ph=null}var f="prototype",g="error",h=console,i=1,j=e.prototype;return j.$watch=function(a,b,c){var e,f=this;e="string"==typeof a?function(){return f.interpolate(f,a)}:a;var g={watchFn:e,listenerFn:b||function(){},deep:!!c,last:d};return f.$w.unshift(g),f.$r.$lw=null,f.$lw=null,function(){var a=f.$w.indexOf(g);a>=0&&(f.$w.splice(a,1),f.$r.$lw=null)}},j.$$digestOnce=function(){var a=!1,b=!0,c=this;return c.$$scopes(function(c){if(c.$$ignore)return!0;for(var e,f,g,h=c.$w.length;h--;)if(g=c.$w[h])if(e=g.watchFn(c),f=g.last,c.$$areEqual(e,f,g.deep)){if(c.$r.$lw===g)return b=!1,!1}else c.$r.$lw=g,g.last=g.deep?JSON.stringify(e):e,g.listenerFn(e,f===d?e:f,c),a=!0;return b}),a},j.$digest=function(){var a,b=10,c=this;c.$r.$lw=null,c.$beginPhase("$digest");do{for(;c.$aQ.length;)try{var d=c.$aQ.shift();d.scope.$eval(d.exp)}catch(e){h[g](e)}if(a=c.$$digestOnce(),(a||c.$aQ.length)&&!b--)throw c.$clearPhase(),"10its"}while(a||c.$aQ.length);for(;c.$pQ.length;)try{c.$pQ.shift()()}catch(e){h[g](e)}c.$clearPhase()},j.$$areEqual=function(a,b,c){return c?JSON.stringify(a)===b:a===b||"number"==typeof a&&"number"==typeof b&&isNaN(a)&&isNaN(b)},j.$eval=function(a,b){return this.interpolate(a,this,b)},j.$apply=function(a){var b=this;try{if(b.$beginPhase("$apply"),a)return b.$eval(a)}finally{b.$clearPhase(),b.$r.$digest()}},j.$evalAsync=function(a){var b=this;b.$ph||b.$aQ.length||setTimeout(function(){b.$aQ.length&&b.$r.$digest()},0),b.$aQ.push({scope:b,exp:a})},j.$beginPhase=function(a){var b=this;b.$ph||(b.$ph=a)},j.$clearPhase=function(){this.$ph=null},j.$$postDigest=function(a){this.$pQ.push(a)},j.$new=function(a){var b,d=this;if(a)b=new e,b.$r=d.$r,b.$aQ=d.$aQ,b.$pQ=d.$pQ;else{var f=function(){};f.prototype=d,b=new f}return d.$c.push(b),b.$id=c(),b.$w=[],b.$l={},b.$c=[],b.$p=d,b},j.$ignore=function(a,c){var d=this;b(d.$c,function(b){b.$$ignore=a}),c||(d.$$ignore=a)},j.$$scopes=function(a){var c=this;return a(c)?b(c.$c,function(b){return b.$$scopes(a)}):!1},j.$destroy=function(){var a=this;if(a!==a.$r){var b=a.$p.$c,c=b.indexOf(a);c>=0&&(a.$broadcast("$destroy"),b.splice(c,1))}},j.$on=function(a,b){var c=this,d=c.$l[a];return d||(c.$l[a]=d=[]),d.push(b),function(){var a=d.indexOf(b);a>=0&&(d[a]=null)}},j.$emit=function(b){var c=this;if(!c.$$ignore||"$destroy"===c.eventName){var d=!1,e={name:b,targetScope:c,stopPropagation:function(){d=!0},preventDefault:function(){e.defaultPrevented=!0}},f=a(arguments);f.shift();var g=[e].concat(f),h=c;do e.currentScope=h,h.$$fire(b,g),h=h.$p;while(h&&!d);return e}},j.$broadcast=function(b){var c=this;if(!c.$$ignore||"$destroy"===c.eventName){var d={name:b,targetScope:c,preventDefault:function(){d.defaultPrevented=!0}},e=a(arguments);e.shift();var f=[d].concat(e);return c.$$scopes(function(a){return d.currentScope=a,a.$$fire(b,f),!0}),d}},j.$$fire=function(a,b){for(var c=this.$l[a]||[],d=0;d<c.length;)null===c[d]?c.splice(d,1):(c[d].apply(null,b),d++);return event},function(){return new e}}();Array.prototype.indexOf||(Array.prototype.indexOf=function(a){for(var b=0,c=this.length;c>b;){if(a===this[b])return b;b+=1}return-1}),Array.prototype.isArray=!0,Object.defineProperty(Array.prototype,"isArray",{enumerable:!1,writable:!0}),Date.prototype.toISOString||!function(){function a(a){return 10>a?"0"+a:a}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}}(),String.prototype.supplant||(String.prototype.supplant=function(a){return this.replace(/{([^{}]*)}/g,function(b,c){var d=a[c];return"string"==typeof d||"number"==typeof d?d:b})}),function(){return String.prototype.trim?void 0:function(a){return utils.validators.isString(a)?a.replace(/^\s\s*/,"").replace(/\s\s*$/,""):a}}(),"console"in window||(window.console={isOverride:!0,log:function(){},warn:function(){},info:function(){},error:function(){}}),utils.ajax.cors=function(){function a(a){this.init(a)}var b=window,c=function(){var a;return b.XMLHttpRequest&&"withCredentials"in new b.XMLHttpRequest?a=b.XMLHttpRequest:b.XDomainRequest&&(a=b.XDomainRequest),a}(),d=["head","get","post","put","delete"],e=0,f=d.length,g={};for(a.prototype.init=function(a){var b=this;return b.xhr=new c,b.method=a.method,b.url=a.url,b.success=a.success,b.error=a.error,b.params=JSON.stringify(a.params),b.headers=a.headers,a.credentials===!0&&(b.xhr.withCredentials=!0),b.send(),b},a.prototype.send=function(){var a=this;return void 0!==a.success&&(a.xhr.onload=function(){a.success.call(this,this.responseText)}),void 0!==a.error&&(a.xhr.error=function(){a.error.call(this,this.responseText)}),a.xhr.open(a.method,a.url,!0),void 0!==a.headers&&a.setHeaders(),a.xhr.send(a.params,!0),a},a.prototype.setHeaders=function(){var a,b=this,c=b.headers;for(a in c)c.hasOwnProperty(a)&&b.xhr.setRequestHeader(a,c[a]);return b},e;f>e;e+=1)!function(){var b=d[e];g[b]=function(c,d){var e={};if(void 0===c)throw new Error("CORS: url must be defined");return"object"==typeof c?e=c:("function"==typeof d&&(e.success=d),e.url=c),e.method=b.toUpperCase(),new a(e).xhr}}();return g}(),utils.async.defer=function(a){function b(a){j(function(){throw a})}function c(b){return this.then(b,a)}function d(b){return this.then(a,b)}function e(b,c){return this.then(function(a){return k(b)?b.apply(null,l(a)?a:[a]):t.onlyFuncs?a:b},c||a)}function f(a){function b(){a()}return this.then(b,b),this}function g(a){return this.then(function(b){return k(a)?a.apply(null,l(b)?b.splice(0,0,void 0)&&b:[void 0,b]):t.onlyFuncs?b:a},function(b){return a(b)})}function h(c){return this.then(a,c?function(a){throw c(a),a}:b)}function i(a,b){var c=o(a);if(1===c.length&&l(c[0])){if(!c[0].length)return t.fulfilled([]);c=c[0]}var d=[],e=t(),f=c.length;if(f)for(var g=(function(a){c[a]=t.promisify(c[a]),c[a].then(function(g){a in d||(d[a]=b?c[a]:g,--f||e.resolve(d))},function(g){a in d||(b?(d[a]=c[a],--f||e.resolve(d)):e.reject(g))})}),h=0,i=f;i>h;h++)g(h);else e.resolve(d);return e.promise}var j,k=function(a){return"function"==typeof a},l=function(a){return Array.isArray?Array.isArray(a):a instanceof Array},m=function(a){return!(!a||!(typeof a).match(/function|object/))},n=function(b){return b===!1||b===a||null===b},o=function(a,b){return[].slice.call(a,b)},p="undefined",q=typeof TypeError===p?Error:TypeError;if(typeof process!==p&&process.nextTick)j=process.nextTick;else if(typeof MessageChannel!==p){var r=new MessageChannel,s=[];r.port1.onmessage=function(){s.length&&s.shift()()},j=function(a){s.push(a),r.port2.postMessage(0)}}else j=function(a){setTimeout(a,0)};var t=function(b){function i(){if(0!==s){var a,b=u,c=0,d=b.length,e=~s?0:1;for(u=[];d>c;c++)(a=b[c][e])&&a(p)}}function l(a){function b(a){return function(b){return c?void 0:(c=!0,a(b))}}var c=!1;if(s)return this;try{var d=m(a)&&a.then;if(k(d)){if(a===v)throw new q("Promise can't resolve itself");return d.call(a,b(l),b(o)),this}}catch(e){return b(o)(e),this}return r(function(){p=a,s=1,i()}),this}function o(a){return s||r(function(){try{throw a}catch(b){p=b}s=-1,i()}),this}var p,r=(a!==b?b:t.alwaysAsync)?j:function(a){a()},s=0,u=[],v={then:function(a,b){var c=t();return u.push([function(b){try{c.resolve(n(a)?b:k(a)?a(b):t.onlyFuncs?b:a)}catch(d){c.reject(d)}},function(a){if((n(b)||!k(b)&&t.onlyFuncs)&&c.reject(a),b)try{c.resolve(k(b)?b(a):b)}catch(d){c.reject(d)}}]),0!==s&&r(i),c.promise},success:c,error:d,otherwise:d,apply:e,spread:e,ensure:f,nodify:g,rethrow:h,isPending:function(){return!(0!==s)},getStatus:function(){return s}};return v.toSource=v.toString=v.valueOf=function(){return p===a?this:p},{promise:v,resolve:l,fulfill:l,reject:o}};return t.deferred=t.defer=t,t.nextTick=j,t.alwaysAsync=!0,t.onlyFuncs=!0,t.resolved=t.fulfilled=function(a){return t(!0).resolve(a).promise},t.rejected=function(a){return t(!0).reject(a).promise},t.wait=function(a){var b=t();return setTimeout(b.resolve,a||0),b.promise},t.delay=function(a,b){var c=t();return setTimeout(function(){try{c.resolve(a.apply(null))}catch(b){c.reject(b)}},b||0),c.promise},t.promisify=function(a){return a&&k(a.then)?a:t.resolved(a)},t.all=function(){return i(arguments,!1)},t.resolveAll=function(){return i(arguments,!0)},t.nodeCapsule=function(a,b){return b||(b=a,a=void 0),function(){var c=t(),d=o(arguments);d.push(function(a,b){a?c.reject(a):c.resolve(arguments.length>2?o(arguments,1):b)});try{b.apply(a,d)}catch(e){c.reject(e)}return c.promise}},t}(),utils.async.dispatcher=function(a,b,c){function d(a,b){var c,d;d=j[a],d&&(b?(c=d.indexOf(b),-1!==c&&d.splice(c,1)):d.length=0)}function e(a,b){return j[a]=j[a]||[],j[a].push(b),function(){d(a,b)}}function f(c,f){function g(){d(c,g),f.apply(b||a,arguments)}return e(c,g)}function g(a){return j[a]}function h(b,c){return b&&b.apply(a,c)}function i(a){if(j[a])for(var b=0,c=j[a],d=c.length;d>b;)h(c[b],arguments),b+=1}var j={};b&&c?(a.on=b[c.on]&&b[c.on].bind(b),a.off=b[c.off]&&b[c.off].bind(b),a.once=b[c.once]&&b[c.once].bind(b),a.dispatch=b[c.dispatch].bind(b)):(a.on=e,a.off=d,a.once=f,a.dispatch=i),a.getListeners=g},utils.async.waterfall=function(a,b,c){function d(){if(b.length){var a=b.shift();a.apply(null,utils.formatters.toArgsArray(arguments).concat(d))}else{var e=utils.formatters.toArgsArray(arguments);e.unshift(null),c&&c.apply(null,e)}}a=a||[],d.apply(null,a.concat(d))},utils.browser.cookie=function(){var a=function(){return a.get.apply(a,arguments)},b=a.utils={isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isPlainObject:function(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)},toArray:function(a){return Array.prototype.slice.call(a)},getKeys:Object.keys||function(a){var b=[],c="";for(c in a)a.hasOwnProperty(c)&&b.push(c);return b},escape:function(a){return String(a).replace(/[,;"\\=\s%]/g,function(a){return encodeURIComponent(a)})},retrieve:function(a,b){return null===a?b:a}};return a.defaults={},a.expiresMultiplier=86400,a.set=function(a,c,d){if(b.isPlainObject(a))for(var e in a)a.hasOwnProperty(e)&&this.set(e,a[e],c);else{d=b.isPlainObject(d)?d:{expires:d};var f=void 0!==d.expires?d.expires:this.defaults.expires||"",g=typeof f;"string"===g&&""!==f?f=new Date(f):"number"===g&&(f=new Date(+new Date+1e3*this.expiresMultiplier*f)),""!==f&&"toGMTString"in f&&(f=";expires="+f.toGMTString());var h=d.path||this.defaults.path;h=h?";path="+h:"";var i=d.domain||this.defaults.domain;i=i?";domain="+i:"";var j=d.secure||this.defaults.secure?";secure":"";document.cookie=b.escape(a)+"="+b.escape(c)+f+h+i+j}return this},a.remove=function(a){a=b.isArray(a)?a:b.toArray(arguments);for(var c=0,d=a.length;d>c;c++)this.set(a[c],"",-1);return this},a.empty=function(){return this.remove(b.getKeys(this.all()))},a.get=function(a,c){c=c||void 0;var d=this.all();if(b.isArray(a)){for(var e={},f=0,g=a.length;g>f;f++){var h=a[f];e[h]=b.retrieve(d[h],c)}return e}return b.retrieve(d[a],c)},a.all=function(){if(""===document.cookie)return{};for(var a=document.cookie.split("; "),b={},c=0,d=a.length;d>c;c++){var e=a[c].split("=");b[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return b},a.enabled=function(){if(navigator.cookieEnabled)return!0;var b="_"===a.set("_","_").get("_");return a.remove("_"),b},a}(),utils.browser.localStorage=function(){function a(){try{return"localStorage"in window&&null!==window.localStorage}catch(a){return h.dispatch(h.events.ERROR,a.Description),!1}}function b(){try{var b,c=a(),d="__localStorageSupportTest__";if(c)return b=Date.now().toString(),localStorage.setItem(d,b),localStorage.getItem(d)===b}catch(e){return h.dispatch(h.events.ERROR,e.Description),!1}}function c(b,c){if(!a())return h.dispatch(h.events.WARNING,h.UNSUPPORTED),!1;if(!c&&0!==c&&""!==c)return!1;try{localStorage.setItem(j+b,JSON.stringify(c))}catch(d){return h.dispatch(h.events.ERROR,d.Description),!1}return!0}function d(b){if(!a())return h.dispatch(h.events.WARNING,h.UNSUPPORTED),!1;var c=localStorage.getItem(j+b);return c?JSON.parse(c):null}function e(b){if(!a())return h.dispatch(h.events.WARNING,h.UNSUPPORTED),!1;try{localStorage.removeItem(j+b)}catch(c){return h.dispatch(h.events.ERROR,c.Description),!1}return!0}function f(b){if(!a())return h.dispatch(h.events.WARNING,h.UNSUPPORTED),!1;var c,e=j+(b||""),f=e.length,g=j.length,i={};for(var k in localStorage)localStorage.hasOwnProperty(k)&&k.substr(0,f)===e&&(c=k.substr(g),i[c]=d(c));return i}function g(b){if(!a())return h.dispatch(h.events.WARNING,h.UNSUPPORTED),!1;var c=j.length;for(var d in localStorage)if(localStorage.hasOwnProperty(d)&&d.substr(0,c)===j&&(!b||d.substr(c).match(b)))try{e(d.substr(c))}catch(f){return h.dispatch(h.events.ERROR,f.Description),!1}return!0}var h={events:{WARNING:"localStorage:warning",ERROR:"localStorage:error"},UNSUPPORTED:"LOCAL_STORAGE_NOT_SUPPORTED"},i="global",j=i+":";return h.prefix=function(a){return void 0!==a&&(i=a,j=i+":"),i},h.isSupported=a,h.enabled=b,h.put=c,h.get=d,h.getAll=f,h.remove=e,h.clearAll=g,utils.async.dispatcher(h),h}(),function(){function a(){for(var a=0,c=b.length;c>a;)b[a](),a+=1;b.length=0}var b=[],c=window,d=document,e="addEventListener",f="removeEventListener",g="attachEvent",h="detachEvent",i="DOMContentLoaded",j="onreadystatechange",k="complete",l="readyState";utils.browser.ready=function(a){b.push(a)};var m;d[e]?m=function(){d[f](i,m,!1),a()}:d.attachEvent&&(m=function(){d[l]===k&&(d[h](j,m),a())}),d[l]===k&&setTimeout(a,1),d[e]?(d[e](i,m,!1),c[e]("load",a,!1)):d[g]&&(d[g](j,m),c[g]("onload",a))}(),utils.color.colorPercent=function(a,b){function c(a){var b,c,d,e,f,g,i,j=0,k=h.length;for(a>=1&&(j=k);k>j;){if(a<=h[j].pct)return b=0===j?h[j]:h[j-1],c=0===j?h[j+1]:h[j],d=c.pct-b.pct,e=(a-b.pct)/d,f=1-e,g=e,i={r:Math.floor(b.color.r*f+c.color.r*g),g:Math.floor(b.color.g*f+c.color.g*g),b:Math.floor(b.color.b*f+c.color.b*g)};j+=1}return i=h[h.length-1].color}function d(a){return"rgb("+[a.r,a.g,a.b].join(",")+")"}function e(a){var b=c(a);return d(b)}var f=0,g=a?a.length:0,h=[],i=[{pct:0,color:{r:0,g:153,b:0}},{pct:.5,color:{r:255,g:255,b:0}},{pct:1,color:{r:255,g:0,b:0}}];if(a&&b)for(;g>f;)h.push(a[f],b[f]),f+=1;else h=a?a:i;return{getRGB:c,getRGBStr:e,convertRGBToStr:d}},utils.crypt.md5=function(){function a(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function b(a,b){return a<<b|a>>>32-b}function c(c,d,e,f,g,h){return a(b(a(a(d,c),a(f,h)),g),e)}function d(a,b,d,e,f,g,h){return c(b&d|~b&e,a,b,f,g,h)}function e(a,b,d,e,f,g,h){return c(b&e|d&~e,a,b,f,g,h)}function f(a,b,d,e,f,g,h){return c(b^d^e,a,b,f,g,h)}function g(a,b,d,e,f,g,h){return c(d^(b|~e),a,b,f,g,h)}function h(b,c){b[c>>5]|=128<<c%32,b[(c+64>>>9<<4)+14]=c;var h,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(h=0;h<b.length;h+=16)i=m,j=n,k=o,l=p,m=d(m,n,o,p,b[h],7,-680876936),p=d(p,m,n,o,b[h+1],12,-389564586),o=d(o,p,m,n,b[h+2],17,606105819),n=d(n,o,p,m,b[h+3],22,-1044525330),m=d(m,n,o,p,b[h+4],7,-176418897),p=d(p,m,n,o,b[h+5],12,1200080426),o=d(o,p,m,n,b[h+6],17,-1473231341),n=d(n,o,p,m,b[h+7],22,-45705983),m=d(m,n,o,p,b[h+8],7,1770035416),p=d(p,m,n,o,b[h+9],12,-1958414417),o=d(o,p,m,n,b[h+10],17,-42063),n=d(n,o,p,m,b[h+11],22,-1990404162),m=d(m,n,o,p,b[h+12],7,1804603682),p=d(p,m,n,o,b[h+13],12,-40341101),o=d(o,p,m,n,b[h+14],17,-1502002290),n=d(n,o,p,m,b[h+15],22,1236535329),m=e(m,n,o,p,b[h+1],5,-165796510),p=e(p,m,n,o,b[h+6],9,-1069501632),o=e(o,p,m,n,b[h+11],14,643717713),n=e(n,o,p,m,b[h],20,-373897302),m=e(m,n,o,p,b[h+5],5,-701558691),p=e(p,m,n,o,b[h+10],9,38016083),o=e(o,p,m,n,b[h+15],14,-660478335),n=e(n,o,p,m,b[h+4],20,-405537848),m=e(m,n,o,p,b[h+9],5,568446438),p=e(p,m,n,o,b[h+14],9,-1019803690),o=e(o,p,m,n,b[h+3],14,-187363961),n=e(n,o,p,m,b[h+8],20,1163531501),m=e(m,n,o,p,b[h+13],5,-1444681467),p=e(p,m,n,o,b[h+2],9,-51403784),o=e(o,p,m,n,b[h+7],14,1735328473),n=e(n,o,p,m,b[h+12],20,-1926607734),m=f(m,n,o,p,b[h+5],4,-378558),p=f(p,m,n,o,b[h+8],11,-2022574463),o=f(o,p,m,n,b[h+11],16,1839030562),n=f(n,o,p,m,b[h+14],23,-35309556),m=f(m,n,o,p,b[h+1],4,-1530992060),p=f(p,m,n,o,b[h+4],11,1272893353),o=f(o,p,m,n,b[h+7],16,-155497632),n=f(n,o,p,m,b[h+10],23,-1094730640),m=f(m,n,o,p,b[h+13],4,681279174),p=f(p,m,n,o,b[h],11,-358537222),o=f(o,p,m,n,b[h+3],16,-722521979),n=f(n,o,p,m,b[h+6],23,76029189),m=f(m,n,o,p,b[h+9],4,-640364487),p=f(p,m,n,o,b[h+12],11,-421815835),o=f(o,p,m,n,b[h+15],16,530742520),n=f(n,o,p,m,b[h+2],23,-995338651),m=g(m,n,o,p,b[h],6,-198630844),p=g(p,m,n,o,b[h+7],10,1126891415),o=g(o,p,m,n,b[h+14],15,-1416354905),n=g(n,o,p,m,b[h+5],21,-57434055),m=g(m,n,o,p,b[h+12],6,1700485571),p=g(p,m,n,o,b[h+3],10,-1894986606),o=g(o,p,m,n,b[h+10],15,-1051523),n=g(n,o,p,m,b[h+1],21,-2054922799),m=g(m,n,o,p,b[h+8],6,1873313359),p=g(p,m,n,o,b[h+15],10,-30611744),o=g(o,p,m,n,b[h+6],15,-1560198380),n=g(n,o,p,m,b[h+13],21,1309151649),m=g(m,n,o,p,b[h+4],6,-145523070),p=g(p,m,n,o,b[h+11],10,-1120210379),o=g(o,p,m,n,b[h+2],15,718787259),n=g(n,o,p,m,b[h+9],21,-343485551),m=a(m,i),n=a(n,j),o=a(o,k),p=a(p,l);return[m,n,o,p]}function i(a){var b,c="";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function j(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function k(a){return i(h(j(a),8*a.length))}function l(a,b){var c,d,e=j(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=h(e,8*a.length)),c=0;16>c;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=h(f.concat(j(b)),512+8*b.length),i(h(g.concat(d),640))}function m(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function n(a){return unescape(encodeURIComponent(a))}function o(a){return k(n(a))}function p(a){return m(o(a))}function q(a,b){return l(n(a),n(b))}function r(a,b){return m(q(a,b))}function s(a,b,c){return b?c?q(b,a):r(b,a):c?o(a):p(a)}return s}(),utils.data.aggregate=function(a,b){for(var c=0,d=a.length,e=[],f={};d>c;)b(f,a[c]),c+=1;for(c in f)f.hasOwnProperty(c)&&e.push(f[c]);return e},data.aggregate.hour=function(a){var b;return function(c,d){b=d[a].getHours(),c[b]=c[b]||{date:d[a].getTime(),value:0},c[b].value+=1}},data.aggregate.minute=function(a){var b;this.format=function(c,d){b=d[a].getMinutes(),c[b]=c[b]||{date:d[a].getTime(),value:0},c[b].value+=1}},utils.data.array.sort=function(a,b){var c,d,e,f,g;for(b||(b=function(a,b){return a>b?1:b>a?-1:0}),d=a.length,f=d-1,c=0;d>c;c+=1)for(e=0;f>e;e+=1)b(a[e],a[e+1])>0&&(g=a[e+1],a[e+1]=a[e],a[e]=g);return a},utils.data.array.sortOn=function(a,b,c){c=c?1:0;var d=function(a,d){return c?d[b]>a[b]?1:a[b]>d[b]?-1:0:d[b]<a[b]?1:a[b]<d[b]?-1:0};return data.array.sort(a,d)},utils.data.cache=function(){var a,b;return b={},a=function(){var a=[];this.set=function(b,c){return a[b]=c,c},this.get=function(b,c){return utils.validators.has(a,b)?a[b]:c},this.getCopy=function(a,b,c){var d=this.get(a,b,c);return d.copy(d)},this.merge=function(b,c){return a[b]=a[b]?extend(a[b],c):c,a[b]},this.keys=function(){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b},this.all=function(){return a},this.has=function(b){return utils.validators.has(a,b)},this.remove=function(b){delete a[b]},this.clear=function(){a={}},this.inc=function(b){var c=b+"Counter";return a[c]||(a[c]=0),a[c]+=1,a[c]},this.dec=function(b){var c=b+"Counter";return a[c]||(a[c]=0),a[c]-=1,a[c]}},function(c){return c=c||"__default__",b[c]||(b[c]=new a),b[c]
}},utils.data.copy=function(a,b,c,d){if(utils.validators.isWindow(a))throw Error("Can't copy! Making copies of Window instances is not supported.");if(b){if(a===b)throw Error("Can't copy! Source and destination are identical.");if(c=c||[],d=d||[],utils.validators.isObject(a)){var e=c.indexOf(a);if(-1!==e)return d[e];c.push(a),d.push(b)}var f;if(utils.validators.isArray(a)){b.length=0;for(var g=0;g<a.length;g++)f=data.copy(a[g],null,c,d),utils.validators.isObject(a[g])&&(c.push(a[g]),d.push(f)),b.push(f)}else{forEach(b,function(a,c){delete b[c]});for(var h in a)f=data.copy(a[h],null,c,d),utils.validators.isObject(a[h])&&(c.push(a[h]),d.push(f)),b[h]=f}}else b=a,a&&(utils.validators.isArray(a)?b=data.copy(a,[],c,d):utils.validators.isDate(a)?b=new Date(a.getTime()):utils.validators.isRegExp(a)?b=new RegExp(a.source):utils.validators.isObject(a)&&(b=data.copy(a,{},c,d)));return b},utils.data.diff=function(a,b){var c,d={};for(var e in b)if(e in a)if(utils.validators.isDate(b[e]))c=utils.validators.isDate(a[e])?a[e].toISOString():a[e],b[e].toISOString()!==c&&(d[e]=b[e]);else if(utils.validators.isObject(b[e])&&!utils.validators.isArray(b[e])){var f=data.diff(a[e],b[e]);utils.validators.isEmpty(f)||(d[e]=f)}else utils.validators.isEqual(a[e],b[e])||(d[e]=b[e]);else d[e]=b[e];return utils.validators.isEmpty(d)?null:d},utils.data.filter=function(a,b){var c,d,e,f=0,g=[];if(arguments.length>2&&(d=Array.prototype.slice.apply(arguments),d.splice(0,2)),a&&a.length)for(c=a.length;c>f;)e=b.apply(null,[a[f],f,a].concat(d)),e&&g.push(a[f]),f+=1;else for(f in a)a.hasOwnProperty(f)&&(e=b.apply(null,[a[f],f,a].concat(d)),e&&g.push(a[f]));return g},utils.data.memory={getSize:function(a){return this.getBytesSize(this.sizeOfObject(a))},sizeOfObject:function(a,b){void 0==b&&(b=0);var c,d=0;if(null===a||void 0===a)d=0;else if("boolean"==typeof a)d=4;else if("string"==typeof a)d=2*a.length;else if("number"==typeof a)d=8;else if("object"==typeof a){if(a.__visited__)return 0;a.__visited__=1;for(c in a)a.hasOwnProperty(c)&&(d+=2*c.length,d+=8,d+=this.sizeOfObject(a[c],1))}return 0==b&&this._clearReferenceTo(a),d},_clearReferenceTo:function(a){if(a&&"object"==typeof a){delete a.__visited__;for(var b in a)this._clearReferenceTo(a[b])}},getBytesSize:function(a){return a>1024&&1048576>a?(a/1024).toFixed(2)+"K":a>1048576&&1073741824>a?(a/1048576).toFixed(2)+"M":a>1073741824?(a/1073741824).toFixed(2)+"G":a.toString()}},utils.data.shallowCopy=function(a,b,c){if(utils.validators.isArray(a)){b=b||[];for(var d=0;d<a.length;d++)b[d]=a[d]}else if(utils.validators.isObject(a)){b=b||{};for(var e in a)!hasOwnProperty.call(a,e)||e.charAt(0)===c&&e.charAt(1)===c||(b[e]=a[e])}return b||a},utils.data.size=function(a,b){var c,d=0;if(utils.validators.isArray(a)||utils.validators.isString(a))return a.length;if(utils.validators.isObject(a))for(c in a)(!b||a.hasOwnProperty(c))&&d++;return d},utils.data.uuid=function(a){return(a||"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx").replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:3&b|8).toString(16)})},utils.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments;clearTimeout(d),d=setTimeout(function(){d=null,c||a.apply(e,f)},b),c&&!d&&a.apply(e,f)}},function(){var a,b=function(){this.alignRectangles=function(a,b){for(var c=a.bottom(),d=b.length;d--;)b[d].y(c)}},c=function(){this.alignRectangles=function(a,b){for(var c=a.bottom(),d=a.left(),e=b.length;e--;){var f=b[e];f.x(d-f.width()),f.y(c)}}},d=function(){this.alignRectangles=function(a,b){for(var c=a.bottom(),d=a.right(),e=b.length;e--;){var f=b[e];f.x(d),f.y(c)}}},e=function(){this.alignRectangles=function(a,b){for(var c=a.left()+.5*a.width(),d=b.length;d--;)b[d].x(c-b[d].width())}},f=function(){this.alignRectangles=function(a,b){for(var c=a.left()+.5*a.width(),d=b.length;d--;)b[d].x(c)}},g=function(){this.alignRectangles=function(a,b){for(var c=a.left(),d=b.length;d--;)b[d].x(c-b[d].width())}},h=function(){this.alignRectangles=function(a,b){for(var c=a.right(),d=b.length;d--;)b[d].x(c)}},i=function(){this.alignRectangles=function(a,b){for(var c=a.top(),d=b.length;d--;)b[d].y(c-b[d].height())}},j=function(){this.alignRectangles=function(a,b){for(var c=a.top(),d=a.left(),e=b.length;e--;){var f=b[e];f.x(d-f.width()),f.y(c-f.height())}}},k=function(){this.alignRectangles=function(a,b){for(var c=a.top(),d=a.right(),e=b.length;e--;){var f=b[e];f.x(d),f.y(c-f.height())}}},l=function(){this.alignRectangles=function(a,b){for(var c=a.centerY(),d=b.length;d--;)b[d].y(c)}},m=function(){this.alignRectangles=function(a,b){for(var c=a.centerY(),d=b.length;d--;)b[d].y(c-b[d].height())}},n=function(){this.alignRectangles=function(a,b){for(var c=a.bottom(),d=b.length;d--;)b[d].val("y",c-b[d].height)}},o=function(){this.alignRectangles=function(a,b){for(var c=a.bottom(),d=a.left(),e=b.length;e--;)b[e].x(d),b[e].y(c-b[e].height())}},p=function(){this.alignRectangles=function(a,b){for(var c=a.bottom(),d=a.right(),e=b.length;e--;){var f=b[e];f.x(d-f.width()),f.y(c-f.height())}}},q=function(){this.alignRectangles=function(a,b){for(var c=a.centerX(),d=a.centerY(),e=b.length;e--;){var f=b[e];f.x(c-.5*f.width()),f.y(d-.5*f.height())}}},r=function(){this.alignRectangles=function(b,c){c=c.concat(),c.sort(a.sortRectBottom);for(var d=c.length,e=b.top()+c[0].bounds.height,f=(b.bottom()-e)/(d-1);d--;)c[d].val("y",e-c[d].bounds.height+f*d)}},s=function(){this.alignRectangles=function(b,c){c=c.concat(),c=c.sort(a.sortRectCenterX);for(var d=c.length,e=b.left()+.5*c[0].bounds.width,f=b.right()-.5*c[c.length-1].width,g=(f-e)/(d-1);d--;)c[d].val("x",e-.5*c[d].bounds.width+g*d)}},t=function(){this.alignRectangles=function(b,c){c=c.concat(),c=c.sort(a.sortRectLeft);for(var d=b.left(),e=(b.width-c[c.length-1].bounds.width)/(c.length-1),f=c.length;f--;)c[f].val("x",d+e*f)}},u=function(){this.alignRectangles=function(b,c){c=c.concat(),c.sort(a.sortRectRight);for(var d=b.left(),e=d+c[0].bounds.width,f=(b.right()-e)/(c.length-1),g=c.length;g--;)c[g].val("x",e-c[g].bounds.width+f*g)}},v=function(){this.alignRectangles=function(b,c){c=c.concat(),c=c.sort(a.sortRectTop);for(var d=c.length,e=b.top(),f=(b.bottom()-c[d-1].bounds.height-e)/(d-1);d--;)c[d].val("y",e+f*d)}},w=function(){this.alignRectangles=function(b,c){c=c.concat(),c=c.sort(a.sortRectCenterY);for(var d=c.length,e=b.top()+.5*c[0].bounds.height,f=b.bottom()-.5*c[d-1].bounds.height,g=(f-e)/(d-1);d--;)c[d].val("y",e-.5*c[d].bounds.height+g*d)}},x=function(){this.alignRectangles=function(a,b){for(var c=a.left()+.5*a.width,d=b.length;d--;)b[d].val("x",c-.5*b[d].bounds.width)}},y=function(){this.alignRectangles=function(a,b){for(var c=a.left(),d=b.length;d--;)b[d].val("x",c)}},z=function(){this.alignRectangles=function(a,b){for(var c=a.height,d=b.length;d--;)b[d].val("height",c)}},A=function(){this.alignRectangles=function(a,b){for(var c=a.width,d=a.height,e=b.length;e--;)b[e].val("width",c),b[e].val("height",d)}},B=function(){this.alignRectangles=function(a,b){for(var c=a.width,d=b.length;d--;)b[d].val("width",c)}},C=function(){this.alignRectangles=function(a,b){for(var c=a.right(),d=b.length;d--;)b[d].val("x",c-b[d].bounds.width)}},D=function(){this.alignRectangles=function(a,b){for(var c=a.width(),d=a.height(),e=c/d,f=b.length;f--;){var g=b[f],h=g.width()/g.height(),i=g.height()/g.width();h>e?(g.height(d),g.width(d/i)):e>h?(g.width(c),g.height(c/h)):(g.width(c),g.height(d))}}},E=function(){this.alignRectangles=function(a,b){for(var c=a.width(),d=a.height(),e=c/d,f=b.length;f--;){var g=b[f],h=g.width()/g.height(),i=g.height()/g.width();h>e?(g.width(c),g.height(c/h)):e>h?(g.height(d),g.width(d/i)):(g.width(c),g.height(d))}}},F=function(){this.alignRectangles=function(b,c,d){c=c.concat(),c=c.sort(a.sortRectLeft);for(var e=0,f=b.width,g=c.length;g--;)e+=c[g].bounds.width;g=c.length,d=void 0!==d?d:(f-e)/(g-1),d=Number(d);var h=b.left()+c[0].bounds.width;c[0].val("x",b.left());for(var i=1;g>i;i++){var j=c[i];j.val("x",h+d),h+=j.bounds.width+d}}},G=function(){this.alignRectangles=function(b,c){c=c.concat(),c=c.sort(a.sortRectLeft);for(var d=0,e=b.width(),f=c.length;f--;)d+=c[f].width();for(var g=(e-d)/(f+1),h=b.left(),i=0;f>i;i++){var j=c[i];j.x(h+g),h+=j.width()+g}}},H=function(){this.alignRectangles=function(b,c){c=c.concat(),c=c.sort(a.sortRectTop);for(var d=0,e=b.height(),f=c.length;f--;)d+=c[f].height();for(var g=(e-d)/(f+1),h=b.top(),i=0;f>i;i++){var j=c[i];j.y(h+g),h+=j.height()+g}}},I=function(){this.alignRectangles=function(b,c,d){c=c.concat(),c=c.sort(a.sortRectTop);for(var e=0,f=b.height,g=c.length;g--;)e+=c[g].bounds.height;g=c.length,d=void 0!==d?d:(f-e)/(g-1);var h=b.top()+c[0].bounds.height;c[0].val("y",b.top());for(var i=1;g>i;i++){var j=c[i];j.val("y",h+d),h+=j.bounds.height+d}}},J=function(){this.alignRectangles=function(a,b){for(var c=a.top(),d=b.length;d--;)b[d].val("y",c)}},K=function(){this.alignRectangles=function(a,b){for(var c=a.top(),d=a.left(),e=b.length;e--;)b[e].y(c),b[e].x(d)}},L=function(){this.alignRectangles=function(a,b){for(var c=a.top(),d=a.right(),e=b.length;e--;)b[e].x(d-b[e].width()),b[e].y(c)}},M=function(){this.alignRectangles=function(a,b){for(var c=a.centerY(),d=b.length;d--;)b[d].val("y",c-.5*b[d].bounds.height)}},N=function(){this.alignRectangles=function(b,c){c=c.concat();for(var d,e,f=[],g=[],h=0,i=0,j=b.left(),k=b.right(),l=b.centerX(),m=0;m<c.length;m++){var n=c[length],o=n.centerX();l>o?f.push(c[length]):g.push(c[length])}f.sort(a.sortRectAdjacentRight),g.sort(a.sortRectAdjacentLeft),f.reverse();var p;if(f.length>0)for(p=f[0],e=j-p.width,h=j-p.width,p.x(e),m=1;m<f.length;m++)d=f[m],e=h-d.width,h-=d.width,d.x(e);if(g.length>0)for(p=g[0],e=k,i=k+p.width,p.x(e),m=1;m<g.length;m++)d=g[m],e=i,i+=d.width,d.x(e)}},O=function(){this.alignRectangles=function(b,c){c=c.concat();for(var d=[],e=[],f=b.centerY(),g=0;g<c.length;g++){var h=c[length],i=h.centerY();f>i?d.push(c[length]):e.push(c[length])}d.sort(a.sortRectAdjacentTop),e.sort(a.sortRectAdjacentBottom),d.reverse();for(var j,k,l=0,m=0,n=0;n<d.length;n++)j=d[n],0!==n?(k=l-j.height(),l-=j.height()):(k=b.top()-j.height(),l=b.top()-j.height()),j.y(k);for(var o=0;o<e.length;o++)j=e[o],0!==o?(k=m,m+=j.height()):(k=b.bottom(),m=b.bottom()),j.y(k)}},P=function(){this.alignRectangles=function(a,b){for(var c=a.left(),d=a.right(),e=b.length;e--;)b[e].val("x",c+d-b[e].bounds.x-b[e].bounds.width)}},Q=function(){a=new dash.display.Sorting,this.left=new y,this.horizontal=new x,this.right=new C,this.top=new J,this.vertical=new M,this.bottom=new n,this.center=new q,this.topLeft=new K,this.topRight=new L,this.bottomLeft=new o,this.bottomRight=new p,this.adjacentLeft=new g,this.adjacentHorizontalLeft=new e,this.adjacentHorizontalRight=new f,this.adjacentRight=new h,this.adjacentTop=new i,this.adjacentVerticalTop=new m,this.adjacentVerticalBottom=new l,this.adjacentBottom=new b,this.adjacentTopLeft=new j,this.adjacentTopRight=new k,this.adjacentBottomLeft=new c,this.adjacentBottomRight=new d,this.distributeLeft=new t,this.distributeHorizontal=new s,this.distributeRight=new u,this.distributeTop=new v,this.distributeVertical=new w,this.distributeBottom=new r,this.matchWidth=new B,this.matchHeight=new z,this.matchSize=new A,this.scaleToFit=new E,this.scaleToFill=new D,this.spaceHorizontal=new F,this.spaceInsideHorizontal=new G,this.spaceVertical=new I,this.spaceInsideVertical=new H,this.stackHorizontal=new N,this.stackVertical=new O,this.flipHorizontal=new P};utils.display.Align=Q}(),function(){utils.display.Sorting=function(){var a=this;a.compareNumber=function(a,b){return a>b?1:b>a?-1:0},a.sortRectWidth=function(b,c){return a.compareNumber(b.bounds.width,c.bounds.width)},a.sortRectHeight=function(b,c){return a.compareNumber(b.bounds.height,c.bounds.height)},a.sortRectLeft=function(b,c){return a.compareNumber(b.bounds.left(),c.bounds.left())},a.sortRectRight=function(b,c){return a.compareNumber(b.bounds.right(),c.bounds.right())},a.sortRectTop=function(b,c){return a.compareNumber(b.bounds.top(),c.bounds.top())},a.sortRectBottom=function(b,c){return a.compareNumber(b.bounds.bottom(),c.bounds.bottom())},a.sortRectCenterX=function(b,c){return a.compareNumber(b.bounds.centerX(),c.bounds.centerX())},a.sortRectCenterY=function(b,c){return a.compareNumber(b.bounds.centerY(),c.bounds.centerY())},a.sortRectAdjacentLeft=function(b,c){var d=a.sortRectLeft(b,c);return 0===d&&(d=a.sortRectRight(b,c)),d},a.sortRectAdjacentRight=function(b,c){var d=a.sortRectRight(b,c);return 0===d&&(d=a.sortRectLeft(b,c)),d},a.sortRectAdjacentTop=function(b,c){var d=a.sortRectTop(b,c);return 0===d&&(d=a.sortRectBottom(b,c)),d},a.sortRectAdjacentBottom=function(b,c){var d=a.sortRectBottom(b,c);return 0===d&&(d=a.sortRectTop(b,c)),d}}}(),function(){function a(a,b,c,d,e,f,g){var h=g?[c,d,e]:[c];return b.apply(a,h.concat(f))}utils.each=function(b,c){var d,e,f,g=0;if(arguments.length>2&&(f=Array.prototype.slice.apply(arguments),f.splice(0,2)),b&&b.length&&b.hasOwnProperty(0))for(d=b.length;d>g;){if(e=a(this.scope,c,b[g],g,b,f,this.all),void 0!==e)return e;g+=1}else if(!(b instanceof Array)&&void 0===b.length)for(g in b)if(b.hasOwnProperty(g)&&(!this.omit||!this.omit[g])&&(e=a(this.scope,c,b[g],g,b,f,this.all),void 0!==e))return e;return b}}(),utils.extend=function(a){for(var b,c,d=Array.prototype.slice.call(arguments,0),e=1,f=d.length,g=this||{};f>e;){b=d[e];for(c in b)b.hasOwnProperty(c)&&(a[c]&&"object"==typeof a[c]?a[c]=extend.apply(g,[a[c],b[c]]):b[c]instanceof Array?(a[c]=a[c]||(g&&g.arrayAsObject?{length:b[c].length}:[]),b[c].length&&(a[c]=extend.apply(g,[a[c],b[c]]))):b[c]&&"object"==typeof b[c]?(g.objectsAsArray&&"number"==typeof b[c].length&&(a[c]instanceof Array||(a[c]=[])),a[c]=extend.apply(g,[a[c]||{},b[c]])):a[c]=b[c]);e+=1}return a},utils.forEach=function(a,b,c){var d,e;if(a)if(utils.validators.isFunction(a))for(d in a)"prototype"===d||"length"===d||"name"===d||a.hasOwnProperty&&!a.hasOwnProperty(d)||b.call(c,a[d],d);else if(utils.validators.isArray(a)||utils.validators.isArrayLike(a))for(d=0,e=a.length;e>d;d++)b.call(c,a[d],d);else if(a.forEach&&a.forEach!==forEach)a.forEach(b,c);else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d);return a},function(){function a(a){return parseInt(a,10)}function b(a){return(a+"").toUpperCase()}function c(a,b,c){return a.concat(m.call(b,c))}function d(a,b,c){var d="";for(0>a&&(d="-",a=-a),a=""+a;a.length<b;)a="0"+a;return c&&(a=a.substr(a.length-b)),d+a}function e(a,b,c,e){return c=c||0,function(f){var g=f["get"+a]();return(c>0||g>-c)&&(g+=c),0===g&&-12===c&&(g=12),d(g,b,e)}}function f(a,c){return function(d,e){var f=d["get"+a](),g=b(c?"SHORT"+a:a);return e[g][f]}}function g(a){var b=-1*a.getTimezoneOffset(),c=b>=0?"+":"";return c+=d(Math[b>0?"floor":"ceil"](b/60),2)+d(Math.abs(b%60),2)}function h(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(4>=b?5:12)-b)}function i(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))}function j(a){return function(b){var c=h(b.getFullYear()),e=i(b),f=+e-+c,g=1+Math.round(f/6048e5);return d(g,a)}}function k(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}function l(b){var c=b.match(r);if(c){var d=new Date(0),e=0,f=0,g=c[8]?d.setUTCFullYear:d.setFullYear,h=c[8]?d.setUTCHours:d.setHours;c[9]&&(e=a(c[9]+c[10]),f=a(c[9]+c[11])),g.call(d,a(c[1]),a(c[2])-1,a(c[3]));var i=a(c[4]||0)-e,j=a(c[5]||0)-f,k=a(c[6]||0),l=Math.round(1e3*parseFloat("0."+(c[7]||0)));return h.call(d,i,j,k,l),d}return b}var m=[].slice,n=([].push,{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"}),o={yyyy:e("FullYear",4),yy:e("FullYear",2,0,!0),y:e("FullYear",1),MMMM:f("Month"),MMM:f("Month",!0),MM:e("Month",2,1),M:e("Month",1,1),dd:e("Date",2),d:e("Date",1),HH:e("Hours",2),H:e("Hours",1),hh:e("Hours",2,-12),h:e("Hours",1,-12),mm:e("Minutes",2),m:e("Minutes",1),ss:e("Seconds",2),s:e("Seconds",1),sss:e("Milliseconds",3),EEEE:f("Day"),EEE:f("Day",!0),a:k,Z:g,ww:j(2),w:j(1)},p=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,q=/^\-?\d+$/,r=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;utils.formatters.formatDate=function(b,d){var e,f,g="",h=[];if(d=d||"mediumDate",d=n[d]||d,utils.validators.isString(b)&&(b=q.test(b)?a(b):l(b)),utils.validators.isNumber(b)&&(b=new Date(b)),!utils.validators.isDate(b))return b;for(;d;)f=p.exec(d),f?(h=c(h,f,1),d=h.pop()):(h.push(d),d=null);return forEach(h,function(a){e=o[a],g+=e?e(b,n):a.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),g}}(),utils.formatters.lpad=function(a,b){for(var c="";c.length<b;)c+=a;return c},utils.formatters.rpad=function(a,b){for(var c="";c.length<b;)c+=a;return c},utils.formatters.stripExtraSpaces=function(a){return a+="",a.replace(/(\r\n|\n|\r)/gm,"")},utils.formatters.stripHTMLComments=function(a){return a+="",a.replace(/<!--[\s\S]*?-->/g,"")},utils.formatters.stripLineBreaks=function(a){return a+="",a.replace(/\s+/g," ")},utils.formatters.toArgsArray=function(a){return Array.prototype.slice.call(a,0)||[]},utils.formatters.toArray=function(a){try{if(utils.validators.isArray(a))return a;if(!validators.isUndefined(a))return[].concat(a)}catch(b){}return[]},utils.formatters.toObject=function(a){return validators.isUndefined(a)?{}:validators.isObject(a)?a:{value:a}},utils.formatters.toString=function(){var a=[];return forEach(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},utils.formatters.toTimeAgo=function(a){var b,c;return c=Math.floor((new Date-a)/1e3),b=Math.floor(c/31536e3),b>=1?{interval:b,ago:"y"}:(b=Math.floor(c/2592e3),b>=1?{interval:b,ago:"mo"}:(b=Math.floor(c/86400),b>=1?{interval:b,ago:"d"}:(b=Math.floor(c/3600),b>=1?{interval:b,ago:"h"}:(b=Math.floor(c/60),b>=1?{interval:b,ago:"m"}:(b=0>c?0:Math.floor(c),10>=b?{interval:b,ago:""}:{interval:b,ago:"s"})))))},utils.geom.Rect=function(a,b,c,d){this.x=a||0,this.y=b||0,this.width=c||0,this.height=d||0,this.source=function(a){return a&&(this.x=a.x||0,this.y=a.y||0,this.width=a.width||0,this.height=a.height||0),this},this.pos=function(a){return a&&(this.x=a.x||0,this.y=a.y||0),{x:this.x,y:this.y}},this.size=function(a){return a&&(this.width=a.x||a.width||0,this.height=a.y||a.height||0),{x:this.width,y:this.height}},this.top=function(){return Number(this.y)},this.left=function(){return Number(this.x)},this.topLeft=function(){return{x:Number(this.x),y:Number(this.y)}},this.bottom=function(){return Number(this.y)+Number(this.height)},this.right=function(){return Number(this.x)+Number(this.width)},this.bottomRight=function(){return{x:Number(this.x)+Number(this.width),y:Number(this.y)+Number(this.height)}},this.centerX=function(){return Number(this.x)+.5*this.width},this.centerY=function(){return Number(this.y)+.5*this.height},this.clone=function(){return new geom.Rect(Number(this.x),Number(this.y),Number(this.width),Number(this.height))},this.contains=function(a,b){return a=Number(a),b=Number(b),a>=Number(this.x)&&a<Number(this.x)+Number(this.width)&&b>=Number(this.y)&&b<Number(this.y)+Number(this.height)},this.containsPoint=function(a){return Number(a.x)>=Number(this.x)&&Number(a.x)<Number(this.x)+Number(this.width)&&Number(a.y)>=Number(this.y)&&Number(a.y)<Number(this.y)+Number(this.height)},this.containsRect=function(a){var b=a.source(),c=Number(b.x)+Number(b.width),d=Number(b.y)+Number(b.height),e=Number(this.x)+Number(this.width),f=Number(this.y)+Number(this.height);return Number(b.x)>=Number(this.x)&&Number(b.x)<e&&Number(b.y)>=Number(this.y)&&Number(b.y)<f&&c>Number(this.x)&&e>=c&&d>Number(this.y)&&f>=d},this.copyFrom=function(a){this.x=Number(a.x||0),this.y=Number(a.y||0),this.width=Number(a.width||0),this.height=Number(a.height||0)},this.equals=function(a){return Number(a.x)===Number(this.x)&&Number(a.y)===Number(this.y)&&Number(a.width)===Number(this.width)&&Number(a.height)===Number(this.height)},this.inflate=function(a,b){a=Number(a),b=Number(b),this.x=Number(this.x)-a,this.width=Number(this.width)+2*a,this.y=Number(this.y)-b,this.height=Number(this.height)+2*b},this.inflatePoint=function(a){this.x=Number(this.x)-Number(a.x),this.width=Number(this.width)+2*a.x,this.y=Number(this.y)-Number(a.y),this.height=Number(this.height)+2*a.y},this.intersection=function(a){if(this.isEmpty()||a.isEmpty())return new geom.Rect;var b=Math.max(Number(this.x),Number(a.x)),c=Math.max(Number(this.y),Number(a.y)),d=Math.min(Number(this.x)+Number(this.width),Number(a.x)+Number(a.width))-b,e=Math.min(Number(this.y)+Number(this.height),Number(a.y)+Number(a.height))-c;return 0>=d||0>=e?new geom.Rect:new geom.Rect(b,c,d,e)},this.intersects=function(a){if(this.isEmpty()||a.isEmpty())return!1;var b=Number(this.x),c=Number(this.y),d=Number(this.width),e=Number(this.height),f=Number(a.x),g=Number(a.y),h=Number(a.width),i=Number(a.height),j=Math.max(b,f),k=Math.max(c,g),l=Math.min(b+d,f+h)-j,m=Math.min(c+e,g+i)-k;return 0>=l||0>=m?!1:!0},this.isEmpty=function(){return Number(this.width)<=0||Number(this.height)<=0},this.offset=function(a,b){this.x=Number(this.x)+Number(a),this.y=Number(this.y)+Number(b)},this.offsetPoint=function(a){this.x=Number(this.x)+Number(a.x),this.y=Number(this.y)+Number(a.y)},this.setEmpty=function(){this.x=0,this.y=0,this.width=0,this.height=0},this.toString=function(){return"(x="+this.x+", y="+this.y+", w="+this.width+", h="+this.height+")"},this.union=function(a){var b,c;return this.isEmpty()?a.clone():a.isEmpty()?this.clone():(b={x:0,y:0,width:0,height:0},c=a.source(),b.x=Math.min(Number(this.x),Number(c.x)),b.y=Math.min(Number(this.y),Number(c.y)),b.width=Math.max(Number(this.x)+Number(this.width),Number(c.x)+Number(c.width))-b.x,b.height=Math.max(Number(this.y)+Number(this.height),Number(c.y)+Number(c.height))-b.y,new geom.Rect(b.x,b.y,b.width,b.height))}},utils.getName=function(a){var b="function"==typeof a,c=b&&(a.name&&["",a.name]||a.toString().match(/function ([^\(]+)/));return!b&&"not a function"||c&&c[1]||"anonymous"},utils.ns=function(a,b,c){for(var d=a.split("."),e=null,f=c||window;d.length>0;){if(e=d.shift(),0===d.length)return f[e]=b||f[e]||{},f[e];f[e]=f[e]||{},f=f[e]}return b},utils.parsers.getUrls=function(a,b){var c,d,e;if("string"==typeof a){var f=new RegExp('=\\"([^\\"]+\\.('+b+')\\")',"gi");for(c=a.match(f),d=0,e=c?c.length:0;e>d;++d)c[d]=c[d].replace(/(\"|=)/g,"")}return c||[]},utils.parsers.htmlToDOM=function(a){var b=document.createElement("div");return b.innerHTML=a,b.firstChild},utils.parsers.htmlify=function(){function a(a){var d,e,f=[];a=c(a);var g=0;for(g=0;4>g;g++)a=a.replace(/(\S+\.\S+)/,"<"+g+">"),f[g]=RegExp.$1;for(d=g,g=0;d>g;g++)f[g].search(/\d\.\d/)>-1||f[g].length<5?a=a.replace("<"+g+">",f[g]):(e=b(f[g]),a=a.replace("<"+g+">",e));return a=a.replace(/\n/g,"<br/>"),a=a.replace(/\ \ /g," &nbsp;"),a=a.replace(/"/g,"&quot;"),a=a.replace(/\$/g,"&#36;")}function b(a){a=d(a);var b,e,f,g,h,i,j,k=0;for(b=a.length-1,k=0;b>k&&(e=a.substr(k,1),!(e.search(/\w/)>-1));k++);for(f=a.substring(0,k),f=c(f),a=a.substr(k),k=b;k>0&&(e=a.substr(k,1),!(e.search(/\w|_|-|\//)>-1));k--);return g=a.substring(k+1),g=c(g),h=a.substring(0,k+1),h.search(/@/)>0?(i='<a href="mailto:'+h+'">'+h+"</a>",f+i+g):(j="",h.search(/\w+:\/\//)<0&&(j="http://"),i='<a href="'+j+h+'">'+h+"</a>",f+i+g)}function c(a){return a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;")}function d(a){return a=a.replace(/&lt;/g,"<"),a=a.replace(/&gt;/g,">"),a=a.replace(/&amp;/g,"&")}return a}(),utils.parsers.interpolate=function(){function a(a,b,c,d,e){e=e||{};for(var g,h=b.split("."),i=0;h.length>1;i++){g=f(h.shift(),d);var j=a[g];j||(j={},a[g]=j),a=j,a.then&&e.unwrapPromises&&(x(d),"$$v"in a||!function(a){a.then(function(b){a.$$v=b})}(a),void 0===a.$$v&&(a.$$v={}),a=a.$$v)}return g=f(h.shift(),d),a[g]=c,c}function b(a,b,c,d,e,g,h){return f(a,g),f(b,g),f(c,g),f(d,g),f(e,g),h.unwrapPromises?function(f,h){var i,j=h&&h.hasOwnProperty(a)?h:f;return null==j?j:(j=j[a],j&&j.then&&(x(g),"$$v"in j||(i=j,i.$$v=void 0,i.then(function(a){i.$$v=a})),j=j.$$v),b?null==j?void 0:(j=j[b],j&&j.then&&(x(g),"$$v"in j||(i=j,i.$$v=void 0,i.then(function(a){i.$$v=a})),j=j.$$v),c?null==j?void 0:(j=j[c],j&&j.then&&(x(g),"$$v"in j||(i=j,i.$$v=void 0,i.then(function(a){i.$$v=a})),j=j.$$v),d?null==j?void 0:(j=j[d],j&&j.then&&(x(g),"$$v"in j||(i=j,i.$$v=void 0,i.then(function(a){i.$$v=a})),j=j.$$v),e?null==j?void 0:(j=j[e],j&&j.then&&(x(g),"$$v"in j||(i=j,i.$$v=void 0,i.then(function(a){i.$$v=a})),j=j.$$v),j):j):j):j):j)}:function(f,g){var h=g&&g.hasOwnProperty(a)?g:f;return null==h?h:(h=h[a],b?null==h?void 0:(h=h[b],c?null==h?void 0:(h=h[c],d?null==h?void 0:(h=h[d],e?null==h?void 0:h=h[e]:h):h):h):h)}}function c(a,b){return f(a,b),function(b,c){return null==b?void 0:(c&&c.hasOwnProperty(a)?c:b)[a]}}function d(a,b,c){return f(a,c),f(b,c),function(c,d){return null==c?void 0:(c=(d&&d.hasOwnProperty(a)?d:c)[a],null==c?void 0:c[b])}}function e(a,e,g){if(u.hasOwnProperty(a))return u[a];var i,j=a.split("."),k=j.length;if(e.unwrapPromises||1!==k)if(e.unwrapPromises||2!==k)if(e.csp)i=6>k?b(j[0],j[1],j[2],j[3],j[4],g,e):function(a,c){var d,f=0;do d=b(j[f++],j[f++],j[f++],j[f++],j[f++],g,e)(a,c),c=void 0,a=d;while(k>f);return d};else{var l="var p;\n";r(j,function(a,b){f(a,g),l+="if(s == null) return undefined;\ns="+(b?"s":'((k&&k.hasOwnProperty("'+a+'"))?k:s)')+'["'+a+'"];\n'+(e.unwrapPromises?'if (s && s.then) {\n pw("'+g.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n':"")}),l+="return s;";var m=new Function("s","k","pw",l);m.toString=h(l),i=e.unwrapPromises?function(a,b){return m(a,b,x)}:m}else i=d(j[0],j[1],g);else i=c(j[0],g);return"hasOwnProperty"!==a&&(u[a]=i),i}function f(a,b){if("constructor"===a)throw y("isecfld",'Referencing "constructor" field in Angular expressions is disallowed! Expression: {0}',b);return a}function g(a,b){if(a){if(a.constructor===a)throw y("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a.document&&a.location&&a.alert&&a.setInterval)throw y("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw y("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",b)}return a}function h(a){return function(){return a}}function i(){}function j(a){return"undefined"!=typeof a}function k(a,b){var c=b;return"string"==typeof a&&"$"===a.charAt(0)?c=void 0:l(b)?c="$WINDOW":b&&document===b?c="$DOCUMENT":m(b)&&(c="$SCOPE"),c}function l(a){return a&&a.document&&a.location&&a.alert&&a.setInterval}function m(a){return a&&a.$evalAsync&&a.$watch}function n(a,b){return"undefined"==typeof a?void 0:JSON.stringify(a,k,b?"  ":null)}function o(a){return function(){var b,c,d=arguments[0],e="["+(a?a+":":"")+d+"] ",f=arguments[1],g=arguments,h=function(a){return"function"==typeof a?a.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof a?"undefined":"string"!=typeof a?JSON.stringify(a):a};for(b=e+f.replace(/\{\d+\}/g,function(a){var b,c=+a.slice(1,-1);return c+2<g.length?(b=g[c+2],"function"==typeof b?b.toString().replace(/ ?\{[\s\S]*$/,""):"undefined"==typeof b?"undefined":"string"!=typeof b?n(b):b):a}),b=b+"\nhttp://errors.angularjs.org/1.3.0-beta.8/"+(a?a+"/":"")+d,c=2;c<arguments.length;c++)b=b+(2==c?"?":"&")+"p"+(c-2)+"="+encodeURIComponent(h(arguments[c]));return new Error(b)}}function p(a){return"string"==typeof a}function q(a){var b=[],c=0,d=a.length;if(void 0!==a.length)for(;d>c;)b.push(a[c]),c+=1;else for(c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b}function r(a,b){var c,d,e,f=0;if(arguments.length>2&&(e=q(arguments),e.splice(0,2)),a&&a.length)for(c=a.length;c>f;){if(d=b.apply(null,[a[f],f,a].concat(e)),void 0!==d)return d;f+=1}else if(!(a instanceof Array))for(f in a)if(a.hasOwnProperty(f)&&(d=b.apply(null,[a[f],f,a].concat(e)),void 0!==d))return d;return a}function s(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function t(a){var b=a.$$hashKey;return r(arguments,function(b){b!==a&&r(b,function(b,c){a[c]=b})}),s(a,b),a}var u={},v={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:i,"+":function(a,b,c,d){return c=c(a,b),d=d(a,b),j(c)?j(d)?c+d:c:j(d)?d:void 0},"-":function(a,b,c,d){return c=c(a,b),d=d(a,b),(j(c)?c:0)-(j(d)?d:0)},"*":function(a,b,c,d){return c(a,b)*d(a,b)},"/":function(a,b,c,d){return c(a,b)/d(a,b)},"%":function(a,b,c,d){return c(a,b)%d(a,b)},"^":function(a,b,c,d){return c(a,b)^d(a,b)},"=":i,"===":function(a,b,c,d){return c(a,b)===d(a,b)},"!==":function(a,b,c,d){return c(a,b)!==d(a,b)},"==":function(a,b,c,d){return c(a,b)==d(a,b)},"!=":function(a,b,c,d){return c(a,b)!=d(a,b)},"<":function(a,b,c,d){return c(a,b)<d(a,b)},">":function(a,b,c,d){return c(a,b)>d(a,b)},"<=":function(a,b,c,d){return c(a,b)<=d(a,b)},">=":function(a,b,c,d){return c(a,b)>=d(a,b)},"&&":function(a,b,c,d){return c(a,b)&&d(a,b)},"||":function(a,b,c,d){return c(a,b)||d(a,b)},"&":function(a,b,c,d){return c(a,b)&d(a,b)},"|":function(a,b,c,d){return d(a,b)(a,b,c(a,b))},"!":function(a,b,c){return!c(a,b)}},w={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},x=function(a){$parseOptions.logPromiseWarnings&&!promiseWarningCache.hasOwnProperty(a)&&(promiseWarningCache[a]=!0,$log.warn("[$parse] Promise found in the expression `"+a+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},y=o("$parse"),z=function(a){return p(a)?a.toLowerCase():a},A=function(a){this.options=a};A.prototype={constructor:A,lex:function(a){this.text=a,this.index=0,this.ch=void 0,this.lastCh=":",this.tokens=[];for(var b,c=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent(),this.was("{,")&&"{"===c[0]&&(b=this.tokens[this.tokens.length-1])&&(b.json=-1===b.text.indexOf("."));else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch,json:this.was(":[,")&&this.is("{[")||this.is("}]:,")}),this.is("{[")&&c.unshift(this.ch),this.is("}]")&&c.shift(),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var d=this.ch+this.peek(),e=d+this.peek(2),f=v[this.ch],g=v[d],h=v[e];h?(this.tokens.push({index:this.index,text:e,fn:h}),this.index+=3):g?(this.tokens.push({index:this.index,text:d,fn:g}),this.index+=2):f?(this.tokens.push({index:this.index,text:this.ch,fn:f,json:this.was("[,:")&&this.is("+-")}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(a){return-1!==a.indexOf(this.ch)},was:function(a){return-1!==a.indexOf(this.lastCh)},peek:function(a){var b=a||1;return this.index+b<this.text.length?this.text.charAt(this.index+b):!1},isNumber:function(a){return a>="0"&&"9">=a},isWhitespace:function(a){return" "===a||"\r"===a||"	"===a||"\n"===a||""===a||" "===a},isIdent:function(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;var d=j(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw y("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,d,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=z(this.text.charAt(this.index));if("."==c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"==c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"==a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!=a.charAt(a.length-1))break;
this.throwError("Invalid exponent")}}this.index++}a=1*a,this.tokens.push({index:b,text:a,json:!0,fn:function(){return a}})},readIdent:function(){for(var b,c,d,f,g=this,h="",i=this.index;this.index<this.text.length&&(f=this.text.charAt(this.index),"."===f||this.isIdent(f)||this.isNumber(f));)"."===f&&(b=this.index),h+=f,this.index++;if(b)for(c=this.index;c<this.text.length;){if(f=this.text.charAt(c),"("===f){d=h.substr(b-i+1),h=h.substr(0,b-i),this.index=c;break}if(!this.isWhitespace(f))break;c++}var j={index:i,text:h};if(v.hasOwnProperty(h))j.fn=v[h],j.json=v[h];else{var k=e(h,this.options,this.text);j.fn=t(function(a,b){return k(a,b)},{assign:function(b,c){return a(b,h,c,g.text,g.options)}})}this.tokens.push(j),d&&(this.tokens.push({index:b,text:".",json:!1}),this.tokens.push({index:b+1,text:d,json:!1}))},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);if(d+=f,e){if("u"===f){var g=this.text.substring(this.index+1,this.index+5);g.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+g+"]"),this.index+=4,c+=String.fromCharCode(parseInt(g,16))}else{var h=w[f];c+=h?h:f}e=!1}else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,string:c,json:!0,fn:function(){return c}});c+=f}this.index++}this.throwError("Unterminated quote",b)}};var B=function(a,b,c){this.lexer=a,this.$filter=b,this.options=c};B.ZERO=t(function(){return 0},{constant:!0}),B.prototype={constructor:B,parse:function(a,b){this.text=a,this.json=b,this.tokens=this.lexer.lex(a),b&&(this.assignment=this.logicalOR,this.functionCall=this.fieldAccess=this.objectIndex=this.filterChain=function(){this.throwError("is not valid json",{text:a,index:0})});var c=b?this.primary():this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),c.literal=!!c.literal,c.constant=!!c.constant,c},primary:function(){var a;if(this.expect("("))a=this.filterChain(),this.consume(")");else if(this.expect("["))a=this.arrayDeclaration();else if(this.expect("{"))a=this.object();else{var b=this.expect();a=b.fn,a||this.throwError("not a primary expression",b),b.json&&(a.constant=!0,a.literal=!0)}for(var c,d;c=this.expect("(","[",".");)"("===c.text?(a=this.functionCall(a,d),d=null):"["===c.text?(d=a,a=this.objectIndex(a)):"."===c.text?(d=a,a=this.fieldAccess(a)):this.throwError("IMPOSSIBLE");return a},throwError:function(a,b){throw y("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index))},peekToken:function(){if(0===this.tokens.length)throw y("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){if(this.tokens.length>0){var e=this.tokens[0],f=e.text;if(f===a||f===b||f===c||f===d||!a&&!b&&!c&&!d)return e}return!1},expect:function(a,b,c,d){var e=this.peek(a,b,c,d);return e?(this.json&&!e.json&&this.throwError("is not valid json",e),this.tokens.shift(),e):!1},consume:function(a){this.expect(a)||this.throwError("is unexpected, expecting ["+a+"]",this.peek())},unaryFn:function(a,b){return t(function(c,d){return a(c,d,b)},{constant:b.constant})},ternaryFn:function(a,b,c){return t(function(d,e){return a(d,e)?b(d,e):c(d,e)},{constant:a.constant&&b.constant&&c.constant})},binaryFn:function(a,b,c){return t(function(d,e){return b(d,e,a,c)},{constant:a.constant&&c.constant})},statements:function(){for(var a=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),!this.expect(";"))return 1===a.length?a[0]:function(b,c){for(var d,e=0;e<a.length;e++){var f=a[e];f&&(d=f(b,c))}return d}},filterChain:function(){for(var a,b=this.expression();;){if(!(a=this.expect("|")))return b;b=this.binaryFn(b,a.fn,this.filter())}},filter:function(){for(var a=this.expect(),b=this.$filter(a.text),c=[];;){if(!(a=this.expect(":"))){var d=function(a,d,e){for(var f=[e],g=0;g<c.length;g++)f.push(c[g](a,d));return b.apply(a,f)};return function(){return d}}c.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var a,b,c=this.ternary();return(b=this.expect("="))?(c.assign||this.throwError("implies assignment but ["+this.text.substring(0,b.index)+"] can not be assigned to",b),a=this.ternary(),function(b,d){return c.assign(b,a(b,d),d)}):c},ternary:function(){var a,b,c=this.logicalOR();return(b=this.expect("?"))?(a=this.ternary(),(b=this.expect(":"))?this.ternaryFn(c,a,this.ternary()):void this.throwError("expected :",b)):c},logicalOR:function(){for(var a,b=this.logicalAND();;){if(!(a=this.expect("||")))return b;b=this.binaryFn(b,a.fn,this.logicalAND())}},logicalAND:function(){var a,b=this.equality();return(a=this.expect("&&"))&&(b=this.binaryFn(b,a.fn,this.logicalAND())),b},equality:function(){var a,b=this.relational();return(a=this.expect("==","!=","===","!=="))&&(b=this.binaryFn(b,a.fn,this.equality())),b},relational:function(){var a,b=this.additive();return(a=this.expect("<",">","<=",">="))&&(b=this.binaryFn(b,a.fn,this.relational())),b},additive:function(){for(var a,b=this.multiplicative();a=this.expect("+","-");)b=this.binaryFn(b,a.fn,this.multiplicative());return b},multiplicative:function(){for(var a,b=this.unary();a=this.expect("*","/","%");)b=this.binaryFn(b,a.fn,this.unary());return b},unary:function(){var a;return this.expect("+")?this.primary():(a=this.expect("-"))?this.binaryFn(B.ZERO,a.fn,this.unary()):(a=this.expect("!"))?this.unaryFn(a.fn,this.unary()):this.primary()},fieldAccess:function(b){var c=this,d=this.expect().text,f=e(d,this.options,this.text);return t(function(a,c,d){return f(d||b(a,c))},{assign:function(e,f,g){return a(b(e,g),d,f,c.text,c.options)}})},objectIndex:function(a){var b=this,c=this.expression();return this.consume("]"),t(function(d,e){var f,h,i=a(d,e),j=c(d,e);return i?(f=g(i[j],b.text),f&&f.then&&b.options.unwrapPromises&&(h=f,"$$v"in f||(h.$$v=void 0,h.then(function(a){h.$$v=a})),f=f.$$v),f):void 0},{assign:function(d,e,f){var h=c(d,f),i=g(a(d,f),b.text);return i[h]=e}})},functionCall:function(a,b){var c=[];if(")"!==this.peekToken().text)do c.push(this.expression());while(this.expect(","));this.consume(")");var d=this;return function(e,f){for(var h=[],j=b?b(e,f):e,k=0;k<c.length;k++)h.push(c[k](e,f));var l=a(e,f,j)||i;g(j,d.text),g(l,d.text);var m=l.apply?l.apply(j,h):l(h[0],h[1],h[2],h[3],h[4]);return g(m,d.text)}},arrayDeclaration:function(){var a=[],b=!0;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var c=this.expression();a.push(c),c.constant||(b=!1)}while(this.expect(","));return this.consume("]"),t(function(b,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e](b,c));return d},{literal:!0,constant:b})},object:function(){var a=[],b=!0;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var c=this.expect(),d=c.string||c.text;this.consume(":");var e=this.expression();a.push({key:d,value:e}),e.constant||(b=!1)}while(this.expect(","));return this.consume("}"),t(function(b,c){for(var d={},e=0;e<a.length;e++){var f=a[e];d[f.key]=f.value(b,c)}return d},{literal:!0,constant:b})}};var C=new A({}),D={},E=new B(C,D,{unwrapPromises:!0});return E.parse.bind(E)}(),utils.parsers.rawEval=function(val){try{val="(function(){return "+val+";})()",val=eval(val)}catch(e){val="###invalid###"}return val},utils.parsers.resolve=function(a,b,c){b=b||"";for(var d,e=b.match(/(\w|\$)+/g),f="undefined"==typeof c;e.length>1;)switch(d=e.shift(),typeof a[d]){case"object":a=a[d];break;case"undefined":if(f)return;a=a[d]={};break;default:throw new Error("property is not of type object",d)}return"undefined"==typeof c?a[e.shift()]:(a[e.shift()]=c,c)},utils.parsers.scopeEval=function(a,b){var c=Function,d=new c("with(this) { return "+b+"}").apply(a);return d+""=="NaN"&&(d=""),d},utils.patterns.command=function(){function a(a,b){this.commands=a,this.args=b.splice(0)}function b(){this._mappings={},async.dispatcher(this)}function c(){this._commands=[],async.dispatcher(this)}return a.counter=0,a.prototype.execute=function(a){var b,c=this;this.commands.length?(b=this.next(c.commands.shift()),b.then(function(){c.execute(a)})):a()},a.prototype.next=function(b){var c,d=async.defer();if(d.__uid=a.counter+=1,b="function"==typeof b?new b:data.copy(b),void 0===b.execute)throw new Error('Command expects "execute" to be defined.');if("function"!=typeof b.execute)throw new Error('Command expects "execute" to be of type function.');return"complete"in b?(c=b.complete,b.complete=function(){c.apply(b),"destruct"in b&&b.destruct(),d.resolve()}):b.complete=function(){"destruct"in b&&b.destruct(),d.resolve()},"construct"in b&&b.construct.apply(b,this.args),b.execute.apply(b,this.args),void 0===c&&b.complete(),d.promise},b.prototype.map=function(b){if("string"!=typeof b)throw new Error("Event must of type string.");if(!b.length)throw new Error("Event string cannot be empty");var d=this;return this._mappings[b]||(this._mappings[b]=new c,this._mappings[b].unsubscribe=this.on(b,function(){var c,e,f;c=Array.prototype.slice.call(arguments),c.shift(),e=d._mappings[b],e.commandExecutor||(e.commandExecutor=new a(e.getCommands(),c),e.commandExecutor.execute(function(){delete e.commandExecutor,f=null}))})),this._mappings[b]},b.prototype.unmap=function(a,b){this._mappings[a]&&(this._mappings[a].fromCommand(b),this._mappings[a].isEmpty()&&(this._mappings[a].unsubscribe(),delete this._mappings[a]))},b.prototype.umapAll=function(){this._mappings={}},c.prototype.getCommands=function(){return this._commands.splice(0)},c.prototype.isEmpty=function(){return 0===this._commands.length},c.prototype.hasCommand=function(a){for(var b=this._commands.length;b--;)if(this._commands[b]===a)return!0;return!1},c.prototype.toCommand=function(a){this.hasCommand(a)||this._commands.push(a)},c.prototype.fromCommand=function(a){for(var b=this._commands.length;b--;)if(this._commands[b]===a){this._commands.splice(b,1);break}},new b}(),function(){function a(a,d,e){var f;a instanceof Array&&(f=a.pop(),f.$inject=a,a=f),a.$inject||(a.$inject=b(a));var g=a.$inject.slice();return each(g,c,e),a.apply(d,g)}function b(a){var b=a.toString();return b.match(/\(.*\)/)[0].match(/([\$\w])+/gm)}function c(a,b,c,e){var f,g=d.get(a.toLowerCase());void 0!==g?f=g:e&&e[a]&&(f=e[a]),c[b]=f}var d=utils.data.cache("$injectors");utils.patterns.inject=a,utils.patterns.inject.set=function(a,b){d.set(a.toLowerCase(),b)}}(),utils.patterns.Singleton=function(){},utils.patterns.Singleton.instances={},utils.patterns.Singleton.get=function(a){if("function"==typeof a){if(!a.__instance__){var b=Array.prototype.slice.call(arguments,0);a.__instance__=new(Function.prototype.bind.apply(a,b))}return a.__instance__}},utils.patterns.Singleton.getById=function(a,b){if("function"==typeof b){if(b.__instances__||(b.__instances__={}),!b.__instances__[a]){var c=Array.prototype.slice.call(arguments,0);b.__instances__[a]=new(Function.prototype.bind.apply(b,c))}return b.__instances__[a]}},utils.patterns.StateMachine={VERSION:"2.3.0",Result:{SUCCEEDED:1,NOTRANSITION:2,CANCELLED:3,PENDING:4},Error:{INVALID_TRANSITION:100,PENDING_TRANSITION:200,INVALID_CALLBACK:300},WILDCARD:"*",ASYNC:"async",create:function(a,b){var c="string"==typeof a.initial?{state:a.initial}:a.initial,d=a.terminal||a["final"],e=b||a.target||{},f=a.events||[],g=a.callbacks||{},h={},i=function(a){var b=a.from instanceof Array?a.from:a.from?[a.from]:[patterns.StateMachine.WILDCARD];h[a.name]=h[a.name]||{};for(var c=0;c<b.length;c++)h[a.name][b[c]]=a.to||b[c]};c&&(c.event=c.event||"startup",i({name:c.event,from:"none",to:c.state}));for(var j=0;j<f.length;j++)i(f[j]);for(var k in h)h.hasOwnProperty(k)&&(e[k]=patterns.StateMachine.buildEvent(k,h[k]));for(var k in g)g.hasOwnProperty(k)&&(e[k]=g[k]);return e.current="none",e.is=function(a){return a instanceof Array?a.indexOf(this.current)>=0:this.current===a},e.can=function(a){return!this.transition&&(h[a].hasOwnProperty(this.current)||h[a].hasOwnProperty(patterns.StateMachine.WILDCARD))},e.cannot=function(a){return!this.can(a)},e.error=a.error||function(a,b,c,d,e,f,g){throw g||f},e.isFinished=function(){return this.is(d)},c&&!c.defer&&e[c.event](),e},doCallback:function(a,b,c,d,e,f){if(b)try{return b.apply(a,[c,d,e].concat(f))}catch(g){return a.error(c,d,e,f,patterns.StateMachine.Error.INVALID_CALLBACK,"an exception occurred in a caller-provided callback function",g)}},beforeAnyEvent:function(a,b,c,d,e){return patterns.StateMachine.doCallback(a,a.onbeforeevent,b,c,d,e)},afterAnyEvent:function(a,b,c,d,e){return patterns.StateMachine.doCallback(a,a.onafterevent||a.onevent,b,c,d,e)},leaveAnyState:function(a,b,c,d,e){return patterns.StateMachine.doCallback(a,a.onleavestate,b,c,d,e)},enterAnyState:function(a,b,c,d,e){return patterns.StateMachine.doCallback(a,a.onenterstate||a.onstate,b,c,d,e)},changeState:function(a,b,c,d,e){return patterns.StateMachine.doCallback(a,a.onchangestate,b,c,d,e)},beforeThisEvent:function(a,b,c,d,e){return patterns.StateMachine.doCallback(a,a["onbefore"+b],b,c,d,e)},afterThisEvent:function(a,b,c,d,e){return patterns.StateMachine.doCallback(a,a["onafter"+b]||a["on"+b],b,c,d,e)},leaveThisState:function(a,b,c,d,e){return patterns.StateMachine.doCallback(a,a["onleave"+c],b,c,d,e)},enterThisState:function(a,b,c,d,e){return patterns.StateMachine.doCallback(a,a["onenter"+d]||a["on"+d],b,c,d,e)},beforeEvent:function(a,b,c,d,e){return!1===patterns.StateMachine.beforeThisEvent(a,b,c,d,e)||!1===patterns.StateMachine.beforeAnyEvent(a,b,c,d,e)?!1:void 0},afterEvent:function(a,b,c,d,e){patterns.StateMachine.afterThisEvent(a,b,c,d,e),patterns.StateMachine.afterAnyEvent(a,b,c,d,e)},leaveState:function(a,b,c,d,e){var f=patterns.StateMachine.leaveThisState(a,b,c,d,e),g=patterns.StateMachine.leaveAnyState(a,b,c,d,e);return!1===f||!1===g?!1:patterns.StateMachine.ASYNC===f||patterns.StateMachine.ASYNC===g?patterns.StateMachine.ASYNC:void 0},enterState:function(a,b,c,d,e){patterns.StateMachine.enterThisState(a,b,c,d,e),patterns.StateMachine.enterAnyState(a,b,c,d,e)},buildEvent:function(a,b){return function(){var c=this.current,d=b[c]||b[patterns.StateMachine.WILDCARD]||c,e=Array.prototype.slice.call(arguments);if(this.transition)return this.error(a,c,d,e,patterns.StateMachine.Error.PENDING_TRANSITION,"event "+a+" inappropriate because previous transition did not complete");if(this.cannot(a))return this.error(a,c,d,e,patterns.StateMachine.Error.INVALID_TRANSITION,"event "+a+" inappropriate in current state "+this.current);if(!1===patterns.StateMachine.beforeEvent(this,a,c,d,e))return patterns.StateMachine.Result.CANCELLED;if(c===d)return patterns.StateMachine.afterEvent(this,a,c,d,e),patterns.StateMachine.Result.NOTRANSITION;var f=this;this.transition=function(){return f.transition=null,f.current=d,patterns.StateMachine.enterState(f,a,c,d,e),patterns.StateMachine.changeState(f,a,c,d,e),patterns.StateMachine.afterEvent(f,a,c,d,e),patterns.StateMachine.Result.SUCCEEDED},this.transition.cancel=function(){f.transition=null,patterns.StateMachine.afterEvent(f,a,c,d,e)};var g=patterns.StateMachine.leaveState(this,a,c,d,e);return!1===g?(this.transition=null,patterns.StateMachine.Result.CANCELLED):patterns.StateMachine.ASYNC===g?patterns.StateMachine.Result.PENDING:this.transition?this.transition():void 0}}},utils.query.fn.bind=utils.query.fn.on=function(a,b){a=a.match(/\w+/gim);for(var c,d=0,e=a.length;e>d;)c=a[d],this.each(function(a,d){d.attachEvent?(d["e"+c+b]=b,d[c+b]=function(){d["e"+c+b](window.event)},d.attachEvent("on"+c,d[c+b])):d.addEventListener(c,b,!1),d.eventHolder||(d.eventHolder=[]),d.eventHolder[d.eventHolder.length]=[c,b]}),d+=1;return this},utils.query.fn.change=function(a){return utils.validators.isDefined(a)?this.on("change",a):this.trigger("change"),this},utils.query.fn.click=function(a){return validators.isDefined(a)?this.bind("click",a):this.trigger("click"),this},utils.query.fn.trigger=function(a,b){var c;return document.createEvent?(c=document.createEvent("HTMLEvents"),c.initEvent(a,!0,!0)):(c=document.createEventObject(),c.eventType=a),c.eventName=a,c.data=b,this.each(function(a,b){document.createEvent?b.dispatchEvent(c):b.fireEvent("on"+c.eventType,c)}),this},utils.query.fn.unbind=utils.query.fn.off=function(a,b){if(1===arguments.length)this.unbindAll(a);else{a=a.match(/\w+/gim);for(var c,d=0,e=a.length;e>d;)c=a[d],this.each(function(a,d){d.detachEvent?(d.detachEvent("on"+c,d[c+b]),d[c+b]=null):d.removeEventListener(c,b,!1)})}return this},utils.query.fn.unbindAll=function(a){return this.each(function(b,c){if(c.eventHolder)for(var d,e=0,f=0;f<c.eventHolder.length;f++)a&&c.eventHolder[f][0]!==a||(a=c.eventHolder[f][0],d=c.eventHolder[f][1],c.detachEvent?(c.detachEvent("on"+a,c[a+d]),c[a+d]=null):c.removeEventListener(a,d,!1),c.eventHolder.splice(f,1),e+=1,f-=1)}),this},utils.query.fn.height=function(){return this.css("height")},utils.query.fn.innerHeight=function(){return this.css("innerHeight")},utils.query.fn.innerWidth=function(){return this.css("innerWidth")},utils.query.fn.offset=function(){return this.length?this[0].getBoundingClientRect():void 0},utils.query.fn.outerHeight=function(){return this.css("outerHeight")},utils.query.fn.outerWidth=function(){return this.css("outerWidth")},utils.query.fn.width=function(){return this.css("width")},utils.query.fn.removeAttr=function(a){return this.each(function(b,c){c.removeAttribute(a)}),this},query.fn.attr=function(a,b){return 2===arguments.length?(this.each("function"==typeof b?function(c,d){var e=b.apply(d,[c,a]);this.setAttribute(a,e)}:function(c,d){d.setAttribute(a,b)}),this):"object"==typeof a?(this.each(function(b,c){for(var d in a)a.hasOwnProperty(d)&&c.setAttribute(d,a[d])}),this):this.length?this[0].getAttribute(a):void 0},query.fn.data=function(a,b){return this.attr("data-"+a,b)},utils.query.fn.addClass=function(a){var b=this;return this.each(function(c,d){b.hasClass(d,a)||(d.className+=" "+a)}),this},utils.query.fn.hasClass=function(a,b){return a.classList?a.classList.contains(b):new RegExp("(^| )"+b+"( |$)","gi").test(a.className)},utils.query.fn.removeClass=function(a){var b=this;return this.each(function(c,d){if(utils.validators.isDefined(a)){var e=" "+d.className.replace(/[\t\r\n]/g," ")+" ";if(b.hasClass(d,a)){for(;e.indexOf(" "+a+" ")>=0;)e=e.replace(" "+a+" "," ");d.className=e.replace(/^\s+|\s+$/g,"")}}else d.className=""}),this},utils.query.fn.css=function(a,b){var c,d;if(this.length){if(c=this[0],arguments.length>1&&this.each(function(c,d){d.style[a]=b}),a instanceof Array){var e=0,f=a.length;if(d={},c.currentStyle)for(;f>e;)d[a[e]]=c.currentStyle[a[e]],e+=1;else if(window.getComputedStyle)for(;f>e;)d[a[e]]=document.defaultView.getComputedStyle(c,null).getPropertyValue(a[e]),e+=1}else c.currentStyle?d=c.currentStyle[a]:window.getComputedStyle&&(d=document.defaultView.getComputedStyle(c,null).getPropertyValue(a));return d}return null},utils.query.fn.prop=function(a,b){if(this.length){if(!(arguments.length>2))return this[0][a];this[0][a]=b}},query.fn.is=function(a){return a=a.split(":").join(""),this.prop(a)},utils.query.fn.after=function(a){var b,c;"string"==typeof a&&(a=query(a)),this.each(function(d,e){for(b=e.parentNode,c=a.length;c--;)e.insertAdjacentHTML("afterEnd",a[c].outerHTML)})},utils.query.fn.append=function(a){var b,c,d;"string"==typeof a&&(a=query(a)),this.each(function(e,f){for(b=f.parentNode,c=0,d=a.length;d>c;)f.insertAdjacentHTML("beforeEnd",a[c].outerHTML),c+=1})},utils.query.fn.before=function(a){var b,c,d;"string"==typeof a&&(a=query(a)),this.each(function(e,f){for(b=f.parentNode,c=0,d=a.length;d>c;)f.insertAdjacentHTML("beforeBegin",a[c].outerHTML),c+=1})},utils.query.fn.empty=function(){this.each(function(a,b){b.innerHTML=null})},utils.query.fn.html=function(a){if(this.length){var b=this[0];return arguments.length>0&&this.each(function(b,c){c.innerHTML=a}),b.innerHTML}},utils.query.fn.prepend=function(a){var b;"string"==typeof a&&(a=query(a)),this.each(function(c,d){for(b=a.length;b--;)d.insertAdjacentHTML("afterBegin",a[b].outerHTML)})},utils.query.fn.remove=function(){this.each(function(a,b){b.parentElement&&b.parentElement.removeChild(b)})},utils.query.fn.replace=function(a){if(this.length){var b=this[0];return arguments.length>0&&this.each(function(b,c){c.innerHTML=a}),b.innerHTML}},utils.query.fn.text=function(a){if(this.length){var b=this[0];return arguments.length>0&&this.each(function(b,c){c.innerText=a}),b.innerText}},utils.query.fn.isChecked=function(){return this.length?this[0].checked:!1},utils.query.fn.isVisible=function(){var a;return this.length?(a=this[0],9===a.parentNode.nodeType?!0:0===a.offsetWidth||0===a.offsetHeight?!1:"none"===a.style.display?!1:"hidden"===a.style.visibility?!1:0===a.style.opacity||"0"===a.style.opacity?!1:!0):!1},utils.query.fn.val=function(a){var b,c,d,e,f;if(this.length){if(b=this[0],!arguments.length){if("SELECT"===b.nodeName&&b.multiple){for(c=[],d=0,f=b.options,e=f.length;e>d;)f&&c.push(f[d].value||f[0].text);return 0===c.length?null:c}return b.value}b.value=a}},utils.query.fn.children=function(){var a,b,c=[];return this.each(function(d,e){c=c.concat(e.childNodes);var f=e.childNodes;for(a=0,b=f.length;b>a;)c.push(f[a]),a+=1}),query(c)},utils.query.fn.find=function(a){return this.length?query(a,this[0]):query()},utils.query.fn.first=function(a){return this.length?a?this[0]:query(this[0]):a?null:query()},utils.query.fn.get=function(a){return utils.validators.isDefined(a)?Math.abs(a)<this.length?0>a?this[this.length+a-1]:this[a]:this:this.splice(0)},utils.query.fn.last=function(a){return this.length?a?this[this.length-1]:query(this[this.length-1]):a?null:query()},utils.query.fn.next=function(){var a=[];return this.each(function(b,c){a=a.concat(c.childNodes);var d=c.nextElementSibling;d&&a.push(d)}),query(a)},utils.query.fn.not=function(a){return this.length?query(":not("+a+")",this[0]):query()},utils.query.fn.parent=function(a){if(this.length){var b=this[0].parentNode;if(b&&11!==b.nodeType)return a?query(b).find(a):query(b)}return query()},utils.query.fn.prev=function(){var a=[];return this.each(function(b,c){a=a.concat(c.childNodes);var d=c.previousElementSibling;d&&a.push(d)}),query(a)},utils.query.selector=function(){function a(a,b){b=b||y.config.doc.body;var c,d,e=/:eq\((\d+)\)$/,f=a.match(e);return f&&f.length&&(a=a.replace(e,""),d=f[1]),c=b.querySelectorAll(a),c&&void 0!==d?c[d]:c}function b(b,c){if(b=d(b)){for(var f,h,j,k=i(c),l=y.config.doc.body,m=g(b,l,k,null,!0);m.count>m.totalCount;)m=m.parent;if(m=m.parent||m,j=m.str||p(m),m.str)for(var n=m.child;n;)j+=" "+n.str,n=n.child;return(m.count>1||m.child&&m.child.count)&&(f=Array.prototype.slice.apply(a(j,l)),h=f.indexOf(b),j+=":eq("+h+")"),j+=e()}return""}function c(a,b,c){if(a=d(a)){var f=i(c),h=g(a,b,f);return p(h)+e()}return""}function d(a){return a}function e(){return y.config.addVisible?":visible":""}function f(a,b){return"string"==typeof b&&b===a?!0:"object"==typeof b&&a.match(b)?!0:!1}function g(a,b,c,d,e){var f;return a?(b=b||y.config.doc,f={element:a,ignoreClass:c,maxParent:b,classes:j(a,c),attributes:k(a,d),type:a.nodeName&&a.nodeName.toLowerCase()||"",child:d},(!f.attributes.$unique||d)&&(e?(f.str=p(f,0,null,!0),f.count=b.querySelectorAll(f.str).length,f.count>1&&(f.parent=r(a,b,c,f,e))):f.parent=r(a,b,c,f,e)),f):""}function h(a){return"number"!=typeof a}function i(a){return a=a||[],"function"==typeof a?a:function(b){if(a instanceof Array)for(var c=0,d=a.length;d>c;){if(f(b,a[c]))return!1;c+=1}else if(f(b,a))return!1;return!0}}function j(a,b){var c=data.filter(a.classList,h);return c=data.filter(c,x),data.filter(c,b)}function k(a){var b,c=0,d=a.attributes?a.attributes.length:0,e=[],f=m(a.attributes);if(f&&("id"===f.name&&y.config.allowId?e.push("#"+f.value):"id"!==f.name&&e.push(l(f)),e.length))return e.$unique=!0,e;if(y.config.allowAttributes)for(;d>c;)b=a.attributes[c],u[b.name]||v[b.name]||e.push(l(b)),c+=1;return e}function l(a){return"["+n(a.name)+"='"+o(a.value)+"']"}function m(a){for(var b,c,d=0,e=a?a.length:0;e>d;){if(b=a[d],c=n(b.name),v[c])return b;d+=1}return null}function n(a){var b,c,d=1;if(a.indexOf("-")){for(b=a.split("-"),c=b.length;c>d;)b[d]=b[d].charAt(0).toUpperCase()+b[d].substr(1),d+=1;a=b.join("")}return a}function o(a){return a.replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function p(a,b,c,d){var e,f,g;return b=b||0,f=a&&!a.attributes.$unique?p(a.parent,b+1):"",a&&(f+=(f.length?" ":"")+q(a)),b||d||(g=c||a.maxParent,e=g.querySelectorAll&&g.querySelectorAll(f)||[],e.length>1&&(f+=":eq("+s(e,a.element)+")")),f}function q(a){return a.attributes.$unique?a.attributes[0]:a.type+a.attributes.join("")+(a.classes.length?"."+a.classes.join("."):"")}function r(a,b,c,d,e){var f=a.parentNode;return f&&f!==b?g(a.parentNode,b,c,d,e):null}function s(a,b){var c,d=a.length;for(c=0;d>c;c+=1)if(b===a[c])return c;return-1}function t(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&c.push(a[b]);return c}var u,v,w,x,y;return y={config:{doc:window.document,allowId:!0,allowAttributes:!0,addVisible:!1},addOmitAttrs:function(){return each(arguments,function(a){u[a]=!0}),this},removeOmitAttrs:function(){return each(arguments,function(a){delete u[a]}),this},getOmitAttrs:function(){return t(u)},resetOmitAttrs:function(){u={"class":!0,style:!0}},addUniqueAttrs:function(){return each(arguments,function(a){v[a]=!0}),this},removeUniqueAttrs:function(){return each(arguments,function(a){delete v[a]}),this},getUniqueAttrs:function(){return t(v)},resetUniqueAttrs:function(){v={id:!0,uid:!0}},addClassOmitFilters:function(){return each(arguments,function(a){w.push(a)}),x=i(w),this},removeClassOmitFilters:function(){return each(arguments,function(a){var b=w.indexOf(a);-1!==b&&w.splice(b,1)}),x=i(w),this},getClassOmitFilters:function(){return w.slice(0)},resetClassOmitFilters:function(){w=[],x=i(w)},query:a,get:b,getCleanSelector:b,quickSelector:c,reset:function(){y.resetOmitAttrs(),y.resetUniqueAttrs(),y.resetClassOmitFilters()}},y.reset(),y}(),utils.throttle=function(a,b,c){b=b||250;var d,e;return function(){var f=c||this,g=+new Date,h=arguments;d&&d+b>g?(clearTimeout(e),e=setTimeout(function(){d=g,a.apply(f,h)},b)):(d=g,a.apply(f,h))}},utils.timers.Repeater=function(a,b,c){function d(){g++,i.limit&&g>=i.limit&&f()}function e(a){g=0,h=setTimeout(function(){h=setInterval(function(){d(),a()},i.repeat),d(),a()},i.delay),d(),a()}function f(){clearTimeout(h),clearInterval(h)}var g,h,i=this;this.delay=a||300,this.repeat=b||50,this.limit=c||0,this.start=e,this.stop=f},utils.timers.Stopwatch=function(a){function b(){v.options=a,z=B,c(),d(),e(),f(),setTimeout(function(){v.dispatch(timers.Stopwatch.events.READY)})}function c(){u=new timers.Timer({frequency:D})}function d(){async.dispatcher(v)}function e(){v.start=m,v.stop=n,v.reset=o,v.getTime=g,v.getCountdown=h,v.getTimeRemaining=i,v.getState=k}function f(){u.on("start",p),u.on("change",q),u.on("stop",r),u.on("reset",s)}function g(){var a=Math.floor(y/C)*C;return a+A}function h(){return z}function i(){var a=g();return B?B-a:0}function j(a){return Math.floor(a/C)*C}function k(){return u.current}function l(a){y=j(a),B&&(z=B-y)}function m(){"ready"===k()&&u.start()}function n(){u.stop()}function o(){u.reset()}function p(a,b){l(b),v.dispatch(timers.Stopwatch.events.START)}function q(a,b){x=y,l(b),x!==y&&(x=y,v.dispatch(timers.Stopwatch.events.CHANGE),B&&g()>=B&&t(a,b))}function r(a,b){l(b),v.dispatch(timers.Stopwatch.events.STOP)}function s(a,b){l(b),v.dispatch(timers.Stopwatch.events.RESET)}function t(){w=!0,v.dispatch(timers.Stopwatch.events.DONE),u.stop()}a=a||{};var u,v=this,w=!1,x=0,y=0,z=0,A=a.startTime||0,B=a.endTime||0,C=a.tick||1e3,D=10;b()},timers.Stopwatch.events={READY:"ready",START:"start",STOP:"stop",RESET:"reset",CHANGE:"change",DONE:"done",ERROR:"error"},utils.timers.Timer=function(a){function b(){c(),d()}function c(){patterns.StateMachine.create({target:l,initial:"ready",error:h,events:[{name:"start",from:"ready",to:"running"},{name:"start",from:"stop",to:"running"},{name:"stop",from:"running",to:"stop"},{name:"reset",from:"stop",to:"ready"}],callbacks:{onafterstart:e,onafterstop:f,onafterreset:g}})}function d(){utils.async.dispatcher(l)}function e(){m=Date.now(),k=setInterval(function(){o=i(),l.dispatch(timers.Timer.events.CHANGE,j())},a.frequency||1e3),l.dispatch(timers.Timer.events.START,n)}function f(){clearInterval(k),o=i(),n+=o,l.dispatch(timers.Timer.events.STOP,n)}function g(){n=0,l.dispatch(timers.Timer.events.RESET,n)}function h(a,b,c,d,e,f){l.dispatch(timers.Timer.events.ERROR,{name:a,from:b,to:c,args:d,errorCode:e,errorMessage:f})}function i(){return"ready"===l.current?0:Date.now()-m}function j(){var a=i();return n+a}var k,l=this,m=0,n=0,o=0;l.getTime=i,l.getTotalTime=j,b()},timers.Timer.events={START:"start",STOP:"stop",RESET:"reset",CHANGE:"change",ERROR:"error"},utils.validators.has=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},utils.validators.isArray=function(a){return a?!!a.isArray:!1},utils.validators.isArrayLike=function(a){if(null===a||utils.validators.isWindow(a))return!1;var b=a.length;return 1===a.nodeType&&b?!0:utils.validators.isString(a)||utils.validators.isArray(a)||0===b||"number"==typeof b&&b>0&&b-1 in a},utils.validators.isBoolean=function(a){return"boolean"==typeof a},utils.validators.isDate=function(a){return a instanceof Date},utils.validators.isDefined=function(a){return"undefined"!=typeof a},utils.validators.isEmail=function(a){var b=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9])+$/;return b.test(a+"")},utils.validators.isEmpty=function(a){if(utils.validators.isString(a))return""===a;if(utils.validators.isArray(a))return 0===a.length;if(utils.validators.isObject(a)){for(var b in a)return!1;return!0}return!1},utils.validators.isFile=function(a){return"[object File]"===utils.formatters.toString.call(a)},utils.validators.isFunction=function(a){return"function"==typeof a},utils.validators.isInt=function(a){return-1!==String(a).search(/^\s*(\-)?\d+\s*$/)},utils.validators.isJson=function(a){try{JSON.parse(a)}catch(b){return!1}return!0},utils.validators.isNumber=function(a){return"number"==typeof a},utils.validators.isNumeric=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},utils.validators.isObject=function(a){return null!==a&&"object"==typeof a},utils.validators.isRegExp=function(a){return"[object RegExp]"===utils.formatters.toString.call(a)},utils.validators.isRequired=function(a,b){if("undefined"==typeof a)throw new Error(b||'The property "'+a+'" is required')},utils.validators.isString=function(a){return"string"==typeof a},utils.validators.isTrue=function(){return{operators:["eq","neq","~eq","~neq","gt","lt","gte","lte"],test:function(a,b,c){switch(isNaN(a)||isNaN(c)?(a=void 0===a?"":a,c=void 0===c?"":c):(a=Number(a),c=Number(c)),b){case"eq":return a+""==c+"";case"neq":return a+""!=c+"";case"~eq":return(a+"").toLowerCase()===(c+"").toLowerCase();case"~neq":return(a+"").toLowerCase()!==(c+"").toLowerCase();case"gt":return a>c;case"lt":return c>a;case"gte":return a>=c;case"lte":return c>=a}}}},utils.validators.isUndefined=function(a){return"undefined"==typeof a},utils.validators.isWindow=function(a){return a&&a.document&&a.location&&a.alert&&a.setInterval},function(){function a(a,b,d){if(0===d||0===a.childElementCount)a.prependChild(b);else if(a.childElementCount===d)a.appendChild(b);else{var e=a.children[d-1];c(b,e)}}function b(a,b){b.parentNode.insertBefore(a,b)}function c(a,b){b.parentNode.insertBefore(a,b.nextSibling)}function d(a,b){b.parentNode.replaceChild(a,b)}function e(a){a.parentNode.removeChild(a)}utils.xml.XMLDocument={insert:a,insertBefore:b,insertAfter:c,remove:e,replace:d}}(),exports.debug=debug,exports.directives=directives,exports.errors=errors,exports.filters=filters,exports.utils=utils,exports.compiler=compiler,exports.injector=injector,exports.interpolator=interpolator,exports.module=module,exports.scope=scope}({},function(){return this}());