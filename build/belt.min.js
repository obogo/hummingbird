!function(a,b){b.belt=a,function(a,b){b.belt=a;var c={};c.dispatcher=function(a,b,c){function d(a,b){var c,d;d=j[a],d&&(b?(c=d.indexOf(b),-1!==c&&d.splice(c,1)):d.length=0)}function e(a,b){return j[a]=j[a]||[],j[a].push(b),function(){d(a,b)}}function f(c,f){function g(){d(c,g),f.apply(b||a,arguments)}return e(c,g)}function g(a){return j[a]}function h(b,c){return b&&b.apply(a,c)}function i(a){if(j[a])for(var b=0,c=j[a],d=c.length;d>b;)h(c[b],arguments),b+=1}var j={};b&&c?(a.on=b[c.on]&&b[c.on].bind(b),a.off=b[c.off]&&b[c.off].bind(b),a.once=b[c.once]&&b[c.once].bind(b),a.dispatch=b[c.dispatch].bind(b)):(a.on=e,a.off=d,a.once=f,a.dispatch=i),a.getListeners=g};var d={};d.localStorage=function(){function a(){try{return"localStorage"in window&&null!==window.localStorage}catch(a){return i.dispatch(i.events.ERROR,a.Description),!1}}function b(){try{var b,c=a(),d="__localStorageSupportTest__";if(c)return b=Date.now().toString(),localStorage.setItem(d,b),localStorage.getItem(d)===b}catch(e){return i.dispatch(i.events.ERROR,e.Description),!1}}function d(b,c){if(!a())return i.dispatch(i.events.WARNING,i.UNSUPPORTED),!1;if(!c&&0!==c&&""!==c)return!1;try{localStorage.setItem(k+b,JSON.stringify(c))}catch(d){return i.dispatch(i.events.ERROR,d.Description),!1}return!0}function e(b){if(!a())return i.dispatch(i.events.WARNING,i.UNSUPPORTED),!1;var c=localStorage.getItem(k+b);return c?JSON.parse(c):null}function f(b){if(!a())return i.dispatch(i.events.WARNING,i.UNSUPPORTED),!1;try{localStorage.removeItem(k+b)}catch(c){return i.dispatch(i.events.ERROR,c.Description),!1}return!0}function g(b){if(!a())return i.dispatch(i.events.WARNING,i.UNSUPPORTED),!1;var c,d=k+(b||""),f=d.length,g=k.length,h={};for(var j in localStorage)localStorage.hasOwnProperty(j)&&j.substr(0,f)===d&&(c=j.substr(g),h[c]=e(c));return h}function h(b){if(!a())return i.dispatch(i.events.WARNING,i.UNSUPPORTED),!1;var c=k.length;for(var d in localStorage)if(localStorage.hasOwnProperty(d)&&d.substr(0,c)===k&&(!b||d.substr(c).match(b)))try{f(d.substr(c))}catch(e){return i.dispatch(i.events.ERROR,e.Description),!1}return!0}var i={events:{WARNING:"localStorage:warning",ERROR:"localStorage:error"},UNSUPPORTED:"LOCAL_STORAGE_NOT_SUPPORTED"},j="global",k=j+":";return i.prefix=function(a){return void 0!==a&&(j=a,k=j+":"),j},i.isSupported=a,i.enabled=b,i.put=d,i.get=e,i.getAll=g,i.remove=f,i.clearAll=h,c.dispatcher(i),i}();var e={};e.Stopwatch=function(a){function b(){x.options=a,A=C,d(),f(),g(),h(),setTimeout(function(){x.dispatch(e.Stopwatch.events.READY)})}function d(){w=new e.Timer({frequency:E})}function f(){c.dispatcher(x)}function g(){x.start=o,x.stop=p,x.reset=q,x.getTime=i,x.getCountdown=j,x.getTimeRemaining=k,x.getState=m}function h(){w.on("start",r),w.on("change",s),w.on("stop",t),w.on("reset",u)}function i(){var a=Math.floor(z/D)*D;return a+B}function j(){return A}function k(){var a=i();return C?C-a:0}function l(a){return Math.floor(a/D)*D}function m(){return w.current}function n(a){z=l(a),C&&(A=C-z)}function o(){"ready"===m()&&w.start()}function p(){w.stop()}function q(){w.reset()}function r(a,b){n(b),x.dispatch(e.Stopwatch.events.START)}function s(a,b){y=z,n(b),y!==z&&(y=z,x.dispatch(e.Stopwatch.events.CHANGE),C&&i()>=C&&v(a,b))}function t(a,b){n(b),x.dispatch(e.Stopwatch.events.STOP)}function u(a,b){n(b),x.dispatch(e.Stopwatch.events.RESET)}function v(){done=!0,x.dispatch(e.Stopwatch.events.DONE),w.stop()}a=a||{};var w,x=this,y=0,z=0,A=0,B=a.startTime||0,C=a.endTime||0,D=a.tick||1e3,E=10;b()},e.Stopwatch.events={READY:"ready",START:"start",STOP:"stop",RESET:"reset",CHANGE:"change",DONE:"done",ERROR:"error"},e.Timer=function(a){function b(){d(),f()}function d(){patterns.StateMachine.create({target:n,initial:"ready",error:j,events:[{name:"start",from:"ready",to:"running"},{name:"start",from:"stop",to:"running"},{name:"stop",from:"running",to:"stop"},{name:"reset",from:"stop",to:"ready"}],callbacks:{onafterstart:g,onafterstop:h,onafterreset:i}})}function f(){c.dispatcher(n)}function g(){o=Date.now(),m=setInterval(function(){q=k(),n.dispatch(e.Timer.events.CHANGE,l())},a.frequency||1e3),n.dispatch(e.Timer.events.START,p)}function h(){clearInterval(m),q=k(),p+=q,n.dispatch(e.Timer.events.STOP,p)}function i(){p=0,n.dispatch(e.Timer.events.RESET,p)}function j(a,b,c,d,f,g){n.dispatch(e.Timer.events.ERROR,{name:a,from:b,to:c,args:d,errorCode:f,errorMessage:g})}function k(){return"ready"===n.current?0:Date.now()-o}function l(){var a=k();return p+a}var m,n=this,o=0,p=0,q=0;n.getTime=k,n.getTotalTime=l,b()},e.Timer.events={START:"start",STOP:"stop",RESET:"reset",CHANGE:"change",ERROR:"error"},a.async=c,a.browser=d,a.timers=e}({},function(){return this}())}({},function(){return this}());