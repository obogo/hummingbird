!function(a,b){b.hb=a;var c=a.$$||function(a){return c[a]||(c[a]={}),c[a]},d=c("c"),e=c("i"),f=c("p");a.$$=c;var g=function(a){return Array.prototype.slice.call(a)},h=function(a){var b=g(arguments),c=b[1];"function"==typeof c?this.c[a]=c():(d[a]=b[2],d[a].$inject=c,d[a].$internal=this.i)},i=function(){h.apply({i:!1,c:a},g(arguments))},j=function(){h.apply({i:!0,c:e},g(arguments))},k=function(b,c){f[b]=!0;var g,h=c.$inject,i=[];for(var j in h)if(h.hasOwnProperty(j)&&(g=h[j],d[g])){if(f.hasOwnProperty(g))throw new Error('Cyclical reference: "'+b+'" referencing "'+g+'"');k(g,d[g]),delete d[g]}if(!a[b]&&!e[b]){for(var l in h)g=h[l],i.push(a[g]||e[g]);c.$internal?e[b]=c.apply(null,i)||b:a[b]=c.apply(null,i)||b}Object.defineProperty(a,"$$",{enumerable:!1,writable:!1}),delete f[b]};i("escapeRegExp",function(){return function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}}),j("http.interceptor",["http","parseRoute","functionArgs"],function(a,b,c){function d(a){function c(a){return h=a.trim(),""}var d,e,f,g,h,j,k=i.length;for(d=0;k>d;d+=1)if(e=i[d],"string"===e.type?(h=null,j=e.matcher.replace(/^\w+\s+/,c),h&&a.method.toLowerCase()!==h.toLowerCase()?f=void 0:(f=b.match(j,a.url),f&&(g=b.extractParams(j,a.url),a.params=g.params,a.query=g.query))):"object"===e.type?f=a.url.match(e.matcher):"function"===e.type&&(f=e.matcher(a)),f){f=e;break}return f}function e(a,b,d,e,f){var g=c(a[b]);-1===g.indexOf("next")?(a[b](d,e),f()):a[b](d,e,f)}function f(a,b,c){i.push({matcher:a,type:typeof a,pre:b,post:c})}function g(a){var b,c=i.length;for(b=0;c>b;b+=1)i[b].matcher===a&&(i.splice(b,1),b-=1,c-=1)}function h(a,b){function c(){i||(i=!0,void 0===j.data?(g=new b(a),h.post&&(g.xhr.onloadInterceptor=function(b,c){for(var d in c)c.hasOwnProperty(d)&&void 0===j[d]&&(j[d]=c[d]);e(h,"post",a,j,j.data?f:b)})):h.post&&e(h,"post",a,j,f))}function f(){j.status=j.status||200,a.success&&j.status>=200&&j.status<=299?a.success(j):a.error&&a.error(j)}var g,h=d(a),i=!1,j={},k={status:function(a){j.status=a},send:function(a){j.data=a,c()}};return h&&h.pre?(e(h,"pre",a,k,c),!0):!1}var i=[];return a.intercept=h,{add:f,remove:g}}),i("extend",["toArray"],function(a){var b=function(c,d){var e,f,g,h=a(arguments),i=1,j=h.length,k=this||{};for(!c&&d&&"object"==typeof d&&(c={});j>i;){e=h[i];for(f in e)e.hasOwnProperty(f)&&("length"===f&&c instanceof Array||(c[f]&&"object"==typeof c[f]&&!e[f]instanceof Array?c[f]=b.apply(k,[c[f],e[f]]):e[f]instanceof Array?(g=k&&k.concat?(c[f]||[]).concat(e[f]):e[f],k&&k.arrayAsObject?(c[f]||(c[f]={length:g.length}),c[f]instanceof Array&&(c[f]=b.apply(k,[{},c[f]]))):c[f]=c[f]||[],g.length&&(c[f]=b.apply(k,[c[f],g]))):e[f]&&"object"==typeof e[f]?(k.objectAsArray&&"number"==typeof e[f].length&&(c[f]instanceof Array||(c[f]=b.apply(k,[[],c[f]]))),c[f]=b.apply(k,[c[f]||{},e[f]])):(k.override!==!1||void 0===c[f])&&(c[f]=e[f])));i+=1}return c};return b}),i("toArray",["isArguments","isArray","isUndefined"],function(a,b,c){var d=function(d){if(a(d))return Array.prototype.slice.call(d,0)||[];try{if(b(d))return d;if(!c(d))return[].concat(d)}catch(e){}return[]};return d}),i("isArguments",["toString"],function(a){var b=function(b){var c=String(b),d="[object Arguments]"===c;return d||(d="[object Array]"!==c&&null!==b&&"object"==typeof b&&"number"==typeof b.length&&b.length>=0&&(!b.callee||"[object Function]"===a.call(b.callee))),d};return b}),i("isArray",function(){Array.prototype.__isArray=!0,Object.defineProperty(Array.prototype,"__isArray",{enumerable:!1,writable:!0});var a=function(a){return a?!!a.__isArray:!1};return a}),i("isUndefined",function(){var a=function(a){return"undefined"==typeof a};return a}),i("parseRoute",["each"],function(a){function b(a,b,c,d,e){":"===a[0]&&(d[a.replace(":","")]=e[b])}function c(a,b){var c=a.split("=");b[c[0]]=c[1]}function d(a,b){return b&&(a=a.split("?").shift()),a=a.replace(/^\w+:\/\//,""),a=a.replace(/^\w+:\d+\//,"/"),a=a.replace(/^\w+\.\w+\//,"/")}function e(e,g,h){g=d(g);var i=g.split("?"),j=i[1],k={},l={};return"/"===e[0]&&"/"!==i[0][0]&&(i[0]="/"+i[0]),i=i[0].split("/"),a.call({all:!0},e.split("/"),b,k,i),j&&a(j.split("&"),c,l),h?f({},[k,l]):{params:k,query:l}}function f(a,b){var c,d,e,f=b.length;for(c=0;f>c;c+=1){e=b[c];for(d in e)e.hasOwnProperty(d)&&(a[d]=e[d])}return a}function g(b,c){var f=-1!==b.indexOf("?")?b.split("?").pop().split("&"):[];b.replace(/:(\w+)/g,function(a,b){return f.push(b),a});var g=e(b.split("?").shift(),c,!0),h=!!f.length;if(h&&(a(f,function(a){""===a||g.hasOwnProperty(a)&&void 0!==g[a]||(h=!1)}),!h))return null;var i=b.split("?").shift().replace(/\/:(\w+)/g,function(a,b){return"/"+g[b]}),j=d(c,!0);return j===i}return{extractParams:e,match:g}}),i("each",function(){function a(a,b,c,d,e,f,g){var h=g?[c,d,e]:[c];return b.apply(a,h.concat(f))}var b=function(b,c){var d,e,f,g=0;if(arguments.length>2&&(f=Array.prototype.slice.apply(arguments),f.splice(0,2)),b&&b.length&&b.hasOwnProperty(0))for(d=b.length;d>g;){if(e=a(this.scope,c,b[g],g,b,f,this.all),void 0!==e)return e;g+=1}else if(!(b instanceof Array)&&void 0===b.length)for(g in b)if(b.hasOwnProperty(g)&&(!this.omit||!this.omit[g])&&(e=a(this.scope,c,b[g],g,b,f,this.all),void 0!==e))return e;return b};return b}),i("functionArgs",function(){var a=/\(.*?\)/,b=/([\$\w])+/gm;return function(c){var d=(c||"")+"";return d.match(a)[0].match(b)||[]}}),j("http.jsonp",["http"],function(a){function b(){for(var a=0,b=d;window[b];)b=d+a,a+=1;return b}function c(a,b,c){window[a]=function(d){delete window[a],b(d),document.head.removeChild(c)}}var d="_jsonpcb";return a.jsonp=function(a,d,e){var f,g,h,i=b(),j={};if(void 0===a)throw new Error("CORS: url must be defined");"object"==typeof a?j=a:("function"==typeof d&&(j.success=d),"function"==typeof e&&(j.error=e),j.url=a),j.callback=i,h=document.createElement("script"),h.type="text/javascript",h.onload=function(){setTimeout(function(){window[i]&&e(a+" failed.")})},c(i,d,h),f=[];for(g in j)j.hasOwnProperty(g)&&f.push(g+"="+j[g]);h.src=a+"?"+f.join("&"),document.head.appendChild(h)},a}),i("aggregate",function(){var a=function(a,b){for(var c=0,d=a.length,e=[],f={};d>c;)b(f,a[c]),c+=1;for(c in f)f.hasOwnProperty(c)&&e.push(f[c]);return e};return a.minute=function(a){var b;this.format=function(c,d){b=d[a].getMinutes(),c[b]=c[b]||{date:d[a].getTime(),value:0},c[b].value+=1}},a.hour=function(a){var b;return function(c,d){b=d[a].getHours(),c[b]=c[b]||{date:d[a].getTime(),value:0},c[b].value+=1}},a}),j("asyncRender",["dispatcher","hb.eventStash"],function(a,b){function c(){this.down=e,this.up=d,this.direction=e,this.index=0,this.len=0,this.maxLen=0,this.size=0,this.complete=!1,this.atChunkEnd=!1,a(this)}var d="up",e="down";b.ASYNC_RENDER_CHUNK_END="async::chunk_end",b.ASYNC_RENDER_COMPLETE="async::complete";var f=c.prototype;return f.setup=function(a,b,c){this.direction=a,this.size=b,this.len=0,this.maxLen=c,this.atChunkEnd=!1,this.complete=!1,this.index=a===e?0:c-1},f.inc=function(){this.complete||this.atChunkEnd||(this.direction===e?this.index<this.len?(this.index+=1,this.index===this.len&&this.finishChunk()):this.finishChunk():(this.index>this.maxLen-this.len-1&&(this.index-=1),this.index<=this.maxLen-this.len-1&&this.finishChunk()))},f.finishChunk=function(){this.complete||this.atChunkEnd||(this.atChunkEnd=!0,-1!==this.index&&this.index!==this.maxLen||this.len!==this.maxLen||this.finish(),this.dispatch(b.ASYNC_RENDER_CHUNK_END))},f.next=function(){if(this.complete)return this.dispatch(b.ASYNC_RENDER_COMPLETE),this.direction=e,!1;var a=Math.min(this.size,this.maxLen);return a?(this.len+a>this.maxLen&&(a=this.maxLen-this.len),this.direction===d&&(this.index=this.maxLen-this.len-1),this.len+=a,this.atChunkEnd=!1,!0):!1},f.finish=function(){this.complete=!0},{create:function(){return new c}}}),i("dispatcher",["apply"],function(a){var b=function(b,c,d){function e(a,b){var c,d;d=l[a],d&&(b?(c=d.indexOf(b),-1!==c&&d.splice(c,1)):d.length=0)}function f(a,b){return l[a]=l[a]||[],l[a].push(b),function(){e(a,b)}}function g(d,g){function h(){e(d,h),a(g,c||b,arguments)}return f(d,h)}function h(a,b){var c,d="*";return a||b?(c=[],l[d]&&(c=l[d].concat(c)),l[a]&&(c=l[a].concat(c)),c):l}function i(){l={}}function j(c,d){return c&&a(c,b,d)}function k(a){var b,c=h(a,!0),d=c.length;if(d)for(b=0;d>b;b+=1)j(c[b],arguments)}b=b||{};var l={};return c&&d?(b.on=c[d.on]&&c[d.on].bind(c),b.off=c[d.off]&&c[d.off].bind(c),b.once=c[d.once]&&c[d.once].bind(c),b.dispatch=b.fire=c[d.dispatch].bind(c)):(b.on=f,b.off=e,b.once=g,b.dispatch=b.fire=k),b.getListeners=h,b.removeAllListeners=i,b};return b}),i("apply",function(){return function(a,b,c){switch(c=c||[],c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2]);case 4:return a.call(b,c[0],c[1],c[2],c[3]);case 5:return a.call(b,c[0],c[1],c[2],c[3],c[4]);case 6:return a.call(b,c[0],c[1],c[2],c[3],c[4],c[5])}return a.apply(b,c)}}),i("indexOfMatch",["isMatch"],function(a){function b(b,c){for(var d=0,e=b.length;e>d;d+=1)if(a(b[d],c))return d;return-1}return b}),i("isMatch",["isRegExp"],function(a){function b(d,e){var f;if(d===e)return!0;if("object"==typeof e){if(f=typeof d,-1!==c.indexOf(f)&&a(e)&&!e.test(d+""))return!1;if(d instanceof Array&&void 0!==e[0]){for(var g=0;g<d.length;g+=1)if(b(d[g],e[0]))return!0;return!1}for(var h in e)if(e.hasOwnProperty(h)){if(!d.hasOwnProperty(h))return!1;if(!b(d[h],e[h]))return!1}return!0}return"function"==typeof e?!!e(d):!1}var c=["string","number","boolean"];return b}),i("isRegExp",function(){var a=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)};return a}),i("matchAll",["isMatch"],function(a){function b(b,c){for(var d=[],e=0;e<b.length;e+=1)a(b[e],c)&&d.push(b[e]);return d}return b}),i("matchAllOthers",["isMatch"],function(a){function b(b,c){for(var d=[],e=0,f=b.length;f>e;e+=1)a(b[e],c)||d.push(b[e]);return d}return b}),i("matchIndexOf",["isMatch"],function(a){function b(b,c){for(var d=0,e=b.length;e>d;d+=1)if(a(b[d],c))return d;return-1}return b}),i("selection",["matchIndexOf"],function(a){return function(b,c){function d(a,b){var d;(k!==a||l!==b)&&(d=k,k=a,l=b,c.dispatch&&c.dispatch(c.constructor.name+"::selectionChange",k,d))}function e(){return k}function f(c){if(!c)return d(null,-1);var e=a(b,c);-1!==e&&d(b[e],e)}function g(){return l}function h(a){b[a]&&d(b[a],a)}function i(a){b=a,k=null,l=-1}function j(){return b}var k,l=-1;return c=c||{},c.getSelectedItem=e,c.setSelectedItem=f,c.getSelectedIndex=g,c.setSelectedIndex=h,c.getList=j,c.setList=i,c}}),i("sort",function(){function a(a,c,d,e){var f,g=a[d-1],h=c,i=0;for(f=c;d-1>f;f+=1)i=e(a[f],g),0>i&&(f!==h&&b(a,f,h),h+=1);return e(a[h],g)&&b(a,h,d-1),h}function b(a,b,c){var d=a[b];return a[b]=a[c],a[c]=d,a}function c(b,d,e,f){if(e>d){var g=a(b,d,e,f);c(b,d,g,f),c(b,g+1,e,f)}return b}return function(a,b){var d=c(a,0,a.length,b);return d}}),i("sortOn",["sort"],function(a){var b=function(b,c,d){d=d?1:0;var e=function(a,b){return d?b[c]>a[c]?1:a[c]>b[c]?-1:0:b[c]<a[c]?1:a[c]<b[c]?-1:0};return a(b,e)};return b}),i("debounce",function(a){var a=function(a,b,c){var d;return function(){var e=c||this,f=arguments;clearTimeout(d),d=setTimeout(function(){d=null,a.apply(e,f)},b)}};return a}),i("defer",function(){var a=function(a){function b(a){j(function(){throw a})}function c(b){return this.then(b,a)}function d(b){return this.then(a,b)}function e(b,c){return this.then(function(a){return k(b)?b.apply(null,l(a)?a:[a]):t.onlyFuncs?a:b},c||a)}function f(a){function b(){a()}return this.then(b,b),this}function g(a){return this.then(function(b){return k(a)?a.apply(null,l(b)?b.splice(0,0,void 0)&&b:[void 0,b]):t.onlyFuncs?b:a},function(b){return a(b)})}function h(c){return this.then(a,c?function(a){throw c(a),a}:b)}function i(a,b){var c=o(a);if(1===c.length&&l(c[0])){if(!c[0].length)return t.fulfilled([]);c=c[0]}var d=[],e=t(),f=c.length;if(f)for(var g=(function(a){c[a]=t.promisify(c[a]),c[a].then(function(g){a in d||(d[a]=b?c[a]:g,--f||e.resolve(d))},function(g){a in d||(b?(d[a]=c[a],--f||e.resolve(d)):e.reject(g))})}),h=0,i=f;i>h;h++)g(h);else e.resolve(d);return e.promise}var j,k=function(a){return"function"==typeof a},l=function(a){return Array.isArray?Array.isArray(a):a instanceof Array},m=function(a){return!(!a||!(typeof a).match(/function|object/))},n=function(b){return b===!1||b===a||null===b},o=function(a,b){return[].slice.call(a,b)},p="undefined",q=typeof TypeError===p?Error:TypeError;if(typeof process!==p&&process.nextTick)j=process.nextTick;else if(typeof MessageChannel!==p){var r=new MessageChannel,s=[];r.port1.onmessage=function(){s.length&&s.shift()()},j=function(a){s.push(a),r.port2.postMessage(0)}}else j=function(a){setTimeout(a,0)};var t=function(b){function i(){if(0!==s){var a,b=u,c=0,d=b.length,e=~s?0:1;for(u=[];d>c;c++)(a=b[c][e])&&a(p)}}function l(a){function b(a){return function(b){return c?void 0:(c=!0,a(b))}}var c=!1;if(s)return this;try{var d=m(a)&&a.then;if(k(d)){if(a===v)throw new q("Promise can't resolve itself");return d.call(a,b(l),b(o)),this}}catch(e){return b(o)(e),this}return r(function(){p=a,s=1,i()}),this}function o(a){return s||r(function(){try{throw a}catch(b){p=b}s=-1,i()}),this}var p,r=(a!==b?b:t.alwaysAsync)?j:function(a){a()},s=0,u=[],v={then:function(a,b){var c=t();return u.push([function(b){try{if(n(a))c.resolve(b);else{var d=k(a)?a(b):t.onlyFuncs?b:a;void 0===d&&(d=b),c.resolve(d)}}catch(e){c.reject(e)}},function(a){if((n(b)||!k(b)&&t.onlyFuncs)&&c.reject(a),b)try{c.resolve(k(b)?b(a):b)}catch(d){c.reject(d)}}]),0!==s&&r(i),c.promise},success:c,error:d,otherwise:d,apply:e,spread:e,ensure:f,nodify:g,rethrow:h,isPending:function(){return!(0!==s)},getStatus:function(){return s}};return v.toSource=v.toString=v.valueOf=function(){return p===a?this:p},{promise:v,resolve:l,fulfill:l,reject:o}};return t.deferred=t.defer=t,t.nextTick=j,t.alwaysAsync=!0,t.onlyFuncs=!0,t.resolved=t.fulfilled=function(a){return t(!0).resolve(a).promise},t.rejected=function(a){return t(!0).reject(a).promise},t.wait=function(a){var b=t();return setTimeout(b.resolve,a||0),b.promise},t.delay=function(a,b){var c=t();return setTimeout(function(){try{c.resolve(a.apply(null))}catch(b){c.reject(b)}},b||0),c.promise},t.promisify=function(a){return a&&k(a.then)?a:t.resolved(a)},t.all=function(){return i(arguments,!1)},t.resolveAll=function(){return i(arguments,!0)},t.nodeCapsule=function(a,b){return b||(b=a,a=void 0),function(){var c=t(),d=o(arguments);d.push(function(a,b){a?c.reject(a):c.resolve(arguments.length>2?o(arguments,1):b)});try{b.apply(a,d)}catch(e){c.reject(e)}return c.promise}},t}();return a}),i("throttle",function(){var a=function(a,b,c){b=b||250;var d,e;return function(){var f=c||this,g=+new Date,h=arguments;d&&d+b>g?(clearTimeout(e),e=setTimeout(function(){d=g,a.apply(f,h)},b)):(d=g,a.apply(f,h))}};return a}),i("waterfall",["toArray"],function(a){var b=function(b,c,d){function e(){if(c.length){var b=c.shift();b.apply(null,a(arguments).concat(e))}else{var f=a(arguments);f.unshift(null),d&&d.apply(null,f)}}b=b||[],e.apply(null,b.concat(e))};return b}),i("addFileToHead",function(){return function(a){var b,c=document.getElementsByTagName("head")[0];a.match(/.*?\.js$/gim)?(b=document.createElement("script"),b.setAttribute("type","text/javascript"),b.setAttribute("src",a)):a.match(/.*?\.css$/gim)&&(b=document.createElement("link"),b.setAttribute("rel","stylesheet"),b.setAttribute("type","text/css"),b.setAttribute("href",a)),c&&c.appendChild(b)}}),i("browserState",["dispatcher"],function(a){var b=a({}),c=void 0===document.documentMode,d=window.chrome;return c&&!d?(window.addEventListener("focusin",function(){setTimeout(function(){b.dispatch("changed","active")},300)}),window.addEventListener("focusout",function(){b.dispatch("changed","inactive")})):window.addEventListener?(window.addEventListener("focus",function(){setTimeout(function(){b.dispatch("changed","active")},300)},!1),window.addEventListener("blur",function(){b.dispatch("changed","inactive")},!1)):(window.attachEvent("focus",function(){setTimeout(function(){b.dispatch("changed","active")},300)}),window.attachEvent("blur",function(){b.dispatch("changed","inactive")})),b}),i("cookie",function(){var a=function(){var a=function(){return a.get.apply(a,arguments)},b=a.utils={isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isPlainObject:function(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)},toArray:function(a){return Array.prototype.slice.call(a)},getKeys:Object.keys||function(a){var b=[],c="";for(c in a)a.hasOwnProperty(c)&&b.push(c);return b},escape:function(a){return String(a).replace(/[,;"\\=\s%]/g,function(a){return encodeURIComponent(a)})},retrieve:function(a,b){return null===a?b:a}};return a.defaults={},a.expiresMultiplier=86400,a.set=function(a,c,d){if(b.isPlainObject(a))for(var e in a)a.hasOwnProperty(e)&&this.set(e,a[e],c);else{d=b.isPlainObject(d)?d:{expires:d};var f=void 0!==d.expires?d.expires:this.defaults.expires||"",g=typeof f;"string"===g&&""!==f?f=new Date(f):"number"===g&&(f=new Date(+new Date+1e3*this.expiresMultiplier*f)),""!==f&&"toGMTString"in f&&(f=";expires="+f.toGMTString());var h=d.path||this.defaults.path;h=h?";path="+h:"";var i=d.domain||this.defaults.domain;i=i?";domain="+i:"";var j=d.secure||this.defaults.secure?";secure":"";document.cookie=b.escape(a)+"="+b.escape(c)+f+h+i+j}return this},a.remove=function(a){a=b.isArray(a)?a:b.toArray(arguments);for(var c=0,d=a.length;d>c;c++)this.set(a[c],"",-1);return this},a.empty=function(){return this.remove(b.getKeys(this.all()))},a.get=function(a,c){c=c||void 0;var d=this.all();if(b.isArray(a)){for(var e={},f=0,g=a.length;g>f;f++){var h=a[f];e[h]=b.retrieve(d[h],c)}return e}return b.retrieve(d[a],c)},a.all=function(){if(""===document.cookie)return{};for(var a=document.cookie.split("; "),b={},c=0,d=a.length;d>c;c++){var e=a[c].split("=");b[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return b},a.enabled=function(){if(navigator.cookieEnabled)return!0;var b="_"===a.set("_","_").get("_");return a.remove("_"),b},a}();return a}),i("cssRules",function(){function a(a,b){a=a.toLowerCase();var c,d,e,f,g=document.styleSheets&&document.styleSheets.length||0;if(document.styleSheets)for(e=0;g>e;e+=1){c=document.styleSheets[e],d=0,f=!1;do{if(c.cssRules?f=c.cssRules[d]:c.rules&&(f=c.rules[d]),f&&f.selectorText&&f.selectorText.toLowerCase()==a)return"delete"==b?(c.cssRules?c.deleteRule(d):c.removeRule(d),!0):f;d++}while(f)}return!1}function b(b){return a(b,"delete")}function c(b,c){var d;return document.styleSheets&&(a(b)||(d=document.styleSheets.length-1,document.styleSheets[0].addRule?document.styleSheets[d].addRule(b,c,0):document.styleSheets[d].insertRule(b+" {"+c+" }",0))),a(b)}return{get:a,add:c,remove:b}}),i("loader",["toArray"],function(a){return function(b){function c(a,c){var d,e=b.createElement(a);for(d in c)c.hasOwnProperty(d)&&e.setAttribute(d,c[d]);return e}function d(a){var b,c,d=k[a];d&&(b=d.callback,c=d.urls,c.shift(),l=0,c.length||(b&&b.call(d.context,d.obj),k[a]=null,m[a].length&&f(a)))}function e(){var a=navigator.userAgent;i={async:b.createElement("script").async===!0},(i.webkit=/AppleWebKit\//.test(a))||(i.ie=/MSIE|Trident/.test(a))||(i.opera=/Opera/.test(a))||(i.gecko=/Gecko\//.test(a))||(i.unknown=!0)}function f(a,f,l,n,o){var p,q,r,s,t,u,v=function(){d(a)},w="css"===a,x=[];if(i||e(),f)if(f="string"==typeof f?[f]:f.concat(),w||i.async||i.gecko||i.opera)m[a].push({urls:f,callback:l,obj:n,context:o});else for(p=0,q=f.length;q>p;++p)m[a].push({urls:[f[p]],callback:p===q-1?l:null,obj:n,context:o});if(!k[a]&&(s=k[a]=m[a].shift())){for(j||(j=b.head||b.getElementsByTagName("head")[0]),t=s.urls.concat(),p=0,q=t.length;q>p;++p)u=t[p],w?r=i.gecko?c("style"):c("link",{href:u,rel:"stylesheet"}):(r=c("script",{src:u}),r.async=!1),r.className="lazyload",r.setAttribute("charset","utf-8"),i.ie&&!w&&"onreadystatechange"in r&&!("draggable"in r)?r.onreadystatechange=function(){/loaded|complete/.test(r.readyState)&&(r.onreadystatechange=null,v())}:w&&(i.gecko||i.webkit)?i.webkit?(s.urls[p]=r.href,h()):(r.innerHTML='@import "'+u+'";',g(r)):r.onload=r.onerror=v,x.push(r);for(p=0,q=x.length;q>p;++p)j.appendChild(x[p])}}function g(a){var b;try{b=!!a.sheet.cssRules}catch(c){return l+=1,void(200>l?setTimeout(function(){g(a)},50):b&&d("css"))}d("css")}function h(){var a,b=k.css;if(b){for(a=n.length;--a>=0;)if(n[a].href===b.urls[0]){d("css");break}l+=1,b&&(200>l?setTimeout(h,50):d("css"))}}var i,j,k={},l=0,m={css:[],js:[]},n=b.styleSheets;return{css:function(a,b,c,d){f("css",a,b,c,d)},js:function(a,b,c,d){f("js",a,b,c,d)},load:function(b,c){function d(){++e===b.length&&c()}var e=0;b=a(b);for(var f=b?b.length:0,g=0;f>g;g++){var h=b[g];/.js\?|.js$/im.test(h)?this.js(h,d):/.css\?|.css/im.test(h)?this.css(h,d):console.warn("Unkown type: "+h)}}}}(window.document)}),i("localStorage",["dispatcher"],function(a){var b=function(){function b(){try{return"localStorage"in window&&null!==window.localStorage}catch(a){return i.dispatch(i.events.ERROR,a.Description),!1}}function c(){try{var a,c=b(),d="__localStorageSupportTest__";if(c)return a=Date.now().toString(),localStorage.setItem(d,a),localStorage.getItem(d)===a}catch(e){return i.dispatch(i.events.ERROR,e.Description),!1}}function d(a,c){if(!b())return i.dispatch(i.events.WARNING,i.UNSUPPORTED),!1;if(!c&&0!==c&&""!==c)return!1;try{localStorage.setItem(k+a,JSON.stringify(c))}catch(d){return i.dispatch(i.events.ERROR,d.Description),!1}return!0}function e(a){if(!b())return i.dispatch(i.events.WARNING,i.UNSUPPORTED),!1;var c=localStorage.getItem(k+a);return c?JSON.parse(c):null}function f(a){if(!b())return i.dispatch(i.events.WARNING,i.UNSUPPORTED),!1;try{localStorage.removeItem(k+a)}catch(c){return i.dispatch(i.events.ERROR,c.Description),!1}return!0}function g(a){if(!b())return i.dispatch(i.events.WARNING,i.UNSUPPORTED),!1;var c,d=k+(a||""),f=d.length,g=k.length,h={};for(var j in localStorage)localStorage.hasOwnProperty(j)&&j.substr(0,f)===d&&(c=j.substr(g),h[c]=e(c));return h}function h(a){if(!b())return i.dispatch(i.events.WARNING,i.UNSUPPORTED),!1;var c=k.length;for(var d in localStorage)if(localStorage.hasOwnProperty(d)&&d.substr(0,c)===k&&(!a||d.substr(c).match(a)))try{f(d.substr(c))}catch(e){return i.dispatch(i.events.ERROR,e.Description),!1}return!0}var i={events:{WARNING:"localStorage:warning",ERROR:"localStorage:error"},UNSUPPORTED:"LOCAL_STORAGE_NOT_SUPPORTED"},j="global",k=j+":";return i.prefix=function(a){return void 0!==a&&(j=a,k=j+":"),j},i.isSupported=b,i.enabled=c,i.put=d,i.get=e,i.getAll=g,i.remove=f,i.clearAll=h,a(i),i}();return b}),i("ready",function(){function a(){for(var a=0,b=c.length;b>a;)c[a](),a+=1;c.length=0}var b,c=[],d=window,e=document,f="addEventListener",g="removeEventListener",h="attachEvent",i="detachEvent",j="DOMContentLoaded",k="onreadystatechange",l="complete",m="readyState",n=function(b){c.push(b),e[m]===l&&setTimeout(a)};return e[f]?b=function(){e[g](j,b,!1),a()}:e.attachEvent&&(b=function(){e[m]===l&&(e[i](k,b),a())}),e[m]===l&&setTimeout(a,1),e[f]?(e[f](j,b,!1),d[f]("load",a,!1)):e[h]&&(e[h](k,b),d[h]("onload",a)),n}),i("shades",function(){var a=function(a,b){function c(a){var b,c,d,e,f,g,i,j=0,k=h.length;for(a>=1&&(j=k);k>j;){if(a<=h[j].pct)return b=0===j?h[j]:h[j-1],c=0===j?h[j+1]:h[j],d=c.pct-b.pct,e=(a-b.pct)/d,f=1-e,g=e,i={r:Math.floor(b.color.r*f+c.color.r*g),g:Math.floor(b.color.g*f+c.color.g*g),b:Math.floor(b.color.b*f+c.color.b*g)};j+=1}return i=h[h.length-1].color}function d(a){return"rgb("+[a.r,a.g,a.b].join(",")+")"}function e(a){var b=c(a);return d(b)}var f=0,g=a?a.length:0,h=[],i=[{pct:0,color:{r:0,g:153,b:0}},{pct:.5,color:{r:255,g:255,b:0}},{pct:1,color:{r:255,g:0,b:0}}];if(a&&b)for(;g>f;)h.push(a[f],b[f]),f+=1;else h=a?a:i;return{getRGB:c,getRGBStr:e,convertRGBToStr:d}}();return a}),i("contentEditableSelection",["query","apply","each"],function(a,b,c){function d(a,b){var e=b||{count:0};return 3===a.nodeType?e.count+=a.length:a.childNodes.length&&c(a.childNodes,d,e),b?void 0:e.count}function e(b){function c(){e._lastDir=e._lastCaretIndex>e._currentCaretIndex?-1:e._lastCaretIndex===e._currentCaretIndex?0:1,e._lastCaretIndex=e._currentCaretIndex}function d(){var a,b,c=window.getSelection(),d=e._lastCaretIndex;c.getRangeAt&&c.rangeCount&&(a=c.getRangeAt(0),b=e._currentCaretIndex=e.getAbsoluteIndex(a)),e._preventSelector&&a&&a.startContainer!==e.el&&-1!==e.$el.find(e._preventSelector).indexOf(a.startContainer)&&b===d&&(e._currentCaretIndex+=e._lastDir,e._currentCaretIndex<0&&(e._currentCaretIndex=0),e.setCaretIndex(e._currentCaretIndex))}var e=this;if(b.ces)return b.ces;b.ces=e;var f=a(b),g=this.saveSelection.bind(this);f.on("blur",g),f.on("keyup",g),this.el=b,this.$el=f,this.ss=g,this._lastSelection,this._preventSelector=null,f.on("keydown",c),f.on("keyup",d),f.on("focus",c)}var f=e.prototype;f.destroy=function(){this.$el.off("blur",this.ss),this.$el.off("keyup",this.ss),this.ss=null,this.$el=null,this.el=null},f.insertAtCursor=function(a,b){var c,d;if(this.restoreSelection(),window.getSelection){if(c=window.getSelection(),c.getRangeAt&&c.rangeCount){d=c.getRangeAt(0),d.deleteContents();var e=document.createElement("div");e.innerHTML=a;for(var f,g,h=document.createDocumentFragment();f=e.firstChild;)g=h.appendChild(f);var i=h.firstChild;d.insertNode(h),g&&(d=d.cloneRange(),d.setStartAfter(g),b?d.setStartBefore(i):d.collapse(!0),c.removeAllRanges(),c.addRange(d))}}else if((c=document.selection)&&"Control"!=c.type){var j=c.createRange();j.collapse(!0),c.createRange().pasteHTML(a),b&&(d=c.createRange(),d.setEndPoint("StartToStart",j),d.select())}},f.saveSelection=function(){var a;return this._lastSelection=null,window.getSelection?(a=window.getSelection(),a.getRangeAt&&a.rangeCount&&(this._lastSelection=a.getRangeAt(0))):document.selection&&document.selection.createRange&&(this._lastSelection=document.selection.createRange()),this._lastSelection},f.restoreSelection=function(a){var b;a=a||this._lastSelection,a&&(window.getSelection?(b=window.getSelection(),b.removeAllRanges(),b.addRange(a)):document.selection&&a.select&&a.select())};var g=null;return window.getSelection&&document.createRange?g=function(a,b,c){var d=0,e=document.createRange();e.setStart(a,0),e.collapse(!0);for(var f,g=[a],h=!1,i=!1;!i&&(f=g.pop());)if(3==f.nodeType){var j=d+f.length;!h&&b>=d&&j>=b&&(e.setStart(f,b-d),h=!0),h&&c>=d&&j>=c&&(e.setEnd(f,c-d),i=!0),d=j}else for(var k=f.childNodes.length;k--;)g.push(f.childNodes[k]);var l=window.getSelection();l.removeAllRanges(),l.addRange(e)}:document.selection&&(g=function(a,b,c){var d=document.body.createTextRange();d.moveToElementText(a),d.collapse(!0),d.moveEnd("character",c),d.moveStart("character",b),d.select()}),f.setCaretIndex=function(a){g(this.el,a,a)},f.getCaretIndex=function(){return this._currentCaretIndex},f.getNodeIndex=function(a){return b(Array.prototype.indexOf,this.el.childNodes,a)},f.getAbsoluteIndex=function(a){for(var b,c=0,e=0,f=this.el.childNodes.length;f>e;e+=1){if(b=d(this.el.childNodes[e]),a.startContainer===this.el.childNodes[e])return c+a.startOffset;c+=b}return c},f.length=function(){for(var a=0,b=0,c=this.el.childNodes.length;c>b;b+=1)a+=d(this.el.childNodes[b]);return a},f.getCaretRects=function(){return this._lastSelection&&this._lastSelection.getClientRects()||null},f.preventCaretIn=function(a){this._preventSelector=a},{create:function(a){return new e(a)}}}),j("query.focus",["query"],function(a){a.fn.focus=function(){return this.each(function(a,b){b.focus()}),this}}),j("query.cursor",["query"],function(a){a.fn.getCursorPosition=function(){return 0===this.length?-1:a(this,this.context).getSelectionStart()},a.fn.setCursorPosition=function(b){return 0===this.length?this:a(this,this.context).setSelection(b,b)},a.fn.getSelection=function(){if(0===this.length)return-1;var b=a(this,this.context).getSelectionStart(),c=a(this,this.context).getSelectionEnd();return this[0].value.substring(b,c)},a.fn.getSelectionStart=function(){if(0===this.length)return-1;var a=this[0],b=a.value.length;if(a.createTextRange){var c=document.selection.createRange().duplicate();c.moveEnd("character",a.value.length),""===c.text&&(b=a.value.length),b=a.value.lastIndexOf(c.text)}else"undefined"!=typeof a.selectionStart&&(b=a.selectionStart);return b},a.fn.getSelectionEnd=function(){if(0===this.length)return-1;var a=this[0],b=a.value.length;if(a.createTextRange){var c=document.selection.createRange().duplicate();c.moveStart("character",-a.value.length),""===c.text&&(b=a.value.length),b=a.value.lastIndexOf(c.text)}else"undefined"!=typeof a.selectionEnd&&(b=a.selectionEnd);return b},a.fn.setSelection=function(a,b){if(0===this.length)return this;var c=this[0];if(c.createTextRange){var d=c.createTextRange();d.collapse(!0),d.moveEnd("character",b),d.moveStart("character",a),d.select()}else c.setSelectionRange&&c.setSelectionRange(a,b);return this},a.fn.setSelectionRange=function(b){var c=a(this,this.context);switch(b){case"start":c.setSelection(0,0);break;case"end":c.setSelection(c.val().length,c.val().length);break;case!0:case"all":c.setSelection(0,c.val().length)}},a.fn.select=function(){this.setSelectionRange(!0)}}),j("query.val",["query"],function(a){a.fn.val=function(a){var b,c,d,e,f;if(this.length){if(b=this[0],!arguments.length){if("SELECT"===b.nodeName&&b.multiple){for(c=[],d=0,f=b.options,e=f.length;e>d;)f&&c.push(f[d].value||f[0].text);return 0===c.length?null:c}return b.value}b.value=a}}}),i("query",function(){function a(a,b){this.init(a,b)}function b(a,b){var c,d;if(c=b.indexOf(":eq("),-1!==c){c=b.match(e),b=b.replace(e,""),d=void 0!==c[1]?Number(c[1]):-1;var f=a.context.querySelectorAll(b);if(void 0!==d)return f[d]&&a.push(f[d]),!0}return!1}function c(a){var b=window;return a&&(a.parentWindow?b=a.parentWindow:a.defaultWindow&&(b=a.defaultWindow)),b.Element}var d=a.prototype=Object.create(Array.prototype),e=/:eq\((\d+)\)$/;d.selector="",d.init=function(a,b){this.context=b;var d=c(b);"string"==typeof a?"<"===a.substr(0,1)&&">"===a.substr(a.length-1,1)?this.parseHTML(a):this.parseSelector(a,b):a instanceof Array?this.parseArray(a):a instanceof d&&this.parseElement(a)},d.parseHTML=function(a){var b=document.createElement("div");b.innerHTML=a,this.length=0,this.parseArray(b.children)},d.parseSelector=function(d,e){var f,g,h,i=c(e);if(this.selector=d,this.context=e instanceof i?e:e instanceof a?e[0]:9===e.nodeType?e:document,!b(this,d))for(g=this.context.querySelectorAll(d),h=g.length,f=0,this.length=0;h>f;)this.push(g[f]),f+=1},d.parseArray=function(a){var b=(this.context.parentWindow||this.context.defaultView).Element,c=0,d=a.length;for(this.length=0;d>c;)a[c]instanceof b&&this.push(a[c]),c+=1},d.parseElement=function(a){this.length=0,this.push(a)},d.toString=function(){return this.length?this[0].outerHTML:void 0},d.each=function(a){for(var b,c=0,d=this.length;d>c&&(b=a.apply(this[c],[c,this[c]]),b!==!1);)c+=1;return this};var f=function(b,c){for(var e in f.fn)f.fn.hasOwnProperty(e)&&(d[e]=f.fn[e],delete f.fn[e]);return new a(b,c)};return f.fn={},f}),j("query.replace",["query"],function(a){a.fn.replace=function(a){if(this.length){var b=this[0];return arguments.length>0&&this.each(function(b,c){c.innerHTML=a}),b.innerHTML}}}),j("query.find",["query"],function(a){a.fn.find=function(b){return this.length?a(b,this[0]):a()}}),i("decrypt",function(){return function(a,b){if(!(null===a||a.length<8||null===b||b.length<=0)){var c,d="";for(c=0;c<b.length;c++)d+=b.charCodeAt(c).toString();var e=Math.floor(d.length/5),f=parseInt(d.charAt(e)+d.charAt(2*e)+d.charAt(3*e)+d.charAt(4*e)+d.charAt(5*e),10),g=Math.round(b.length/2),h=Math.pow(2,31)-1,i=parseInt(a.substring(a.length-8,a.length),16);for(a=a.substring(0,a.length-8),d+=i;d.length>10;)d=(parseInt(d.substring(0,10),10)+parseInt(d.substring(10,d.length),10)).toString();d=(f*d+g)%h;var j="",k="";for(c=0;c<a.length;c+=2)j=parseInt(parseInt(a.substring(c,c+2),16)^Math.floor(d/h*255),10),k+=String.fromCharCode(j),d=(f*d+g)%h;return k}}}),i("encrypt",function(){function a(a,b){if(!b||b.length<=0)return null;
var c,d="";for(c=0;c<b.length;c++)d+=b.charCodeAt(c).toString();var e=Math.floor(d.length/5),f=parseInt(d.charAt(e)+d.charAt(2*e)+d.charAt(3*e)+d.charAt(4*e)+d.charAt(5*e)),g=Math.ceil(b.length/2),h=Math.pow(2,31)-1;if(2>f)return null;var i=Math.round(1e9*Math.random())%1e8;for(d+=i;d.length>10;)d=(parseInt(d.substring(0,10))+parseInt(d.substring(10,d.length))).toString();d=(f*d+g)%h;var j="",k="";for(c=0;c<a.length;c++)j=parseInt(a.charCodeAt(c)^Math.floor(d/h*255)),k+=16>j?"0"+j.toString(16):j.toString(16),d=(f*d+g)%h;for(i=i.toString(16);i.length<8;)i="0"+i;return k+=i}return a}),i("keygen",function(){var a=function(a){var b="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx";return(a||b).replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:3&b|8).toString(16)})};return a}),i("md5",function(){var a=function(){function a(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function b(a,b){return a<<b|a>>>32-b}function c(c,d,e,f,g,h){return a(b(a(a(d,c),a(f,h)),g),e)}function d(a,b,d,e,f,g,h){return c(b&d|~b&e,a,b,f,g,h)}function e(a,b,d,e,f,g,h){return c(b&e|d&~e,a,b,f,g,h)}function f(a,b,d,e,f,g,h){return c(b^d^e,a,b,f,g,h)}function g(a,b,d,e,f,g,h){return c(d^(b|~e),a,b,f,g,h)}function h(b,c){b[c>>5]|=128<<c%32,b[(c+64>>>9<<4)+14]=c;var h,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(h=0;h<b.length;h+=16)i=m,j=n,k=o,l=p,m=d(m,n,o,p,b[h],7,-680876936),p=d(p,m,n,o,b[h+1],12,-389564586),o=d(o,p,m,n,b[h+2],17,606105819),n=d(n,o,p,m,b[h+3],22,-1044525330),m=d(m,n,o,p,b[h+4],7,-176418897),p=d(p,m,n,o,b[h+5],12,1200080426),o=d(o,p,m,n,b[h+6],17,-1473231341),n=d(n,o,p,m,b[h+7],22,-45705983),m=d(m,n,o,p,b[h+8],7,1770035416),p=d(p,m,n,o,b[h+9],12,-1958414417),o=d(o,p,m,n,b[h+10],17,-42063),n=d(n,o,p,m,b[h+11],22,-1990404162),m=d(m,n,o,p,b[h+12],7,1804603682),p=d(p,m,n,o,b[h+13],12,-40341101),o=d(o,p,m,n,b[h+14],17,-1502002290),n=d(n,o,p,m,b[h+15],22,1236535329),m=e(m,n,o,p,b[h+1],5,-165796510),p=e(p,m,n,o,b[h+6],9,-1069501632),o=e(o,p,m,n,b[h+11],14,643717713),n=e(n,o,p,m,b[h],20,-373897302),m=e(m,n,o,p,b[h+5],5,-701558691),p=e(p,m,n,o,b[h+10],9,38016083),o=e(o,p,m,n,b[h+15],14,-660478335),n=e(n,o,p,m,b[h+4],20,-405537848),m=e(m,n,o,p,b[h+9],5,568446438),p=e(p,m,n,o,b[h+14],9,-1019803690),o=e(o,p,m,n,b[h+3],14,-187363961),n=e(n,o,p,m,b[h+8],20,1163531501),m=e(m,n,o,p,b[h+13],5,-1444681467),p=e(p,m,n,o,b[h+2],9,-51403784),o=e(o,p,m,n,b[h+7],14,1735328473),n=e(n,o,p,m,b[h+12],20,-1926607734),m=f(m,n,o,p,b[h+5],4,-378558),p=f(p,m,n,o,b[h+8],11,-2022574463),o=f(o,p,m,n,b[h+11],16,1839030562),n=f(n,o,p,m,b[h+14],23,-35309556),m=f(m,n,o,p,b[h+1],4,-1530992060),p=f(p,m,n,o,b[h+4],11,1272893353),o=f(o,p,m,n,b[h+7],16,-155497632),n=f(n,o,p,m,b[h+10],23,-1094730640),m=f(m,n,o,p,b[h+13],4,681279174),p=f(p,m,n,o,b[h],11,-358537222),o=f(o,p,m,n,b[h+3],16,-722521979),n=f(n,o,p,m,b[h+6],23,76029189),m=f(m,n,o,p,b[h+9],4,-640364487),p=f(p,m,n,o,b[h+12],11,-421815835),o=f(o,p,m,n,b[h+15],16,530742520),n=f(n,o,p,m,b[h+2],23,-995338651),m=g(m,n,o,p,b[h],6,-198630844),p=g(p,m,n,o,b[h+7],10,1126891415),o=g(o,p,m,n,b[h+14],15,-1416354905),n=g(n,o,p,m,b[h+5],21,-57434055),m=g(m,n,o,p,b[h+12],6,1700485571),p=g(p,m,n,o,b[h+3],10,-1894986606),o=g(o,p,m,n,b[h+10],15,-1051523),n=g(n,o,p,m,b[h+1],21,-2054922799),m=g(m,n,o,p,b[h+8],6,1873313359),p=g(p,m,n,o,b[h+15],10,-30611744),o=g(o,p,m,n,b[h+6],15,-1560198380),n=g(n,o,p,m,b[h+13],21,1309151649),m=g(m,n,o,p,b[h+4],6,-145523070),p=g(p,m,n,o,b[h+11],10,-1120210379),o=g(o,p,m,n,b[h+2],15,718787259),n=g(n,o,p,m,b[h+9],21,-343485551),m=a(m,i),n=a(n,j),o=a(o,k),p=a(p,l);return[m,n,o,p]}function i(a){var b,c="";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function j(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function k(a){return i(h(j(a),8*a.length))}function l(a,b){var c,d,e=j(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=h(e,8*a.length)),c=0;16>c;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=h(f.concat(j(b)),512+8*b.length),i(h(g.concat(d),640))}function m(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function n(a){return unescape(encodeURIComponent(a))}function o(a){return k(n(a))}function p(a){return m(o(a))}function q(a,b){return l(n(a),n(b))}function r(a,b){return m(q(a,b))}function s(a,b,c){return b?c?q(b,a):r(b,a):c?o(a):p(a)}return s}();return a}),i("cache",function(){var a=function(){var a,b;return b={},a=function(){var a=[];this.set=function(b,c){return a[b]=c,c},this.get=function(b,c){return a.hasOwnProperty(b)?a[b]:c},this.getCopy=function(a,b,c){var d=this.get(a,b,c);return d.copy(d)},this.merge=function(b,c){return a[b]=a[b]?extend(a[b],c):c,a[b]},this.keys=function(){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b},this.all=function(){return a},this.has=function(b){return a.hasOwnProperty(b)},this.remove=function(b){delete a[b]},this.clear=function(){a={}},this.inc=function(b){var c=b+"Counter";return a[c]||(a[c]=0),a[c]+=1,a[c]},this.dec=function(b){var c=b+"Counter";return a[c]||(a[c]=0),a[c]-=1,a[c]}},function(c){return c=c||"__default__",b[c]||(b[c]=new a),b[c]}}();return a}),i("copy",["isWindow","isArray","isDate","isRegExp","isObject"],function(a,b,c,d,e){var f=function(g,h,i,j){if(a(g))throw Error("Can't copy! Making copies of Window instances is not supported.");if(h){if(g===h)throw Error("Can't copy! Source and destination are identical.");if(i=i||[],j=j||[],e(g)){var k=i.indexOf(g);if(-1!==k)return j[k];i.push(g),j.push(h)}var l;if(b(g)){h.length=0;for(var m=0;m<g.length;m++)l=f(g[m],null,i,j),e(g[m])&&(i.push(g[m]),j.push(l)),h.push(l)}else{for(var n in h)delete h[n];for(var o in g)l=f(g[o],null,i,j),e(g[o])&&(i.push(g[o]),j.push(l)),h[o]=l}}else h=g,g&&(b(g)?h=data.copy(g,[],i,j):c(g)?h=new Date(g.getTime()):d(g)?h=new RegExp(g.source):e(g)&&(h=f(g,{},i,j)));return h};return f}),i("isWindow",function(){var a=function(a){return a&&a.document&&a.location&&a.alert&&a.setInterval};return a}),i("isDate",function(){var a=function(a){return a instanceof Date};return a}),i("isObject",function(){var a=function(a){return null!==a&&"object"==typeof a};return a}),i("diff",["isDate","isObject","isEmpty","isArray"],function(a,b,c,d){var e=function(f,g){var h,i={};for(var j in g)if(j in f)if(a(g[j]))h=a(f[j])?f[j].toISOString():f[j],g[j].toISOString()!==h&&(i[j]=g[j]);else if(b(g[j])&&!d(g[j])){var k=e(f[j],g[j]);c(k)||(i[j]=k)}else isEqual(f[j],g[j])||(i[j]=g[j]);else i[j]=g[j];return c(i)?null:i};return e}),i("isEmpty",["isString","isArray","isObject"],function(a,b,c){var d=function(d){if(null===d)return!0;if(a(d))return""===d;if(b(d))return 0===d.length;if(c(d)){for(var e in d)return!1;return!0}return!1};return d}),i("isString",function(){var a=function(a){return"string"==typeof a};return a}),i("filter",function(){var a=function(a,b){var c,d,e,f=0,g=[];if(arguments.length>2&&(d=Array.prototype.slice.apply(arguments),d.splice(0,2)),a&&a.length)for(c=a.length;c>f;)e=b.apply(null,[a[f],f,a].concat(d)),e&&g.push(a[f]),f+=1;else for(f in a)a.hasOwnProperty(f)&&(e=b.apply(null,[a[f],f,a].concat(d)),e&&g.push(a[f]));return g};return a}),i("memory",function(){var a={getSize:function(a){return this.getBytesSize(this.sizeOfObject(a))},sizeOfObject:function(a,b){void 0==b&&(b=0);var c,d=0;if(null===a||void 0===a)d=0;else if("boolean"==typeof a)d=4;else if("string"==typeof a)d=2*a.length;else if("number"==typeof a)d=8;else if("object"==typeof a){if(a.__visited__)return 0;a.__visited__=1;for(c in a)a.hasOwnProperty(c)&&(d+=2*c.length,d+=8,d+=this.sizeOfObject(a[c],1))}return 0==b&&this._clearReferenceTo(a),d},_clearReferenceTo:function(a){if(a&&"object"==typeof a){delete a.__visited__;for(var b in a)this._clearReferenceTo(a[b])}},getBytesSize:function(a){return a>1024&&1048576>a?(a/1024).toFixed(2)+"K":a>1048576&&1073741824>a?(a/1048576).toFixed(2)+"M":a>1073741824?(a/1073741824).toFixed(2)+"G":a.toString()}};return a}),i("resolve",["isUndefined"],function(a){function b(a){this.data=a||{}}var c=b.prototype;c.get=function(a,b){a=a||"";for(var c=a.split(b||"."),d="",e=0,f=c.length,g=this.data;f>e&&(d=c[e],g=g[d],void 0!==g);)e+=1;return g},c.set=function(b,c,d){if(a(b))throw new Error('Resolve requires "path"');for(var e=b.split(d||"."),f="",g=0,h=e.length-1,i=this.data;h>g;)f=e[g],i=void 0===i[f]?i[f]={}:i[f],g+=1;return e.length>0&&(i[e.pop()]=c),this.data},c.clear=function(){var a=this.data;for(var b in a)a.hasOwnProperty(b)&&delete a[b]},c.path=function(a){return this.set(a,{})};var d=function(a){return new b(a)};return d}),i("shallowCopy",["isArray","isObject"],function(a,b){var c=function(c,d,e){if(a(c)){d=d||[];for(var f=0;f<c.length;f++)d[f]=c[f]}else if(b(c)){d=d||{};for(var g in c)!c.hasOwnProperty(g)||g.charAt(0)===e&&g.charAt(1)===e||(d[g]=c[g])}return d||c};return c}),i("size",["isArray","isString","isObject"],function(a,b,c){var d=function(d,e){var f,g=0;if(a(d)||b(d))return d.length;if(c(d))for(f in d)(!e||d.hasOwnProperty(f))&&g++;return g};return d}),i("sortObj",function(){return function(a,b,c){var d=[];for(var e in a)a.hasOwnProperty(e)&&(c||(e=e.toLowerCase?e.toLowerCase():e),d.push(e));"function"==typeof b?d.sort(b):"value"===b?d.sort(function(b,d){var e=a[b],f=a[d];return c||(e=e.toLowerCase?e.toLowerCase():e,f=f.toLowerCase?f.toLowerCase():f),f>e?-1:e>f?1:0}):d.sort();for(var f={},g=0;g<d.length;g++)f[d[g]]=a[d[g]];return f}}),j("align",function(){var a,b=function(){this.alignRectangles=function(a,b){for(var c=a.bottom(),d=b.length;d--;)b[d].y(c)}},c=function(){this.alignRectangles=function(a,b){for(var c=a.bottom(),d=a.left(),e=b.length;e--;){var f=b[e];f.x(d-f.width()),f.y(c)}}},d=function(){this.alignRectangles=function(a,b){for(var c=a.bottom(),d=a.right(),e=b.length;e--;){var f=b[e];f.x(d),f.y(c)}}},e=function(){this.alignRectangles=function(a,b){for(var c=a.left()+.5*a.width(),d=b.length;d--;)b[d].x(c-b[d].width())}},f=function(){this.alignRectangles=function(a,b){for(var c=a.left()+.5*a.width(),d=b.length;d--;)b[d].x(c)}},g=function(){this.alignRectangles=function(a,b){for(var c=a.left(),d=b.length;d--;)b[d].x(c-b[d].width())}},h=function(){this.alignRectangles=function(a,b){for(var c=a.right(),d=b.length;d--;)b[d].x(c)}},i=function(){this.alignRectangles=function(a,b){for(var c=a.top(),d=b.length;d--;)b[d].y(c-b[d].height())}},j=function(){this.alignRectangles=function(a,b){for(var c=a.top(),d=a.left(),e=b.length;e--;){var f=b[e];f.x(d-f.width()),f.y(c-f.height())}}},k=function(){this.alignRectangles=function(a,b){for(var c=a.top(),d=a.right(),e=b.length;e--;){var f=b[e];f.x(d),f.y(c-f.height())}}},l=function(){this.alignRectangles=function(a,b){for(var c=a.centerY(),d=b.length;d--;)b[d].y(c)}},m=function(){this.alignRectangles=function(a,b){for(var c=a.centerY(),d=b.length;d--;)b[d].y(c-b[d].height())}},n=function(){this.alignRectangles=function(a,b){for(var c=a.bottom(),d=b.length;d--;)b[d].val("y",c-b[d].height)}},o=function(){this.alignRectangles=function(a,b){for(var c=a.bottom(),d=a.left(),e=b.length;e--;)b[e].x(d),b[e].y(c-b[e].height())}},p=function(){this.alignRectangles=function(a,b){for(var c=a.bottom(),d=a.right(),e=b.length;e--;){var f=b[e];f.x(d-f.width()),f.y(c-f.height())}}},q=function(){this.alignRectangles=function(a,b){for(var c=a.centerX(),d=a.centerY(),e=b.length;e--;){var f=b[e];f.x(c-.5*f.width()),f.y(d-.5*f.height())}}},r=function(){this.alignRectangles=function(b,c){c=c.concat(),c.sort(a.sortRectBottom);for(var d=c.length,e=b.top()+c[0].bounds.height,f=(b.bottom()-e)/(d-1);d--;)c[d].val("y",e-c[d].bounds.height+f*d)}},s=function(){this.alignRectangles=function(b,c){c=c.concat(),c=c.sort(a.sortRectCenterX);for(var d=c.length,e=b.left()+.5*c[0].bounds.width,f=b.right()-.5*c[c.length-1].width,g=(f-e)/(d-1);d--;)c[d].val("x",e-.5*c[d].bounds.width+g*d)}},t=function(){this.alignRectangles=function(b,c){c=c.concat(),c=c.sort(a.sortRectLeft);for(var d=b.left(),e=(b.width-c[c.length-1].bounds.width)/(c.length-1),f=c.length;f--;)c[f].val("x",d+e*f)}},u=function(){this.alignRectangles=function(b,c){c=c.concat(),c.sort(a.sortRectRight);for(var d=b.left(),e=d+c[0].bounds.width,f=(b.right()-e)/(c.length-1),g=c.length;g--;)c[g].val("x",e-c[g].bounds.width+f*g)}},v=function(){this.alignRectangles=function(b,c){c=c.concat(),c=c.sort(a.sortRectTop);for(var d=c.length,e=b.top(),f=(b.bottom()-c[d-1].bounds.height-e)/(d-1);d--;)c[d].val("y",e+f*d)}},w=function(){this.alignRectangles=function(b,c){c=c.concat(),c=c.sort(a.sortRectCenterY);for(var d=c.length,e=b.top()+.5*c[0].bounds.height,f=b.bottom()-.5*c[d-1].bounds.height,g=(f-e)/(d-1);d--;)c[d].val("y",e-.5*c[d].bounds.height+g*d)}},x=function(){this.alignRectangles=function(a,b){for(var c=a.left()+.5*a.width,d=b.length;d--;)b[d].val("x",c-.5*b[d].bounds.width)}},y=function(){this.alignRectangles=function(a,b){for(var c=a.left(),d=b.length;d--;)b[d].val("x",c)}},z=function(){this.alignRectangles=function(a,b){for(var c=a.height,d=b.length;d--;)b[d].val("height",c)}},A=function(){this.alignRectangles=function(a,b){for(var c=a.width,d=a.height,e=b.length;e--;)b[e].val("width",c),b[e].val("height",d)}},B=function(){this.alignRectangles=function(a,b){for(var c=a.width,d=b.length;d--;)b[d].val("width",c)}},C=function(){this.alignRectangles=function(a,b){for(var c=a.right(),d=b.length;d--;)b[d].val("x",c-b[d].bounds.width)}},D=function(){this.alignRectangles=function(a,b){for(var c=a.width(),d=a.height(),e=c/d,f=b.length;f--;){var g=b[f],h=g.width()/g.height(),i=g.height()/g.width();h>e?(g.height(d),g.width(d/i)):e>h?(g.width(c),g.height(c/h)):(g.width(c),g.height(d))}}},E=function(){this.alignRectangles=function(a,b){for(var c=a.width(),d=a.height(),e=c/d,f=b.length;f--;){var g=b[f],h=g.width()/g.height(),i=g.height()/g.width();h>e?(g.width(c),g.height(c/h)):e>h?(g.height(d),g.width(d/i)):(g.width(c),g.height(d))}}},F=function(){this.alignRectangles=function(b,c,d){c=c.concat(),c=c.sort(a.sortRectLeft);for(var e=0,f=b.width,g=c.length;g--;)e+=c[g].bounds.width;g=c.length,d=void 0!==d?d:(f-e)/(g-1),d=Number(d);var h=b.left()+c[0].bounds.width;c[0].val("x",b.left());for(var i=1;g>i;i++){var j=c[i];j.val("x",h+d),h+=j.bounds.width+d}}},G=function(){this.alignRectangles=function(b,c){c=c.concat(),c=c.sort(a.sortRectLeft);for(var d=0,e=b.width(),f=c.length;f--;)d+=c[f].width();for(var g=(e-d)/(f+1),h=b.left(),i=0;f>i;i++){var j=c[i];j.x(h+g),h+=j.width()+g}}},H=function(){this.alignRectangles=function(b,c){c=c.concat(),c=c.sort(a.sortRectTop);for(var d=0,e=b.height(),f=c.length;f--;)d+=c[f].height();for(var g=(e-d)/(f+1),h=b.top(),i=0;f>i;i++){var j=c[i];j.y(h+g),h+=j.height()+g}}},I=function(){this.alignRectangles=function(b,c,d){c=c.concat(),c=c.sort(a.sortRectTop);for(var e=0,f=b.height,g=c.length;g--;)e+=c[g].bounds.height;g=c.length,d=void 0!==d?d:(f-e)/(g-1);var h=b.top()+c[0].bounds.height;c[0].val("y",b.top());for(var i=1;g>i;i++){var j=c[i];j.val("y",h+d),h+=j.bounds.height+d}}},J=function(){this.alignRectangles=function(a,b){for(var c=a.top(),d=b.length;d--;)b[d].val("y",c)}},K=function(){this.alignRectangles=function(a,b){for(var c=a.top(),d=a.left(),e=b.length;e--;)b[e].y(c),b[e].x(d)}},L=function(){this.alignRectangles=function(a,b){for(var c=a.top(),d=a.right(),e=b.length;e--;)b[e].x(d-b[e].width()),b[e].y(c)}},M=function(){this.alignRectangles=function(a,b){for(var c=a.centerY(),d=b.length;d--;)b[d].val("y",c-.5*b[d].bounds.height)}},N=function(){this.alignRectangles=function(b,c){c=c.concat();for(var d,e,f=[],g=[],h=0,i=0,j=b.left(),k=b.right(),l=b.centerX(),m=0;m<c.length;m++){var n=c[length],o=n.centerX();l>o?f.push(c[length]):g.push(c[length])}f.sort(a.sortRectAdjacentRight),g.sort(a.sortRectAdjacentLeft),f.reverse();var p;if(f.length>0)for(p=f[0],e=j-p.width,h=j-p.width,p.x(e),m=1;m<f.length;m++)d=f[m],e=h-d.width,h-=d.width,d.x(e);if(g.length>0)for(p=g[0],e=k,i=k+p.width,p.x(e),m=1;m<g.length;m++)d=g[m],e=i,i+=d.width,d.x(e)}},O=function(){this.alignRectangles=function(b,c){c=c.concat();for(var d=[],e=[],f=b.centerY(),g=0;g<c.length;g++){var h=c[length],i=h.centerY();f>i?d.push(c[length]):e.push(c[length])}d.sort(a.sortRectAdjacentTop),e.sort(a.sortRectAdjacentBottom),d.reverse();for(var j,k,l=0,m=0,n=0;n<d.length;n++)j=d[n],0!==n?(k=l-j.height(),l-=j.height()):(k=b.top()-j.height(),l=b.top()-j.height()),j.y(k);for(var o=0;o<e.length;o++)j=e[o],0!==o?(k=m,m+=j.height()):(k=b.bottom(),m=b.bottom()),j.y(k)}},P=function(){this.alignRectangles=function(a,b){for(var c=a.left(),d=a.right(),e=b.length;e--;)b[e].val("x",c+d-b[e].bounds.x-b[e].bounds.width)}},Q=function(){a=new dash.display.Sorting,this.left=new y,this.horizontal=new x,this.right=new C,this.top=new J,this.vertical=new M,this.bottom=new n,this.center=new q,this.topLeft=new K,this.topRight=new L,this.bottomLeft=new o,this.bottomRight=new p,this.adjacentLeft=new g,this.adjacentHorizontalLeft=new e,this.adjacentHorizontalRight=new f,this.adjacentRight=new h,this.adjacentTop=new i,this.adjacentVerticalTop=new m,this.adjacentVerticalBottom=new l,this.adjacentBottom=new b,this.adjacentTopLeft=new j,this.adjacentTopRight=new k,this.adjacentBottomLeft=new c,this.adjacentBottomRight=new d,this.distributeLeft=new t,this.distributeHorizontal=new s,this.distributeRight=new u,this.distributeTop=new v,this.distributeVertical=new w,this.distributeBottom=new r,this.matchWidth=new B,this.matchHeight=new z,this.matchSize=new A,this.scaleToFit=new E,this.scaleToFill=new D,this.spaceHorizontal=new F,this.spaceInsideHorizontal=new G,this.spaceVertical=new I,this.spaceInsideVertical=new H,this.stackHorizontal=new N,this.stackVertical=new O,this.flipHorizontal=new P};return Q}),i("display",["align","sorting"],function(a,b){return{align:function(){return new a},sorting:function(){return new b}}}),j("sorting",function(){var a=function(){var a=this;a.compareNumber=function(a,b){return a>b?1:b>a?-1:0},a.sortRectWidth=function(b,c){return a.compareNumber(b.bounds.width,c.bounds.width)},a.sortRectHeight=function(b,c){return a.compareNumber(b.bounds.height,c.bounds.height)},a.sortRectLeft=function(b,c){return a.compareNumber(b.bounds.left(),c.bounds.left())},a.sortRectRight=function(b,c){return a.compareNumber(b.bounds.right(),c.bounds.right())},a.sortRectTop=function(b,c){return a.compareNumber(b.bounds.top(),c.bounds.top())},a.sortRectBottom=function(b,c){return a.compareNumber(b.bounds.bottom(),c.bounds.bottom())},a.sortRectCenterX=function(b,c){return a.compareNumber(b.bounds.centerX(),c.bounds.centerX())},a.sortRectCenterY=function(b,c){return a.compareNumber(b.bounds.centerY(),c.bounds.centerY())},a.sortRectAdjacentLeft=function(b,c){var d=a.sortRectLeft(b,c);return 0===d&&(d=a.sortRectRight(b,c)),d},a.sortRectAdjacentRight=function(b,c){var d=a.sortRectRight(b,c);return 0===d&&(d=a.sortRectLeft(b,c)),d},a.sortRectAdjacentTop=function(b,c){var d=a.sortRectTop(b,c);return 0===d&&(d=a.sortRectBottom(b,c)),d},a.sortRectAdjacentBottom=function(b,c){var d=a.sortRectBottom(b,c);return 0===d&&(d=a.sortRectTop(b,c)),d}};return a}),i("easeInBack",function(){return function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c}}),i("easeInBounce",["easeOutBounce"],function(a){return function(b,c,d,e,f){return e-a(b,f-c,0,e,f)+d}}),i("easeOutBounce",function(){return function(a,b,c,d,e){return(b/=e)<1/2.75?7.5625*d*b*b+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c}}),i("easeInCirc",function(){return function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c}}),i("easeInCubic",function(){return function(a,b,c,d,e){return d*(b/=e)*b*b+c}}),i("easeInElastic",function(){return function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g))+c}}),i("easeInExpo",function(){return function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c}}),i("easeInOutBack",function(){return function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),(b/=e/2)<1?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c}}),i("easeInOutBounce",["easeInBounce","easeOutBounce"],function(a,b){return function(c,d,e,f,g){return g/2>d?.5*a(c,2*d,0,f,g)+e:.5*b(c,2*d-g,0,f,g)+.5*f+e}}),i("easeInOutCirc",function(){return function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c}}),i("easeInOutCubic",function(){return function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c}}),i("easeInOutElastic",function(){return function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=.3*e*1.5),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return 1>b?-.5*h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)+c:h*Math.pow(2,-10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)*.5+d+c}}),i("easeInOutExpo",function(){return function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c}}),i("easeInOutQuad",function(){return function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c}}),i("easeInOutQuart",function(){return function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c}}),i("easeInOutQuint",function(){return function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c}}),i("easeInOutSine",function(){return function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c}}),i("easeInQuad",function(){return function(a,b,c,d,e){return d*(b/=e)*b+c}}),i("easeInQuart",function(){return function(a,b,c,d,e){return d*(b/=e)*b*b*b+c}}),i("easeInQuint",function(){return function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c}}),i("easeInSine",function(){return function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c}}),i("easeOutBack",function(){return function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c}}),i("easeOutCirc",function(){return function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c}}),i("easeOutCubic",function(){return function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c}}),i("easeOutElastic",function(){return function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin(2*(b*e-f)*Math.PI/g)+d+c}}),i("easeOutExpo",function(){return function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c}}),i("easeOutQuad",function(){return function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c}}),i("easeOutQuart",function(){return function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c}}),i("easeOutQuint",function(){return function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c}}),i("easeOutSine",function(){return function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c}}),i("capitalize",function(){return function(a){return a.charAt(0).toUpperCase()+a.slice(1)}}),i("decodeHTML",function(){return function(a,b){var c=0,d=0,e=!1;"undefined"==typeof b&&(b=2),a=a.toString().replace(/&lt;/g,"<").replace(/&gt;/g,">");var f={ENT_NOQUOTES:0,ENT_HTML_QUOTE_SINGLE:1,ENT_HTML_QUOTE_DOUBLE:2,ENT_COMPAT:2,ENT_QUOTES:3,ENT_IGNORE:4};if(0===b&&(e=!0),"number"!=typeof b){for(b=[].concat(b),d=0;d<b.length;d++)0===f[b[d]]?e=!0:f[b[d]]&&(c|=f[b[d]]);b=c}return b&f.ENT_HTML_QUOTE_SINGLE&&(a=a.replace(/&#0*39;/g,"'")),e||(a=a.replace(/&quot;/g,'"')),a=a.replace(/&amp;/g,"&")}}),i("http",["extend"],function(a){function b(a){this.init(a)}function c(a){var b,c,e=d(this.getAllResponseHeaders()),f=this.responseText.trim();return f&&(b=f[0],c=f[f.length-1]),(f&&"{"===b&&"}"===c||"["===b&&"]"===c)&&(f=f?JSON.parse(f.replace(/\/\*.*?\*\//g,"")):f),{data:f,request:{method:a.method,url:a.url,data:a.data,headers:a.headers},headers:e,status:this.status}}function d(a){for(var b,c=a.split("\n"),d={},e=0,f=c.length;f>e;)b=c[e].split(": "),b[0]&&b[1]&&(b[0]=b[0].split("-").join("").split(""),b[0][0]=b[0][0].toLowerCase(),d[b[0].join("")]=b[1]),e+=1;return d}function e(b,c){return a(b,c)}function f(a){return!(!m.intercept||!m.intercept(a,b))}var g,h=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},i=window,j=function(){var a;return i.XMLHttpRequest&&"withCredentials"in new i.XMLHttpRequest?a=i.XMLHttpRequest:i.XDomainRequest&&(a=i.XDomainRequest),a}(),k=["head","get","post","put","delete"],l=k.length,m={};for(b.prototype.init=function(a){var b=this;return b.xhr=new j,b.method=a.method,b.url=a.url,b.success=a.success,b.error=a.error,b.data=a.data,b.headers=a.headers,a.credentials===!0&&(b.xhr.withCredentials=!0),b.send(),b},b.prototype.send=function(){var a=this;if("GET"===a.method&&a.data){var b=a.url.indexOf("?")>-1?"&":"?";a.url+=b+h(a.data)}else a.data=JSON.stringify(a.data);return void 0!==a.success&&(a.xhr.onload=function(){function b(){e.status>=200&&e.status<400?a.success.call(e,d):void 0!==a.error&&a.error.call(e,d)}var d=c.call(this,a),e=this;this.onloadInterceptor?this.onloadInterceptor(b,d):b()}),void 0!==a.error&&(a.xhr.error=function(){var b=c.call(this,a);a.error.call(this,b)}),a.xhr.open(a.method,a.url,!0),void 0!==a.headers&&a.setHeaders(),a.xhr.send(a.data,!0),a},b.prototype.setHeaders=function(){var a,b=this,c=b.headers;for(a in c)c.hasOwnProperty(a)&&b.xhr.setRequestHeader(a,c[a]);return b},g=0;l>g;g+=1)!function(){var a=k[g];m[a]=function(c,d,g){var h={};if(void 0===c)throw new Error("CORS: url must be defined");return"object"==typeof c?h=c:("function"==typeof d&&(h.success=d),"function"==typeof g&&(h.error=g),h.url=c),h.method=a.toUpperCase(),e(h,m.defaults),f(h)?void 0:new b(h).xhr}}();return m.intercept=null,m.defaults={headers:{}},m}),i("fromCamelToDash",function(){function a(a){return c+a.toLowerCase()}var b=/([A-Z])/g,c="-";return function(c){return c.replace(b,a)}}),i("fromDashToCamel",function(){function a(a){return a[1].toUpperCase()}var b=/-([a-z])/g;return function(c){return c.replace(b,a)}}),i("fromJson",function(){var a=function(a,b){function c(a){throw{name:"SyntaxError",message:a,at:o,text:r}}function d(a){return a&&a!==p&&c("Expected '"+a+"' instead of '"+p+"'"),p=r.charAt(o),o+=1,p}function e(){var a="";if('"'===p||"'"===p)for(;d();){if('"'===p||"'"===p)return d(),a;if("\\"===p)if(d(),"u"===p){for(var b=0,e=0;4>e;e+=1){var f=parseInt(d(),16);if(!isFinite(f))break;b=16*b+f}a+=String.fromCharCode(b)}else{if("string"!=typeof q[p])break;a+=q[p]}else a+=p}c("Bad string")}function f(){for(;p&&" ">=p;)d()}function g(){for(var a="";k();)a+=p,d();return"true"===a?!0:"false"===a?!1:"null"===a?null:/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/.test(a)?parseFloat(a):a}function h(){var a=[];if("["===p){if(d("["),f(),"]"===p)return d("]"),a;for(;p;){if(a.push(j()),f(),"]"===p)return d("]"),a;d(","),f()}}c("Bad array")}function i(){var a={};if(p===l){if(d(l),f(),p===m)return d(m),a;for(;p;){var b='"'===p||"'"===p?e():g();if("string"!=typeof b&&c("Bad object key: "+b),f(),d(n),Object.hasOwnProperty.call(a,b)&&c('Duplicate key: "'+b+'"'),a[b]=j(),f(),p===m)return d(m),a;d(","),f()}}c("Bad object")}function j(){switch(f(),p){case l:return i();case"[":return h();case'"':return e();case"'":return e();default:return g()}}function k(){switch(p){case'"':case"'":case"\\":case"	":case"\n":case"\r":case",":case"[":case"]":case l:case m:case n:return!1}return p>" "}"undefined"==typeof b&&(b=!0);var l=b?"{":"(",m=b?"}":")",n=b?":":"=",o=0,p=" ",q={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},r=a,s=j();return f(),p&&c("Syntax error"),s};return a}),i("fromXML",function(){var a=function(a){var b,c;return window.DOMParser?(b=new DOMParser,c=b.parseFromString(a,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(a)),c},b=function(c){function d(a){return isNaN(a)?"true"===a?!0:"false"===a?!1:a:Number(a)}function e(a,b){i[a]?(i[a].constructor!==Array&&(i[a]=[i[a]]),i[a][i[a].length]=d(b)):i[a]=d(b)}function f(a,b){i[a].constructor===Array?i[a][i[a].length-1].text=b:i[a].text=b}"string"==typeof c&&(c=a(c).firstElementChild);var g,h,i={};if(c.attributes)for(g=0;c.attributes[g];g++)h=c.attributes[g],e(h.name,h.value);if(c.childNodes)for(g=0;c.childNodes[g];g++)if(h=c.childNodes[g],1===h.nodeType)1===h.childNodes.length&&3===h.firstChild.nodeType?h.attributes.length?(e(h.nodeName,b(h)),f(h.nodeName,h.firstChild.nodeValue)):e(h.nodeName,h.firstChild.nodeValue):e(h.nodeName,b(h));else if(4===h.nodeType){i=h.data;break}return i};return b}),i("inflection",function(){var a={plurals:[],singulars:[],uncountables:[],humans:[]},b=a.plurals,c=a.singulars,d=a.uncountables,e=a.humans,f=function(b,c){a.plurals.unshift([b,c])},g=function(b,c){a.singulars.unshift([b,c])},h=function(b){a.uncountables.unshift(b)},i=function(a,b){a.substr(0,1).toUpperCase()===b.substr(0,1).toUpperCase()?(f(new RegExp("("+a.substr(0,1)+")"+a.substr(1)+"$","i"),"$1"+b.substr(1)),f(new RegExp("("+b.substr(0,1)+")"+b.substr(1)+"$","i"),"$1"+b.substr(1)),g(new RegExp("("+b.substr(0,1)+")"+b.substr(1)+"$","i"),"$1"+a.substr(1))):(f(new RegExp(a.substr(0,1).toUpperCase()+a.substr(1)+"$"),b.substr(0,1).toUpperCase()+b.substr(1)),f(new RegExp(a.substr(0,1).toLowerCase()+a.substr(1)+"$"),b.substr(0,1).toLowerCase()+b.substr(1)),f(new RegExp(b.substr(0,1).toUpperCase()+b.substr(1)+"$"),b.substr(0,1).toUpperCase()+b.substr(1)),f(new RegExp(b.substr(0,1).toLowerCase()+b.substr(1)+"$"),b.substr(0,1).toLowerCase()+b.substr(1)),g(new RegExp(b.substr(0,1).toUpperCase()+b.substr(1)+"$"),a.substr(0,1).toUpperCase()+a.substr(1)),g(new RegExp(b.substr(0,1).toLowerCase()+b.substr(1)+"$"),a.substr(0,1).toLowerCase()+a.substr(1)))};f(/$/,"s"),f(/s$/i,"s"),f(/(ax|test)is$/i,"$1es"),f(/(octop|vir)us$/i,"$1i"),f(/(alias|status)$/i,"$1es"),f(/(bu)s$/i,"$1ses"),f(/(buffal|tomat)o$/i,"$1oes"),f(/([ti])um$/i,"$1a"),f(/sis$/i,"ses"),f(/(?:([^f])fe|([lr])f)$/i,"$1$2ves"),f(/(hive)$/i,"$1s"),f(/([^aeiouy]|qu)y$/i,"$1ies"),f(/(x|ch|ss|sh)$/i,"$1es"),f(/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"),f(/([m|l])ouse$/i,"$1ice"),f(/^(ox)$/i,"$1en"),f(/(quiz)$/i,"$1zes"),g(/s$/i,""),g(/(n)ews$/i,"$1ews"),g(/([ti])a$/i,"$1um"),g(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"),g(/(^analy)ses$/i,"$1sis"),g(/([^f])ves$/i,"$1fe"),g(/(hive)s$/i,"$1"),g(/(tive)s$/i,"$1"),g(/([lr])ves$/i,"$1f"),g(/([^aeiouy]|qu)ies$/i,"$1y"),g(/(s)eries$/i,"$1eries"),g(/(m)ovies$/i,"$1ovie"),g(/(x|ch|ss|sh)es$/i,"$1"),g(/([m|l])ice$/i,"$1ouse"),g(/(bus)es$/i,"$1"),g(/(o)es$/i,"$1"),g(/(shoe)s$/i,"$1"),g(/(cris|ax|test)es$/i,"$1is"),g(/(octop|vir)i$/i,"$1us"),g(/(alias|status)es$/i,"$1"),g(/^(ox)en/i,"$1"),g(/(vert|ind)ices$/i,"$1ex"),g(/(matr)ices$/i,"$1ix"),g(/(quiz)zes$/i,"$1"),g(/(database)s$/i,"$1"),i("person","people"),i("man","men"),i("child","children"),i("sex","sexes"),i("move","moves"),i("cow","kine"),h("equipment"),h("information"),h("rice"),h("money"),h("species"),h("series"),h("fish"),h("sheep"),h("jeans");var j=function(a){var c,e=a.toLowerCase();for(c=0;c<d.length;c++){var f=d[c];if(e===f)return a}for(c=0;c<b.length;c++){var g=b[c][0],h=b[c][1];if(g.test(a))return a.replace(g,h)}},k=function(a){var b,e=a.toLowerCase();for(b=0;b<d.length;b++){var f=d[b];if(e===f)return a}for(b=0;b<c.length;b++){var g=c[b][0],h=c[b][1];if(g.test(a))return a.replace(g,h)}},l=function(a){for(var b=0;b<e.length;b++){var c=e[b][0],d=e[b][1];c.test(a)&&(a=a.replace(c,d))}return m(a," ").toLowerCase()},m=function(a,b){b=b||" ";var c="$1"+b+"$2";return a.replace(/([A-Z]+)([A-Z][a-z])/g,c).replace(/([a-z\d])([A-Z])/g,c)},n=function(a){return m(a,"_").toLowerCase()},o=function(a){return m(a,"-").toLowerCase()};return{pluralize:j,singularize:k,humanize:l,camelToTerms:m,underscore:n,dasherize:o}}),i("lpad",function(){var a=function(a,b,c){for(;a.length<c;)a=b+a;return a};return a}),i("removeExtraSpaces",function(){var a=function(a){return a+="",a.replace(/\s+/g," ")
};return a}),i("removeHTMLComments",function(){var a=function(a){return a+="",a.replace(/<!--[\s\S]*?-->/g,"")};return a}),i("removeLineBreaks",function(){var a=function(a){return a+="",a.replace(/(\r\n|\n|\r)/gm,"")};return a}),i("rpad",function(){var a=function(a,b,c){for(;a.length<c;)a+=b;return a};return a}),i("toBoolean",function(){return function(a){var b=typeof a;switch(b){case"boolean":return a;case"string":if("true"===a)return!0;if("false"===a)return!1}return!!a}}),i("toDOM",function(){var a=function(a){var b=document.createElement("div");return b.innerHTML=a,b.firstElementChild};return a}),i("toDateString",["isString","isNumber","isDate","each"],function(a,b,c,d){function e(a){return parseInt(a,10)}function f(a){return(a+"").toUpperCase()}function g(a,b,c){return a.concat(q.call(b,c))}function h(a,b,c){var d="";for(0>a&&(d="-",a=-a),a=""+a;a.length<b;)a="0"+a;return c&&(a=a.substr(a.length-b)),d+a}function i(a,b,c,d){return c=c||0,function(e){var f=e["get"+a]();return(c>0||f>-c)&&(f+=c),0===f&&-12===c&&(f=12),h(f,b,d)}}function j(a,b){return function(c,d){var e=c["get"+a](),g=f(b?"SHORT"+a:a);return d[g][e]}}function k(a){var b=-1*a.getTimezoneOffset(),c=b>=0?"+":"";return c+=h(Math[b>0?"floor":"ceil"](b/60),2)+h(Math.abs(b%60),2)}function l(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(4>=b?5:12)-b)}function m(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))}function n(a){return function(b){var c=l(b.getFullYear()),d=m(b),e=+d-+c,f=1+Math.round(e/6048e5);return h(f,a)}}function o(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}function p(a){var b=a.match(v);if(b){var c=new Date(0),d=0,f=0,g=b[8]?c.setUTCFullYear:c.setFullYear,h=b[8]?c.setUTCHours:c.setHours;b[9]&&(d=e(b[9]+b[10]),f=e(b[9]+b[11])),g.call(c,e(b[1]),e(b[2])-1,e(b[3]));var i=e(b[4]||0)-d,j=e(b[5]||0)-f,k=e(b[6]||0),l=Math.round(1e3*parseFloat("0."+(b[7]||0)));return h.call(c,i,j,k,l),c}return a}var q=[].slice,r=([].push,{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"}),s={yyyy:i("FullYear",4),yy:i("FullYear",2,0,!0),y:i("FullYear",1),MMMM:j("Month"),MMM:j("Month",!0),MM:i("Month",2,1),M:i("Month",1,1),dd:i("Date",2),d:i("Date",1),HH:i("Hours",2),H:i("Hours",1),hh:i("Hours",2,-12),h:i("Hours",1,-12),mm:i("Minutes",2),m:i("Minutes",1),ss:i("Seconds",2),s:i("Seconds",1),sss:i("Milliseconds",3),EEEE:j("Day"),EEE:j("Day",!0),a:o,Z:k,ww:n(2),w:n(1)},t=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,u=/^\-?\d+$/,v=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,w=function(f,h){var i,j,k="",l=[];if(h=h||"mediumDate",h=r[h]||h,a(f)&&(f=u.test(f)?e(f):p(f)),b(f)&&(f=new Date(f)),!c(f))return f;for(;h;)j=t.exec(h),j?(l=g(l,j,1),h=l.pop()):(l.push(h),h=null);return d(l,function(a){i=s[a],k+=i?i(f,r):a.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),k};return w}),i("isNumber",function(){var a=function(a){return"number"==typeof a};return a}),i("toObject",["isUndefined","isObject"],function(a,b){var c=function(c){return a(c)?{}:b(c)?c:{value:c}};return c}),i("toString",function(){var a=function(){var a=[];return forEach(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"};return a}),i("toTimeAgo",function(){var a=function(a){var b,c;return c=Math.floor((new Date-a)/1e3),b=Math.floor(c/31536e3),b>=1?{interval:b,ago:"y"}:(b=Math.floor(c/2592e3),b>=1?{interval:b,ago:"mo"}:(b=Math.floor(c/86400),b>=1?{interval:b,ago:"d"}:(b=Math.floor(c/3600),b>=1?{interval:b,ago:"h"}:(b=Math.floor(c/60),b>=1?{interval:b,ago:"m"}:(b=0>c?0:Math.floor(c),10>=b?{interval:b,ago:""}:{interval:b,ago:"s"})))))};return a}),i("toXML",function(){var a=function(a){var b,c;return window.DOMParser?(b=new DOMParser,c=b.parseFromString(a,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(a)),c};return a}),i("toXMLString",function(){var a=function(a){var b;return b=window.ActiveXObject?a.xml:(new XMLSerializer).serializeToString(a),b=b.replace(/\sxmlns=".*?"/gim,"")};return a}),i("degreesToRadians",function(){return function(a){return a*(Math.PI/180)}}),i("getAngle",function(){return function(a,b,c,d){return Math.atan2(d-b,c-a)}}),i("getDistance",function(){return function(a,b,c,d){return Math.sqrt((c-=a)*c+(d-=b)*d)}}),i("getPointOnCircle",function(){return function(a,b,c,d){return{x:a+c*Math.cos(d),y:b+c*Math.sin(d)}}}),i("radiansToDegrees",function(){return function(a){return a*(180/Math.PI)}}),i("rect",function(){var a=function(a,b,c,d){this.x=a||0,this.y=b||0,this.width=c||0,this.height=d||0,this.source=function(a){return a&&(this.x=a.x||0,this.y=a.y||0,this.width=a.width||0,this.height=a.height||0),this},this.pos=function(a){return a&&(this.x=a.x||0,this.y=a.y||0),{x:this.x,y:this.y}},this.size=function(a){return a&&(this.width=a.x||a.width||0,this.height=a.y||a.height||0),{x:this.width,y:this.height}},this.top=function(){return Number(this.y)},this.left=function(){return Number(this.x)},this.topLeft=function(){return{x:Number(this.x),y:Number(this.y)}},this.bottom=function(){return Number(this.y)+Number(this.height)},this.right=function(){return Number(this.x)+Number(this.width)},this.bottomRight=function(){return{x:Number(this.x)+Number(this.width),y:Number(this.y)+Number(this.height)}},this.centerX=function(){return Number(this.x)+.5*this.width},this.centerY=function(){return Number(this.y)+.5*this.height},this.clone=function(){return new geom.Rect(Number(this.x),Number(this.y),Number(this.width),Number(this.height))},this.contains=function(a,b){return a=Number(a),b=Number(b),a>=Number(this.x)&&a<Number(this.x)+Number(this.width)&&b>=Number(this.y)&&b<Number(this.y)+Number(this.height)},this.containsPoint=function(a){return Number(a.x)>=Number(this.x)&&Number(a.x)<Number(this.x)+Number(this.width)&&Number(a.y)>=Number(this.y)&&Number(a.y)<Number(this.y)+Number(this.height)},this.containsRect=function(a){var b=a.source(),c=Number(b.x)+Number(b.width),d=Number(b.y)+Number(b.height),e=Number(this.x)+Number(this.width),f=Number(this.y)+Number(this.height);return Number(b.x)>=Number(this.x)&&Number(b.x)<e&&Number(b.y)>=Number(this.y)&&Number(b.y)<f&&c>Number(this.x)&&e>=c&&d>Number(this.y)&&f>=d},this.copyFrom=function(a){this.x=Number(a.x||0),this.y=Number(a.y||0),this.width=Number(a.width||0),this.height=Number(a.height||0)},this.equals=function(a){return Number(a.x)===Number(this.x)&&Number(a.y)===Number(this.y)&&Number(a.width)===Number(this.width)&&Number(a.height)===Number(this.height)},this.inflate=function(a,b){a=Number(a),b=Number(b),this.x=Number(this.x)-a,this.width=Number(this.width)+2*a,this.y=Number(this.y)-b,this.height=Number(this.height)+2*b},this.inflatePoint=function(a){this.x=Number(this.x)-Number(a.x),this.width=Number(this.width)+2*a.x,this.y=Number(this.y)-Number(a.y),this.height=Number(this.height)+2*a.y},this.intersection=function(a){if(this.isEmpty()||a.isEmpty())return new geom.Rect;var b=Math.max(Number(this.x),Number(a.x)),c=Math.max(Number(this.y),Number(a.y)),d=Math.min(Number(this.x)+Number(this.width),Number(a.x)+Number(a.width))-b,e=Math.min(Number(this.y)+Number(this.height),Number(a.y)+Number(a.height))-c;return 0>=d||0>=e?new geom.Rect:new geom.Rect(b,c,d,e)},this.intersects=function(a){if(this.isEmpty()||a.isEmpty())return!1;var b=Number(this.x),c=Number(this.y),d=Number(this.width),e=Number(this.height),f=Number(a.x),g=Number(a.y),h=Number(a.width),i=Number(a.height),j=Math.max(b,f),k=Math.max(c,g),l=Math.min(b+d,f+h)-j,m=Math.min(c+e,g+i)-k;return 0>=l||0>=m?!1:!0},this.isEmpty=function(){return Number(this.width)<=0||Number(this.height)<=0},this.offset=function(a,b){this.x=Number(this.x)+Number(a),this.y=Number(this.y)+Number(b)},this.offsetPoint=function(a){this.x=Number(this.x)+Number(a.x),this.y=Number(this.y)+Number(a.y)},this.setEmpty=function(){this.x=0,this.y=0,this.width=0,this.height=0},this.toString=function(){return"(x="+this.x+", y="+this.y+", w="+this.width+", h="+this.height+")"},this.union=function(a){var b,c;return this.isEmpty()?a.clone():a.isEmpty()?this.clone():(b={x:0,y:0,width:0,height:0},c=a.source(),b.x=Math.min(Number(this.x),Number(c.x)),b.y=Math.min(Number(this.y),Number(c.y)),b.width=Math.max(Number(this.x)+Number(this.width),Number(c.x)+Number(c.width))-b.x,b.height=Math.max(Number(this.y)+Number(this.height),Number(c.y)+Number(c.height))-b.y,new geom.Rect(b.x,b.y,b.width,b.height))}};return function(b,c,d,e){return new a(b,c,d,e)}}),i("translate",function(){var a=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},b=function(a){return"object"==typeof a&&null!==a},c=function(a){return"[object String]"===Object.prototype.toString.call(a)};return{create:function(d,e){function f(a){if(d[a])return d[a];var b=a.split(j),c=b[0],e=b[1];return d[c]&&d[c][e]?d[c][e]:null}function g(a,c){if(b(a)){if(0===Object.keys(a).length)return i&&console.log("[Translation] No plural forms found."),null;a[c]?a=a[c]:a.n?a=a.n:(i&&console.log('[Translation] No plural forms found for count:"'+c+'" in',a),a=a[Object.keys(a).reverse()[0]])}return a}function h(a,b){return c(a)?a.replace(/\{(\w*)\}/g,function(a,c){return b.hasOwnProperty(c)?b.hasOwnProperty(c)?b[c]:c:(i&&console.log('Could not find replacement "'+c+'" in provided replacements object:',b),"{"+c+"}")}):a}e=b(e)?e:{};var i=e.debug,j=e.namespaceSplitter||"::";return function(c){var d=b(arguments[1])?arguments[1]:b(arguments[2])?arguments[2]:{},e=a(arguments[1])?arguments[1]:a(arguments[2])?arguments[2]:null,j=f(c);return null!==e&&(d.n=d.n?d.n:e,j=g(j,e)),j=h(j,d),null===j?(i&&console.log('Translation for "'+c+'" not found.'),"@@"+c+"@@"):j}}}}),i("functionName",function(){return function(a){var b="function"==typeof a,c=b&&(a.name&&["",a.name]||a.toString().match(/function ([^\(]+)/));return!b&&"not a function"||c&&c[1]||"anonymous"}}),i("htmlify",function(){function a(a){var d,e,f=[];a=c(a);var g=0;for(g=0;4>g;g++)a=a.replace(/(\S+\.\S+)/,"<"+g+">"),f[g]=RegExp.$1;for(d=g,g=0;d>g;g++)f[g].search(/\d\.\d/)>-1||f[g].length<5?a=a.replace("<"+g+">",f[g]):(e=b(f[g]),a=a.replace("<"+g+">",e));return a=a.replace(/\n/g,"<br/>"),a=a.replace(/\ \ /g," &nbsp;"),a=a.replace(/"/g,"&quot;"),a=a.replace(/\$/g,"&#36;")}function b(a){a=d(a);var b,e,f,g,h,i,j,k=0;for(b=a.length-1,k=0;b>k&&(e=a.substr(k,1),!(e.search(/\w/)>-1));k++);for(f=a.substring(0,k),f=c(f),a=a.substr(k),k=b;k>0&&(e=a.substr(k,1),!(e.search(/\w|_|-|\//)>-1));k--);return g=a.substring(k+1),g=c(g),h=a.substring(0,k+1),h.search(/@/)>0?(i='<a href="mailto:'+h+'">'+h+"</a>",f+i+g):(j="",h.search(/\w+:\/\//)<0&&(j="http://"),i='<a href="'+j+h+'">'+h+"</a>",f+i+g)}function c(a){return a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;")}function d(a){return a=a.replace(/&lt;/g,"<"),a=a.replace(/&gt;/g,">"),a=a.replace(/&amp;/g,"&")}return a}),i("interpolate",function(){var a=function(a,b){var c,d=Function;try{c=new d("return "+b).apply(a),c+""=="NaN"&&(c="")}catch(e){c=""}return c};return a}),i("urls",function(){var a=function(a,b){var c,d,e;if("string"==typeof a){var f=new RegExp('=\\"([^\\"]+\\.('+b+')\\")',"gi");for(c=a.match(f),d=0,e=c?c.length:0;e>d;++d)c[d]=c[d].replace(/(\"|=)/g,"")}return c||[]};return a}),i("singleton",function(){var a=function(){};return a.instances={},a.get=function(a){if("function"==typeof a){if(!a.__instance__){var b=Array.prototype.slice.call(arguments,0);a.__instance__=new(Function.prototype.bind.apply(a,b))}return a.__instance__}},a.getById=function(a,b){if("function"==typeof b){if(b.__instances__||(b.__instances__={}),!b.__instances__[a]){var c=Array.prototype.slice.call(arguments,0);b.__instances__[a]=new(Function.prototype.bind.apply(b,c))}return b.__instances__[a]}},a}),i("command",["dispatcher","defer","copy"],function(a,b,c){function d(a,b){this.commands=a,this.args=b.splice(0)}function e(){this._mappings={},a(this)}function f(){this._commands=[],a(this)}return d.counter=0,d.prototype.execute=function(a){var b,c=this;this.commands.length?(b=this.next(c.commands.shift()),b.then(function(){c.execute(a)})):a()},d.prototype.next=function(a){var e,f=b();if(f.__uid=d.counter+=1,a="function"==typeof a?new a:c(a),void 0===a.execute)throw new Error('Command expects "execute" to be defined.');if("function"!=typeof a.execute)throw new Error('Command expects "execute" to be of type function.');return"complete"in a?(e=a.complete,a.complete=function(){e.apply(a),"destruct"in a&&a.destruct(),f.resolve()}):a.complete=function(){"destruct"in a&&a.destruct(),f.resolve()},"construct"in a&&a.construct.apply(a,this.args),a.execute.apply(a,this.args),void 0===e&&a.complete(),f.promise},e.prototype.map=function(a){if("string"!=typeof a)throw new Error("Event must of type string.");if(!a.length)throw new Error("Event string cannot be empty");var b=this;return this._mappings[a]||(this._mappings[a]=new f,this._mappings[a].unsubscribe=this.on(a,function(){var c,e,f;c=Array.prototype.slice.call(arguments),c.shift(),e=b._mappings[a],e.commandExecutor||(e.commandExecutor=new d(e.getCommands(),c),e.commandExecutor.execute(function(){delete e.commandExecutor,f=null}))})),this._mappings[a]},e.prototype.unmap=function(a,b){this._mappings[a]&&(this._mappings[a].fromCommand(b),this._mappings[a].isEmpty()&&(this._mappings[a].unsubscribe(),delete this._mappings[a]))},e.prototype.umapAll=function(){this._mappings={}},f.prototype.getCommands=function(){return this._commands.splice(0)},f.prototype.isEmpty=function(){return 0===this._commands.length},f.prototype.hasCommand=function(a){for(var b=this._commands.length;b--;)if(this._commands[b]===a)return!0;return!1},f.prototype.toCommand=function(a){this.hasCommand(a)||this._commands.push(a)},f.prototype.fromCommand=function(a){for(var b=this._commands.length;b--;)if(this._commands[b]===a){this._commands.splice(b,1);break}},new e}),i("injector",["isFunction","toArray","functionArgs","apply"],function(a,b,c,d){function e(a){var b;return a instanceof Array&&(a=a.concat(),b=a.pop(),b.$inject=a,a=b),a}function f(a,b){function c(){return d(a,this,b)}return c.prototype=a.prototype,new c}function g(){this.registered={},this.preProcessor=null}var h="string",i="function",j=g.prototype;return j.val=function(a,b){var c,d=a.toLowerCase();return void 0!==b?this.registered[d]=b:this.preProcessor&&(c=this.preProcessor(a,this.registered[d]),void 0!==c&&(this.registered[d]=c)),this.registered[d]},j.invoke=function(a,b,c){return a=e(a),d(a,b,this.prepareArgs(a,c,b))},j.instantiate=function(a,b){return a=e(a),f(a,this.prepareArgs(a,b))},j.prepareArgs=function(a,b,d){a.$inject||(a.$inject=c(a));var e,f=a.$inject?a.$inject.slice():[],g=f.length;for(e=0;g>e;e+=1)this.getInjection(f[e],e,f,b,d);return f},j.getArgs=c,j.getInjection=function(a,b,c,d,e){var f,g;if(d&&d[a]?f=d[a]:void 0!==(g=this.val(a))&&(f=g),void 0===f)throw console.warn("Injection not found for "+a),new Error("Injection not found for "+a);f instanceof Array&&typeof f[0]===h&&typeof f[f.length-1]===i&&(f=this.invoke(f.concat(),e)),c[b]=f},function(){var c=new g;return arguments.length&&a(arguments[0])?d(c.invoke,c,b(arguments)):c}}),i("isFunction",function(){var a=function(a){return"function"==typeof a};return a}),i("stateMachine",function(){var a={VERSION:"2.3.0",Result:{SUCCEEDED:1,NOTRANSITION:2,CANCELLED:3,PENDING:4},Error:{INVALID_TRANSITION:100,PENDING_TRANSITION:200,INVALID_CALLBACK:300},WILDCARD:"*",ASYNC:"async",create:function(b,c){var d="string"==typeof b.initial?{state:b.initial}:b.initial,e=b.terminal||b["final"],f=c||b.target||{},g=b.events||[],h=b.callbacks||{},i={},j=function(b){var c=b.from instanceof Array?b.from:b.from?[b.from]:[a.WILDCARD];i[b.name]=i[b.name]||{};for(var d=0;d<c.length;d++)i[b.name][c[d]]=b.to||c[d]};d&&(d.event=d.event||"startup",j({name:d.event,from:"none",to:d.state}));for(var k=0;k<g.length;k++)j(g[k]);for(var l in i)i.hasOwnProperty(l)&&(f[l]=a.buildEvent(l,i[l]));for(var l in h)h.hasOwnProperty(l)&&(f[l]=h[l]);return f.current="none",f.is=function(a){return a instanceof Array?a.indexOf(this.current)>=0:this.current===a},f.can=function(b){return!this.transition&&(i[b].hasOwnProperty(this.current)||i[b].hasOwnProperty(a.WILDCARD))},f.cannot=function(a){return!this.can(a)},f.error=b.error||function(a,b,c,d,e,f,g){throw g||f},f.isFinished=function(){return this.is(e)},d&&!d.defer&&f[d.event](),f},doCallback:function(b,c,d,e,f,g){if(c)try{return c.apply(b,[d,e,f].concat(g))}catch(h){return b.error(d,e,f,g,a.Error.INVALID_CALLBACK,"an exception occurred in a caller-provided callback function",h)}},beforeAnyEvent:function(b,c,d,e,f){return a.doCallback(b,b.onbeforeevent,c,d,e,f)},afterAnyEvent:function(b,c,d,e,f){return a.doCallback(b,b.onafterevent||b.onevent,c,d,e,f)},leaveAnyState:function(b,c,d,e,f){return a.doCallback(b,b.onleavestate,c,d,e,f)},enterAnyState:function(b,c,d,e,f){return a.doCallback(b,b.onenterstate||b.onstate,c,d,e,f)},changeState:function(b,c,d,e,f){return a.doCallback(b,b.onchangestate,c,d,e,f)},beforeThisEvent:function(b,c,d,e,f){return a.doCallback(b,b["onbefore"+c],c,d,e,f)},afterThisEvent:function(b,c,d,e,f){return a.doCallback(b,b["onafter"+c]||b["on"+c],c,d,e,f)},leaveThisState:function(b,c,d,e,f){return a.doCallback(b,b["onleave"+d],c,d,e,f)},enterThisState:function(b,c,d,e,f){return a.doCallback(b,b["onenter"+e]||b["on"+e],c,d,e,f)},beforeEvent:function(b,c,d,e,f){return!1===a.beforeThisEvent(b,c,d,e,f)||!1===a.beforeAnyEvent(b,c,d,e,f)?!1:void 0},afterEvent:function(b,c,d,e,f){a.afterThisEvent(b,c,d,e,f),a.afterAnyEvent(b,c,d,e,f)},leaveState:function(b,c,d,e,f){var g=a.leaveThisState(b,c,d,e,f),h=a.leaveAnyState(b,c,d,e,f);return!1===g||!1===h?!1:a.ASYNC===g||a.ASYNC===h?a.ASYNC:void 0},enterState:function(b,c,d,e,f){a.enterThisState(b,c,d,e,f),a.enterAnyState(b,c,d,e,f)},buildEvent:function(b,c){return function(){var d=this.current,e=c[d]||c[a.WILDCARD]||d,f=Array.prototype.slice.call(arguments);if(this.transition)return this.error(b,d,e,f,a.Error.PENDING_TRANSITION,"event "+b+" inappropriate because previous transition did not complete");if(this.cannot(b))return this.error(b,d,e,f,a.Error.INVALID_TRANSITION,"event "+b+" inappropriate in current state "+this.current);if(!1===a.beforeEvent(this,b,d,e,f))return a.Result.CANCELLED;if(d===e)return a.afterEvent(this,b,d,e,f),a.Result.NOTRANSITION;var g=this;this.transition=function(){return g.transition=null,g.current=e,a.enterState(g,b,d,e,f),a.changeState(g,b,d,e,f),a.afterEvent(g,b,d,e,f),a.Result.SUCCEEDED},this.transition.cancel=function(){g.transition=null,a.afterEvent(g,b,d,e,f)};var h=a.leaveState(this,b,d,e,f);return!1===h?(this.transition=null,a.Result.CANCELLED):a.ASYNC===h?a.Result.PENDING:this.transition?this.transition():void 0}}};return function(b,c){return a.create(b,c)}}),j("array.indexOf",function(){return Array.prototype.indexOf||(Array.prototype.indexOf=function(a){for(var b=0,c=this.length;c>b;){if(a===this[b])return b;b+=1}return-1}),!0}),j("date.toISOString",function(){function a(a){return 10>a?"0"+a:a}return Date.prototype.toISOString||(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}),!0}),j("string.supplant",function(){return String.prototype.supplant||(String.prototype.supplant=function(a){return this.replace(/{([^{}]*)}/g,function(b,c){var d=a[c];return"string"==typeof d||"number"==typeof d?d:b})}),!0}),j("string.trim",["isString"],function(a){return String.prototype.trim?!0:function(b){return a(b)?b.replace(/^\s\s*/,"").replace(/\s\s*$/,""):b}}),j("window.console",function(){return"console"in window||(window.console={isOverride:!0,log:function(){},warn:function(){},info:function(){},error:function(){}}),!0}),j("query.bind",["query"],function(a){a.fn.bind=a.fn.on=function(a,b){a=a.match(/\w+/gim);for(var c,d=0,e=a.length;e>d;)c=a[d],this.each(function(a,d){d.attachEvent?(d["e"+c+b]=b,d[c+b]=function(){d["e"+c+b](window.event)},d.attachEvent("on"+c,d[c+b])):d.addEventListener(c,b,!1),d.eventHolder||(d.eventHolder=[]),d.eventHolder[d.eventHolder.length]=[c,b]}),d+=1;return this}}),j("query.change",["query","isDefined"],function(a,b){a.fn.change=function(a){var c=this;return b(a)?c.on("change",a):c.trigger("change"),c}}),j("query.trigger",["query"],function(a){a.fn.trigger=function(a,b){var c;return document.createEvent?(c=document.createEvent("HTMLEvents"),c.initEvent(a,!0,!0)):(c=document.createEventObject(),c.eventType=a),c.eventName=a,c.data=b,this.each(function(a,b){document.createEvent?b.dispatchEvent(c):b.fireEvent("on"+c.eventType,c)}),this}}),i("isDefined",function(){var a=function(a){return"undefined"!=typeof a};return a}),j("query.click",["query","isDefined"],function(a,b){a.fn.click=function(a){var c=this;return b(a)?c.bind("click",a):c.trigger("click"),c}}),j("query.unbind",["query"],function(a){a.fn.unbind=a.fn.off=function(a,b){if(1===arguments.length)this.unbindAll(a);else{a=a.match(/\w+/gim);for(var c,d=0,e=a.length;e>d;)c=a[d],this.each(function(a,d){d.detachEvent?(d.detachEvent("on"+c,d[c+b]),d[c+b]=null):d.removeEventListener(c,b,!1)}),d+=1}return this}}),j("query.unbindAll",["query"],function(a){a.fn.unbindAll=function(a){var b=this;return b.each(function(b,c){if(c.eventHolder)for(var d,e=0,f=0;f<c.eventHolder.length;f++)a&&c.eventHolder[f][0]!==a||(a=c.eventHolder[f][0],d=c.eventHolder[f][1],c.detachEvent?(c.detachEvent("on"+a,c[a+d]),c[a+d]=null):c.removeEventListener(a,d,!1),c.eventHolder.splice(f,1),e+=1,f-=1)}),b}}),j("query.height",["query"],function(a){a.fn.height=function(a){return this.css("height",a)}}),j("query.css",["query"],function(a){a.fn.css=function(a,b){var c,d,e,f;if(this.length){if(c=this[0],arguments.length>1)this.each(function(c,d){d.style[a]=b});else if(1===arguments.length&&"object"==typeof a)for(e in a)a.hasOwnProperty(e)&&(c.style[e]=a[e]);if(a instanceof Array){if(e=0,f=a.length,d={},c.currentStyle)for(;f>e;)d[a[e]]=c.currentStyle[a[e]],e+=1;else if(window.getComputedStyle)for(;f>e;)d[a[e]]=document.defaultView.getComputedStyle(c,null).getPropertyValue(a[e]),e+=1}else if("object"==typeof a){if(d={},c.currentStyle)for(e in a)a.hasOwnProperty(e)&&(d[a[e]]=c.currentStyle[a[e]]);else if(window.getComputedStyle)for(e in a)a.hasOwnProperty(e)&&(d[a[e]]=document.defaultView.getComputedStyle(c,null).getPropertyValue(a[e]))}else c.currentStyle?d=c.currentStyle[a]:window.getComputedStyle&&(d=document.defaultView.getComputedStyle(c,null).getPropertyValue(a));return d}return null}}),j("query.innerHeight",["query"],function(a){a.fn.innerHeight=function(){return this.css("innerHeight")}}),j("query.innerWidth",["query"],function(a){a.fn.innerWidth=function(){return this.css("innerWidth")}}),j("query.offset",["query"],function(a){a.fn.offset=function(){return this.length?this[0].getBoundingClientRect():void 0}}),j("query.outerHeight",["query"],function(a){a.fn.outerHeight=function(){return this.css("outerHeight")}}),j("query.outerWidth",["query"],function(a){a.fn.outerWidth=function(){return this.css("outerWidth")}}),j("query.width",["query"],function(a){a.fn.width=function(a){return this.css("width",a)}}),j("query.addClass",["query"],function(a){a.fn.addClass=function(b){var c;return this.each(function(d,e){c=a(e),c.hasClass(b)||(e.className+=" "+b)}),this}}),j("query.hasClass",["query"],function(a){a.fn.hasClass=function(a){var b=!1;return this.each(function(c,d){return!b&&(b=d.classList?d.classList.contains(a):new RegExp("(^| )"+a+"( |$)","gi").test(d.className))?!1:void 0}),b}}),j("query.attr",["query"],function(a){a.fn.removeAttr=function(a){return this.each(function(b,c){c.removeAttribute(a)}),this},a.fn.attr=function(a,b){return 2===arguments.length?(this.each("function"==typeof b?function(c,d){var e=b.apply(d,[c,a]);this.setAttribute(a,e)}:function(c,d){d.setAttribute(a,b)}),this):"object"==typeof a?(this.each(function(b,c){for(var d in a)a.hasOwnProperty(d)&&c.setAttribute(d,a[d])}),this):this.length?this[0].getAttribute(a):void 0},a.fn.data=function(a,b){return this.attr("data-"+a,b)}}),j("query.prop",["query"],function(a){a.fn.prop=function(a,b){if(this.length){if(!(arguments.length>2))return this[0][a];this[0][a]=b}},a.fn.is=function(a){return a=a.split(":").join(""),this.prop(a)}}),j("query.removeClass",["query","isDefined"],function(a,b){a.fn.removeClass=function(c){var d;return this.each(function(e,f){if(d=a(f),b(c)){var g=" "+f.className.replace(/[\t\r\n]/g," ")+" ";if(d.hasClass(c)){for(;g.indexOf(" "+c+" ")>=0;)g=g.replace(" "+c+" "," ");f.className=g.replace(/^\s+|\s+$/g,"")}}else f.className=""}),this}}),j("query.toggleClass",["query"],function(a){a.fn.toggleClass=function(b,c){var d,e=b.split(" ");return this.each(function(f,g){d=a(g);for(var h in e)b=e[h],d.hasClass(b)&&!c?d.removeClass(b):(c||void 0===c)&&d.addClass(b)}),this}}),j("query.after",["query"],function(a){a.fn.after=function(b){var c,d;"string"==typeof b&&(b=a(b));var e=[];return this.each(function(a,f){for(c=f.parentNode,d=b.length;d--;)f.insertAdjacentHTML("afterEnd",b[d].outerHTML),e.push(f.nextElementSibling)}),e}}),j("query.append",["query"],function(a){a.fn.append=function(b){var c,d,e;"string"==typeof b&&(b=a(b));var f=[];return this.each(function(a,g){for(c=g.parentNode,d=0,e=b.length;e>d;)g.insertAdjacentHTML("beforeEnd",b[d].outerHTML),f.push(g.lastElementChild),d+=1}),f}}),j("query.before",["query"],function(a){a.fn.before=function(b){var c,d,e;"string"==typeof b&&(b=a(b));var f=[];return this.each(function(a,g){for(c=g.parentNode,d=0,e=b.length;e>d;)g.insertAdjacentHTML("beforeBegin",b[d].outerHTML),f.push(g.previousElementSibling),d+=1}),f}}),j("query.empty",["query"],function(a){a.fn.empty=function(){this.each(function(a,b){b.innerHTML=null})}}),j("query.html",["query"],function(a){a.fn.html=function(a){if(this.length){var b=this[0];return arguments.length>0&&this.each(function(b,c){c.innerHTML=a}),b.innerHTML}}}),j("query.prepend",["query"],function(a){a.fn.prepend=function(b){var c;"string"==typeof b&&(b=a(b));var d=[];return this.each(function(a,e){for(c=b.length;c--;)e.insertAdjacentHTML("afterBegin",b[c].outerHTML),d.push(e.firstElementChild)}),d}}),j("query.remove",["query"],function(a){a.fn.remove=function(){this.each(function(a,b){b.parentElement&&b.parentElement.removeChild(b)})}}),j("query.text",["query"],function(a){a.fn.text=function(a){if(this.length){var b=this[0];return arguments.length>0&&this.each(function(b,c){c.innerText=a}),b.innerText}}}),j("query.children",["query"],function(a){a.fn.children=function(){var b,c,d=[];return this.each(function(a,e){d=d.concat(e.childNodes);var f=e.childNodes;for(b=0,c=f.length;c>b;)d.push(f[b]),b+=1}),a(d)}}),j("query.first",["query"],function(a){a.fn.first=function(b){return this.length?b?this[0]:a(this[0]):b?null:a()}}),j("query.get",["query","isDefined"],function(a,b){a.fn.get=function(a){return b(a)?Math.abs(a)<this.length?0>a?this[this.length+a-1]:this[a]:this:this.splice(0)}}),j("query.last",["query"],function(a){a.fn.last=function(b){return this.length?b?this[this.length-1]:a(this[this.length-1]):b?null:a()}}),j("query.next",["query"],function(a){a.fn.next=function(){var b=[];return this.each(function(a,c){b=b.concat(c.childNodes);var d=c.nextElementSibling;d&&b.push(d)}),a(b)}}),j("query.not",["query"],function(a){a.fn.not=function(b){return this.length?a(":not("+b+")",this[0]):a()}}),j("query.parent",["query"],function(a){a.fn.parent=function(b){if(this.length){var c=this[0].parentNode;if(c&&11!==c.nodeType)return b?a(c).find(b):a(c)}return a()}}),j("query.prev",["query"],function(a){a.fn.prev=function(){var b=[];return this.each(function(a,c){b=b.concat(c.childNodes);var d=c.previousElementSibling;d&&b.push(d)}),a(b)}}),j("query.isChecked",["query"],function(a){a.fn.isChecked=function(){return this.length?this[0].checked:!1}}),j("query.isVisible",["query"],function(a){a.fn.isVisible=function(){var a;return this.length?(a=this[0],9===a.parentNode.nodeType?!0:0===a.offsetWidth||0===a.offsetHeight?!1:"none"===a.style.display?!1:"hidden"===a.style.visibility?!1:0===a.style.opacity||"0"===a.style.opacity?!1:!0):!1}}),j("benchmark",["shades","rpad","functionName"],function(a,b,c){function d(a,b,c,d){function e(){return"start"===g.type?"["+g.key+"] (start:"+g.time+") "+g.message:"["+g.key+"] (start:"+g.startTime+" end:"+g.endTime+" difference:"+g.diff()+") "+g.message}function f(){return g._diff<0&&g.endTime>0&&(g._diff=g.endTime-g.startTime),g._diff}var g={};return g.startTime=-1,g.endTime=-1,g.key=a,g.type=b,g.time=c,g.message=d,g.diff=f,g._diff=-1,g.toString=e,g}function e(a){this.key=a.key,this.message=a.message,this.items=[]}function f(a){var c,d,e,f,g=a[0]&&a[0].color.length;for(d=0,f=a.length;f>d;d+=1)for(c=a[d],console.log(c.name),e=0;g>e;e+=1)console.log("	%c"+b(""," ",a[d].value[e]/100),"font-size:10px;line-height:10px;width:10px;background:"+c.color[e]+";","	"+c.label[e],"	"+c.value[e])}function g(){this.renderer=f,this.init()}return e.prototype={key:null,message:null,items:null,totalTime:0,max:0,average:0,addItem:function(a){var b=a.diff();this.items.push(a),this.max=b>this.max?b:this.max,this.totalTime+=b,this.average=this.totalTime/this.count()},count:function(){return this.items.length}},g.prototype={enable:!0,START:"start",STOP:"stop",_logs:null,_stared:null,_reports:null,_reportsList:null,_chartData:null,_chartDataLength:0,_paused:!1,threshold:null,hide:null,init:function(){this.filter="",this.threshold={count:0,totalTime:0,average:0,max:0,maxLength:10,warnTime:100},this.clear()},clear:function(){this._logs=[],this._started={},this._reports={},this._reportsList=[],this._chartData=this.createChartData(),this.hide={}},start:function(a,b){if(this.enable){var c,e=performance.now();this._started[a]&&this.stop(a,b),c=new d(a,this.START,e,b),this._started[a]=c,this._logs.push(c)}},stop:function(a){if(this.enable){var b=performance.now(),c=this._started[a];c&&(c.startTime=c.time,c.endTime=b,delete this._started[a],this.addToReports(c))}},pause:function(){this._paused=!0},resume:function(){this._paused=!1},flush:function(a){if(this.enable){var b,c,d,e=this._logs.length,f="",g=0,h=0;if(a){for(b in this._stared)this._started.hasOwnProperty(b)&&(f+="STARTED:"+this._started[b].toString()+"\n");f+="\n"}for(b=0;e>b;b+=1)c=this._logs[b],d=c.diff(),d&&(g+=d,h+=1),a&&(f+=c.toString()+"\n");return this._started={},this._logs.length=0,f+"Average: "+(h?g/h:0)+"ms\n"+(a?f:"")}},addToReports:function(a){var b=this._reports[a.key]||new e(a);this._reports[a.key]||(this._reports[a.key]=b,this._reportsList.push(b)),this._reports[a.key].addItem(a),a.endTime-a.startTime>this.threshold.warnTime&&(console.warn("Benchmark:: Warning "+this.threshold.warnTime+"ms exceeded."),this.invalidate(this.filter,this.threshold))},getKey:function(a){return this.getClassName(a)||"unknown"},autoBenchMark:function(a,b){if(this.enable){var c,d=this.getKey(a);for(c in a)"_super"===c||"init"===c||"function"!=typeof a[c]||a[c].ignore||b&&-1!==b.indexOf(c)||this.wrap(a,d,c)}},wrap:function(a,b,c){if(-1!==c.indexOf("_bench"))return void(a[c].ignore=!0);var d=c+"_bench",e=this,f=b+"."+c;if(a[d]=a[c],a[c]=function(){var b;return e.start(f,arguments),a[d]&&(b=a[d].apply(a,arguments)),e.stop(f),b}.bind(a),window.angular)if(a[d].$inject)a[c].$inject=a[d].$inject;else{var g=a[d].toString(),h=g.match(/\((.*?)?\)/)[1];h&&(a[c].$inject=h?h.replace(/\s+/g,"").split(","):[])}a[c].ignore=!0},getClassName:function(a){if(a&&a.constructor&&a.constructor.toString){var b=a.constructor.toString().match(/function\s+(\w+)/);
return b&&2===b.length?b[1]:c(a)}return""},getChartData:function(){return this._chartData},invalidate:function(a,b){this.enable&&(this._paused||(this._renderPending?(this._pendingRender=!0,this._pendingFilter=a,this._pendingThreshold=a):(this.filter=a||"",this.threshold=b||this.threshold,this._pendingRender=!1,this._pendingFilter="",this._pendingThreshold=0,this._renderReportBind||(this._renderReportBind=function(){this._renderReport(),clearTimeout(this._renderPending),this._renderPending=0,this._pendingRender&&this.invalidate(this._pendingFilter,this._pendingThreshold)}.bind(this)),this._renderPending=setTimeout(this._renderReportBind,100))))},_renderReport:function(){var b,c,d,e,f=0,g=100,h=["#336699","#CCC","#009900","#009900"],i=["count","total time","avg time","max time"];for(this.sort||(this.sortReportByCountBind=this.sortReportByCount.bind(this),this.sortReportByTotalTimeBind=this.sortReportByTotalTime.bind(this),this.sortReportByAverageBind=this.sortReportByAverage.bind(this),this.sortReportByMaxBind=this.sortReportByMax.bind(this),this.sortReportByNameBind=this.sortReportByName.bind(this),this.sort=this.sortReportByMaxBind),d=this._reportsList,(this.filter||this.threshold)&&(d=this.filterList(d,this.filter,this.threshold)),d=d.sort(this.sort),b=d.length,b=b>this.threshold.maxLength?this.threshold.maxLength:b,b<this._chartData.length&&(this._chartData.length=b);b>f;){for(c=d[f],e=0,this._chartData[f]=this._chartData[f]||{name:c.key,value:[c.count(),c.average,c.max],color:[],label:[],report:c},this._chartData[f].name=c.key,this._chartData[f].message=c.message,this.hide.count||(this._chartData[f].value[e]=c.count(),this._chartData[f].color[e]=h[0],this._chartData[f].label[e]=i[0],e+=1),this.hide.totalTime||(this._chartData[f].value[e]=c.totalTime,this._chartData[f].color[e]=h[1],this._chartData[f].label[e]=i[1],e+=1),this.hide.average||(this._chartData[f].value[e]=c.average,this._chartData[f].color[e]=a.getRGBStr(c.average/g),this._chartData[f].label[e]=i[2],e+=1),this.hide.max||(this._chartData[f].value[e]=c.max,this._chartData[f].color[e]=a.getRGBStr(c.max/g),this._chartData[f].label[e]=i[3]);this._chartData[f].value.length-1>e;)this._chartData[f].value.pop(),this._chartData[f].color.pop(),this._chartData[f].label.pop();f+=1}this._chartDataLength=f,this.renderer(this._chartData)},filterList:function(a,b,c){var d,e=0,f=a.length,g=[];for(b=(b||"").toLowerCase();f>e;)d=a[e],this.passThreshold(d,c)&&-1!==d.key.toLowerCase().indexOf(b)&&g.push(d),e+=1;return g},passThreshold:function(a,b){return a.count()>=b.count&&a.totalTime>=b.totalTime&&a.average>=b.average&&a.max>=b.max},createChartData:function(){return[]},sortReportByCount:function(a,b){return this.sortReport(a,b,"count")},sortReportByTotalTime:function(a,b){return this.sortReport(a,b,"totalTime")},sortReportByAverage:function(a,b){return this.sortReport(a,b,"average")},sortReportByMax:function(a,b){return this.sortReport(a,b,"max")},sortReportByName:function(a,b){return b.key>a.key?-1:b.key<a.key?1:0},sortReport:function(a,b,c){return b[c]-a[c]}},new g}),i("repeater",function(){var a=function(a,b,c){var d=this;d.count=0,d.delay=b||300,d.repeat=c||50,d.limit=a||0},b=a.prototype;return b.check=function(){var a=this;a.count+=1,a.limit&&a.count>=a.limit&&a.stop()},b.start=function(a){var b=this,c=typeof a;b.count=0,b.t=setTimeout(function(){b.t=setInterval(function(){b.check(),c&&a(b)},b.repeat),b.check(),c&&a(b)},b.delay),b.check(),c&&a(b)},b.stop=function(){var a=this;clearTimeout(a.t),clearInterval(a.t)},function(b,c,d){return new a(b,c,d)}}),i("stopwatch",["timer","dispatcher"],function(a,b){var c=function(d){function e(){y.options=d,C=E,f(),g(),h(),i(),setTimeout(function(){y.dispatch(c.events.READY)})}function f(){x=new a({frequency:G})}function g(){b(y)}function h(){y.start=p,y.stop=q,y.reset=r,y.getTime=j,y.getCountdown=k,y.getTimeRemaining=l,y.getState=n}function i(){x.on("start",s),x.on("change",t),x.on("stop",u),x.on("reset",v)}function j(){var a=Math.floor(B/F)*F;return a+D}function k(){return C}function l(){var a=j();return E?E-a:0}function m(a){return Math.floor(a/F)*F}function n(){return x.current}function o(a){B=m(a),E&&(C=E-B)}function p(){"ready"===n()&&x.start()}function q(){x.stop()}function r(){x.reset()}function s(a,b){o(b),y.dispatch(c.events.START)}function t(a,b){A=B,o(b),A!==B&&(A=B,y.dispatch(c.events.CHANGE),E&&j()>=E&&w(a,b))}function u(a,b){o(b),y.dispatch(c.events.STOP)}function v(a,b){o(b),y.dispatch(c.events.RESET)}function w(){z=!0,y.dispatch(c.events.DONE),x.stop()}d=d||{};var x,y=this,z=!1,A=0,B=0,C=0,D=d.startTime||0,E=d.endTime||0,F=d.tick||1e3,G=10;e()};return c.events={READY:"ready",START:"start",STOP:"stop",RESET:"reset",CHANGE:"change",DONE:"done",ERROR:"error"},function(a){return new c(a)}}),i("timer",["dispatcher","stateMachine"],function(a,b){var c=function(d){function e(){f(),g()}function f(){b({target:o,initial:"ready",error:k,events:[{name:"start",from:"ready",to:"running"},{name:"start",from:"stop",to:"running"},{name:"stop",from:"running",to:"stop"},{name:"reset",from:"stop",to:"ready"}],callbacks:{onafterstart:h,onafterstop:i,onafterreset:j}})}function g(){a(o)}function h(){p=Date.now(),n=setInterval(function(){r=l();m();o.dispatch(c.events.CHANGE,m())},d.frequency||1e3),o.dispatch(c.events.START,q)}function i(){clearInterval(n),r=l(),q+=r,o.dispatch(c.events.STOP,q)}function j(){q=0,o.dispatch(c.events.RESET,q)}function k(a,b,d,e,f,g){o.dispatch(c.events.ERROR,{name:a,from:b,to:d,args:e,errorCode:f,errorMessage:g})}function l(){return"ready"===o.current?0:Date.now()-p}function m(){if("running"===o.current){var a=l();return q+a}return q}d=d||{};var n,o=this,p=0,q=0,r=0;o.getTime=l,o.getTotalTime=m,e()};return c.events={START:"start",STOP:"stop",RESET:"reset",CHANGE:"change",ERROR:"error"},function(a){return new c(a)}}),i("isArrayLike",["isWindow","isString","isArray"],function(a,b,c){var d=function(d){if(null===d||a(d))return!1;var e=d.length;return 1===d.nodeType&&e?!0:b(d)||c(d)||0===e||"number"==typeof e&&e>0&&e-1 in d};return d}),i("isBoolean",function(){var a=function(a){return"boolean"==typeof a};return a}),i("isEmail",function(){var a=function(a){var b=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9])+$/;return b.test(a+"")};return a}),i("isEqual",function(){var a=function(b,c,d){var e,f,g,h,i,j,k;if("string"==typeof b||"number"==typeof b||"boolean"==typeof b)return b===c;if(e=Object.keys(b),f=Object.keys(c),g=e.length,h=f.length,g!==h)return!1;if(d)for(i=0;g>i;i+=1)if(j=b[e[i]],k=b[f[i]],"object"==typeof j&&k&&!a(b[e[i]],c[e[i]],d))return!1;return!0};return a}),i("isFile",["toString"],function(a){var b=function(b){return"[object File]"===a.call(b)};return b}),i("isInt",function(){var a=function(a){return-1!==String(a).search(/^\s*(\-)?\d+\s*$/)};return a}),i("isJson",function(){var a=function(a){try{JSON.parse(a)}catch(b){return!1}return!0};return a}),i("isMobile",function(){var a=/iPhone/i,b=/iPod/i,c=/iPad/i,d=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,e=/Android/i,f=/IEMobile/i,g=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,h=/BlackBerry/i,i=/Opera Mini/i,j=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,k=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),l=function(a,b){return a.test(b)},m=function(m){var n=m||navigator.userAgent;return this.apple={phone:l(a,n),ipod:l(b,n),tablet:l(c,n),device:l(a,n)||l(b,n)||l(c,n)},this.android={phone:l(d,n),tablet:!l(d,n)&&l(e,n),device:l(d,n)||l(e,n)},this.windows={phone:l(f,n),tablet:l(g,n),device:l(f,n)||l(g,n)},this.other={blackberry:l(h,n),opera:l(i,n),firefox:l(j,n),device:l(h,n)||l(i,n)||l(j,n)},this.seven_inch=l(k,n),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window?this:void 0},n=function(){var a=new m;return a.Class=m,a};return n()}),i("isNumeric",function(){var a=function(a){return!isNaN(parseFloat(a))&&isFinite(a)};return a}),i("isRequired",function(){var a=function(a,b){if("undefined"==typeof a)throw new Error(b||'The property "'+a+'" is required')};return a}),i("isTouchDevice",function(){return"ontouchstart"in window||"onmsgesturechange"in window}),i("isTrue",function(){var a="",b=function(){return{operators:["eq","neq","~eq","~neq","gt","lt","gte","lte"],test:function(b,c,d){switch(isNaN(b)||isNaN(d)?(b=void 0===b?a:b,d=void 0===d?a:d):(b=Number(b),d=Number(d)),c){case"eq":return b+a===d+a;case"neq":return b+a!==d+a;case"~eq":return(b+a).toLowerCase()===(d+a).toLowerCase();case"~neq":return(b+a).toLowerCase()!==(d+a).toLowerCase();case"gt":return b>d;case"lt":return d>b;case"gte":return b>=d;case"lte":return d>=b}}}};return b});for(var l in d)k(l,d[l])}(this.hb||{},function(){return this}());