/*
* Hummingbird v.0.5.45
* Obogo - MIT 2015
* https://github.com/obogo/hummingbird/
*/
!function(a,b){b.hb=a;var c=a.$$||function(a){return c[a]||(c[a]={}),c[a]},d=c("c"),e=c("i"),f=c("p");a.$$=c;var g=function(a){return Array.prototype.slice.call(a)},h=function(a){var b=g(arguments),c=b[1];"function"==typeof c?this.c[a]=c():(d[a]=b[2],d[a].$inject=c,d[a].$internal=this.i)},i=function(){h.apply({i:!1,c:a},g(arguments))},j=function(){h.apply({i:!0,c:e},g(arguments))},k=function(b,c){f[b]=!0;var g,h=c.$inject,i=[];for(var j in h)if(h.hasOwnProperty(j)&&(g=h[j],d[g])){if(f.hasOwnProperty(g))throw new Error('Cyclical reference: "'+b+'" referencing "'+g+'"');k(g,d[g]),delete d[g]}if(!a[b]&&!e[b]){for(var l in h)g=h[l],i.push(a[g]||e[g]);c.$internal?e[b]=c.apply(null,i)||b:a[b]=c.apply(null,i)||b}Object.defineProperty(a,"$$",{enumerable:!1,writable:!1}),delete f[b]};j("hb.errors",function(){return{E1:"Trying to assign multiple scopes to the same dom element is not permitted.",E2:"Unable to find element",E3:"Exceeded max digests of ",E4:"parent element not found in %o",E5:"property is not of type object",E6a:'Error evaluating: "',E6b:'" against %o',E7:"$digest already in progress.",E8:"Name required to instantiate module",E9:"Injection not found for ",E10:"This element has already been compiled",E11:"Watch cannot have a function of null or undefined",E12:"parent element not found in %o",E13:"hb-model is only designed for input elements"}}),j("hbd.debugger",["hb.directive","benchmark","lpad","rpad"],function(b,c,d,e){function f(){this.nameLength=50}var g;return b("hbDebugger",function(){return{link:function(a,b){function f(a){return document.querySelector("["+b.name+"-id='"+a.$id+"']")}function h(a,b,d,e){var f=b.$id+(a.expr&&'.$watch("'+a.expr+'", #)');c.start(f,{scope:b,fn:a.listenerFn}),a.listenerFn(d,e,b),c.stop(f)}function i(a){var b,h,i,j;for(console.group("Benchmark"),h=0,i=a.length;i>h;h+=1){b=a[h],j=e(b.name.indexOf("#")&&b.message&&b.message.fn?b.name.replace("#",c.getClassName(b.message.fn)):b.name," ",g.nameLength),j.length>g.nameLength&&(j=j.substr(0,g.nameLength-3)+"..."),console.groupCollapsed("%c","border-left: 4px solid "+b.color[2]+";border-right: 4px solid "+b.color[3]+";",j,d(b.value[0]+"x"," ",5),d("avg:"+(Math.floor(1e3*b.value[2])/1e3).toFixed(3)+"ms"," ",16));var k=b.value[1]-b.value[3],l=b.value[1]-k;console.log("%c","border-left:"+(Math.ceil(l/10)||1)+"px solid "+b.color[3]+";border-right:"+(Math.ceil(k/10)||1)+"px solid "+b.color[1]+";","largest:"+Math.floor(1e3*b.value[3])/1e3+"/total:"+Math.floor(1e3*b.value[1])/1e3),b.message&&b.message.scope&&(b.message.el=f(b.message.scope),console.log("%cdata %o","font-weight:bold;",b.message)),console.log("%creport %o","font-weight:bold;",b.report),console.groupEnd()}console.groupEnd()}function j(a,b){return c.threshold.maxLength=a||10,c.threshold.totalTime=b||1,c.invalidate(),""}c.watch=h,g.getEl=f,g.benchmark=c,a.$benchmark=c,c.renderer=i,g.render=j,c.autoBenchMark(b)}}}),g=new f,a["debugger"]=g,g}),j("hb.val",function(){var a={},b=function(b,c){return"undefined"==typeof c?a[b]:void(a[b]=c)};return b.init=function(b){for(var c in a)b.val(c,a[c])},b}),j("benchmark",["shades","rpad","functionName"],function(a,b,c){function d(a,b,c,d){function e(){return"start"===g.type?"["+g.key+"] (start:"+g.time+") "+g.message:"["+g.key+"] (start:"+g.startTime+" end:"+g.endTime+" difference:"+g.diff()+") "+g.message}function f(){return g._diff<0&&g.endTime>0&&(g._diff=g.endTime-g.startTime),g._diff}var g={};return g.startTime=-1,g.endTime=-1,g.key=a,g.type=b,g.time=c,g.message=d,g.diff=f,g._diff=-1,g.toString=e,g}function e(a){this.key=a.key,this.message=a.message,this.items=[]}function f(a){var c,d,e,f,g=a[0]&&a[0].color.length;for(d=0,f=a.length;f>d;d+=1)for(c=a[d],console.log(c.name),e=0;g>e;e+=1)console.log("	%c"+b(""," ",a[d].value[e]/100),"font-size:10px;line-height:10px;width:10px;background:"+c.color[e]+";","	"+c.label[e],"	"+c.value[e])}function g(){this.renderer=f,this.init()}return e.prototype={key:null,message:null,items:null,totalTime:0,max:0,average:0,addItem:function(a){var b=a.diff();this.items.push(a),this.max=b>this.max?b:this.max,this.totalTime+=b,this.average=this.totalTime/this.count()},count:function(){return this.items.length}},g.prototype={enable:!0,START:"start",STOP:"stop",_logs:null,_stared:null,_reports:null,_reportsList:null,_chartData:null,_chartDataLength:0,_paused:!1,threshold:null,hide:null,init:function(){this.filter="",this.threshold={count:0,totalTime:0,average:0,max:0,maxLength:10,warnTime:100},this.clear()},clear:function(){this._logs=[],this._started={},this._reports={},this._reportsList=[],this._chartData=this.createChartData(),this.hide={}},start:function(a,b){if(this.enable){var c,e=performance.now();this._started[a]&&this.stop(a,b),c=new d(a,this.START,e,b),this._started[a]=c,this._logs.push(c)}},stop:function(a){if(this.enable){var b=performance.now(),c=this._started[a];c&&(c.startTime=c.time,c.endTime=b,delete this._started[a],this.addToReports(c))}},pause:function(){this._paused=!0},resume:function(){this._paused=!1},flush:function(a){if(this.enable){var b,c,d,e=this._logs.length,f="",g=0,h=0;if(a){for(b in this._stared)this._started.hasOwnProperty(b)&&(f+="STARTED:"+this._started[b].toString()+"\n");f+="\n"}for(b=0;e>b;b+=1)c=this._logs[b],d=c.diff(),d&&(g+=d,h+=1),a&&(f+=c.toString()+"\n");return this._started={},this._logs.length=0,f+"Average: "+(h?g/h:0)+"ms\n"+(a?f:"")}},addToReports:function(a){var b=this._reports[a.key]||new e(a);this._reports[a.key]||(this._reports[a.key]=b,this._reportsList.push(b)),this._reports[a.key].addItem(a),a.endTime-a.startTime>this.threshold.warnTime&&(console.warn("Benchmark:: Warning "+this.threshold.warnTime+"ms exceeded."),this.invalidate(this.filter,this.threshold))},getKey:function(a){return this.getClassName(a)||"unknown"},autoBenchMark:function(a,b){if(this.enable){var c,d=this.getKey(a);for(c in a)"_super"===c||"init"===c||"function"!=typeof a[c]||a[c].ignore||b&&-1!==b.indexOf(c)||this.wrap(a,d,c)}},wrap:function(a,b,c){if(-1!==c.indexOf("_bench"))return void(a[c].ignore=!0);var d=c+"_bench",e=this,f=b+"."+c;if(a[d]=a[c],a[c]=function(){var b;return e.start(f,arguments),a[d]&&(b=a[d].apply(a,arguments)),e.stop(f),b}.bind(a),window.angular)if(a[d].$inject)a[c].$inject=a[d].$inject;else{var g=a[d].toString(),h=g.match(/\((.*?)?\)/)[1];h&&(a[c].$inject=h?h.replace(/\s+/g,"").split(","):[])}a[c].ignore=!0},getClassName:function(a){if(a&&a.constructor&&a.constructor.toString){var b=a.constructor.toString().match(/function\s+(\w+)/);return b&&2===b.length?b[1]:c(a)}return""},getChartData:function(){return this._chartData},invalidate:function(a,b){this.enable&&(this._paused||(this._renderPending?(this._pendingRender=!0,this._pendingFilter=a,this._pendingThreshold=a):(this.filter=a||"",this.threshold=b||this.threshold,this._pendingRender=!1,this._pendingFilter="",this._pendingThreshold=0,this._renderReportBind||(this._renderReportBind=function(){this._renderReport(),clearTimeout(this._renderPending),this._renderPending=0,this._pendingRender&&this.invalidate(this._pendingFilter,this._pendingThreshold)}.bind(this)),this._renderPending=setTimeout(this._renderReportBind,100))))},_renderReport:function(){var b,c,d,e,f=0,g=100,h=["#336699","#CCC","#009900","#009900"],i=["count","total time","avg time","max time"];for(this.sort||(this.sortReportByCountBind=this.sortReportByCount.bind(this),this.sortReportByTotalTimeBind=this.sortReportByTotalTime.bind(this),this.sortReportByAverageBind=this.sortReportByAverage.bind(this),this.sortReportByMaxBind=this.sortReportByMax.bind(this),this.sortReportByNameBind=this.sortReportByName.bind(this),this.sort=this.sortReportByMaxBind),d=this._reportsList,(this.filter||this.threshold)&&(d=this.filterList(d,this.filter,this.threshold)),d=d.sort(this.sort),b=d.length,b=b>this.threshold.maxLength?this.threshold.maxLength:b,b<this._chartData.length&&(this._chartData.length=b);b>f;){for(c=d[f],e=0,this._chartData[f]=this._chartData[f]||{name:c.key,value:[c.count(),c.average,c.max],color:[],label:[],report:c},this._chartData[f].name=c.key,this._chartData[f].message=c.message,this.hide.count||(this._chartData[f].value[e]=c.count(),this._chartData[f].color[e]=h[0],this._chartData[f].label[e]=i[0],e+=1),this.hide.totalTime||(this._chartData[f].value[e]=c.totalTime,this._chartData[f].color[e]=h[1],this._chartData[f].label[e]=i[1],e+=1),this.hide.average||(this._chartData[f].value[e]=c.average,this._chartData[f].color[e]=a.getRGBStr(c.average/g),this._chartData[f].label[e]=i[2],e+=1),this.hide.max||(this._chartData[f].value[e]=c.max,this._chartData[f].color[e]=a.getRGBStr(c.max/g),this._chartData[f].label[e]=i[3]);this._chartData[f].value.length-1>e;)this._chartData[f].value.pop(),this._chartData[f].color.pop(),this._chartData[f].label.pop();f+=1}this._chartDataLength=f,this.renderer(this._chartData)},filterList:function(a,b,c){var d,e=0,f=a.length,g=[];for(b=(b||"").toLowerCase();f>e;)d=a[e],this.passThreshold(d,c)&&-1!==d.key.toLowerCase().indexOf(b)&&g.push(d),e+=1;return g},passThreshold:function(a,b){return a.count()>=b.count&&a.totalTime>=b.totalTime&&a.average>=b.average&&a.max>=b.max},createChartData:function(){return[]},sortReportByCount:function(a,b){return this.sortReport(a,b,"count")},sortReportByTotalTime:function(a,b){return this.sortReport(a,b,"totalTime")},sortReportByAverage:function(a,b){return this.sortReport(a,b,"average")},sortReportByMax:function(a,b){return this.sortReport(a,b,"max")},sortReportByName:function(a,b){return b.key>a.key?-1:b.key<a.key?1:0},sortReport:function(a,b,c){return b[c]-a[c]}},new g}),i("shades",function(){var a=function(a,b){function c(a){var b,c,d,e,f,g,i,j=0,k=h.length;for(a>=1&&(j=k);k>j;){if(a<=h[j].pct)return b=0===j?h[j]:h[j-1],c=0===j?h[j+1]:h[j],d=c.pct-b.pct,e=(a-b.pct)/d,f=1-e,g=e,i={r:Math.floor(b.color.r*f+c.color.r*g),g:Math.floor(b.color.g*f+c.color.g*g),b:Math.floor(b.color.b*f+c.color.b*g)};j+=1}return i=h[h.length-1].color}function d(a){return"rgb("+[a.r,a.g,a.b].join(",")+")"}function e(a){var b=c(a);return d(b)}var f=0,g=a?a.length:0,h=[],i=[{pct:0,color:{r:0,g:153,b:0}},{pct:.5,color:{r:255,g:255,b:0}},{pct:1,color:{r:255,g:0,b:0}}];if(a&&b)for(;g>f;)h.push(a[f],b[f]),f+=1;else h=a?a:i;return{getRGB:c,getRGBStr:e,convertRGBToStr:d}}();return a}),i("rpad",function(){var a=function(a,b,c){for(;a.length<c;)a+=b;return a};return a}),i("functionName",function(){return function(a){var b="function"==typeof a,c=b&&(a.name&&["",a.name]||a.toString().match(/function ([^\(]+)/));return!b&&"not a function"||c&&c[1]||"anonymous"}}),i("lpad",function(){var a=function(a,b,c){for(;a.length<c;)a=b+a;return a};return a}),j("hb.attr.class",["hb.directive"],function(a){a("class",function(){return{link:["scope","el","$app",function(a,b,c){for(var d=b.classList.length,e=[],f=0;d>f;f+=1)-1!==b.classList[f].indexOf(c.bindingMarkup[0])&&(e.push({bind:b.classList[f],last:""}),b.classList.remove(b.classList[f]),f-=1,d-=1);a.$watch(function(){this.expr="class";var d,f,g,h=e.length;for(d=0;h>d;d+=1)g=e[d],f=c.parseBinds(a,g.bind),f!==g.last&&g.last&&b.classList.remove(g.last),f&&b.classList.add(f),g.last=f})}]}})}),j("hbd.autoscroll",["hb.directive","query"],function(a,b){a("hbAutoscroll",function(a){function c(a){var b=a.offsetHeight,c=getComputedStyle(a);return b+=parseInt(c.marginTop,10)+parseInt(c.marginBottom,10)}var d=b,e=window,f=function(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},g=function(a,b,c,d){return c>d?b:a+(b-a)*f(c/d)},h=function(a,b,c,d,f){d=void 0===d?500:d,c=parseInt(c,10);var h=Date.now(),i=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(a){e.setTimeout(a,15)},j=function(){var e=Date.now()-h;a.scrollTop=g(b,c,e,d),e>d?"function"==typeof f&&f(a):i(j)};j()};return{link:function(b,e,f){function g(){setTimeout(function(){Date.now();h(e,e.scrollTop,c(k)-c(e),j.duration)},j.delay||10)}var i=e.querySelectorAll("input,textarea"),j=a.interpolate(b,f.value),k=e.querySelector("*");b.$watch(j.watch,g);for(var l in i)d(i[l]).bind("focus",g);b.$on("$destroy",function(){for(var a in i)d(i[a]).unbindAll()})}}})}),j("query.bind",["query"],function(a){a.fn.bind=a.fn.on=function(a,b){a=a.match(/\w+/gim);for(var c,d=0,e=a.length;e>d;)c=a[d],this.each(function(a,d){d.attachEvent?(d["e"+c+b]=b,d[c+b]=function(){d["e"+c+b](window.event)},d.attachEvent("on"+c,d[c+b])):d.addEventListener(c,b,!1),d.eventHolder||(d.eventHolder=[]),d.eventHolder[d.eventHolder.length]=[c,b]}),d+=1;return this}}),i("query",function(){function a(a,b){this.init(a,b)}var b=a.prototype=Object.create(Array.prototype);b.selector="",b.init=function(a,b){"string"==typeof a?"<"===a.substr(0,1)&&">"===a.substr(a.length-1,1)?this.parseHTML(a):this.parseSelector(a,b):a instanceof Array?this.parseArray(a):a instanceof Element&&this.parseElement(a)},b.parseHTML=function(a){var b=document.createElement("div");b.innerHTML=a,this.length=0,this.parseArray(b.children)},b.parseSelector=function(b,c){var d,e,f;for(this.selector=b,this.context=c instanceof Element?c:c instanceof a?c[0]:document,e=this.context.querySelectorAll(b),f=e.length,d=0,this.length=0;f>d;)this.push(e[d]),d+=1},b.parseArray=function(a){var b=0,c=a.length;for(this.length=0;c>b;)a[b]instanceof Element&&this.push(a[b]),b+=1},b.parseElement=function(a){this.length=0,this.push(a)},b.toString=function(){return this.length?this[0].outerHTML:void 0},b.each=function(a){for(var b,c=0,d=this.length;d>c&&(b=a.apply(this[c],[c,this[c]]),b!==!1);)c+=1;return this};var c=function(d,e){for(var f in c.fn)c.fn.hasOwnProperty(f)&&(b[f]=c.fn[f],delete c.fn[f]);return new a(d,e)};return c.fn={},c}),j("query.focus",["query"],function(a){a.fn.focus=function(){return this.each(function(a,b){b.focus()}),this}}),j("query.cursor",["query"],function(a){a.fn.getCursorPosition=function(){return 0===this.length?-1:a(this).getSelectionStart()},a.fn.setCursorPosition=function(b){return 0===this.length?this:a(this).setSelection(b,b)},a.fn.getSelection=function(){if(0===this.length)return-1;var b=a(this).getSelectionStart(),c=a(this).getSelectionEnd();return this[0].value.substring(b,c)},a.fn.getSelectionStart=function(){if(0===this.length)return-1;var a=this[0],b=a.value.length;if(a.createTextRange){var c=document.selection.createRange().duplicate();c.moveEnd("character",a.value.length),""===c.text&&(b=a.value.length),b=a.value.lastIndexOf(c.text)}else"undefined"!=typeof a.selectionStart&&(b=a.selectionStart);return b},a.fn.getSelectionEnd=function(){if(0===this.length)return-1;var a=this[0],b=a.value.length;if(a.createTextRange){var c=document.selection.createRange().duplicate();c.moveStart("character",-a.value.length),""===c.text&&(b=a.value.length),b=a.value.lastIndexOf(c.text)}else"undefined"!=typeof a.selectionEnd;return b},a.fn.setSelection=function(a,b){if(0===this.length)return this;var c=this[0];if(c.createTextRange){var d=c.createTextRange();d.collapse(!0),d.moveEnd("character",b),d.moveStart("character",a),d.select()}else c.setSelectionRange&&c.setSelectionRange(a,b);return this},a.fn.setSelectionRange=function(b){var c=a(this);switch(b){case"start":c.setSelection(0,0);break;case"end":c.setSelection(c.val().length,c.val().length);break;case!0:case"all":c.setSelection(0,c.val().length)}},a.fn.select=function(){this.setSelectionRange(!0)}}),j("query.val",["query"],function(a){a.fn.val=function(a){var b,c,d,e,f;if(this.length){if(b=this[0],!arguments.length){if("SELECT"===b.nodeName&&b.multiple){for(c=[],d=0,f=b.options,e=f.length;e>d;)f&&c.push(f[d].value||f[0].text);return 0===c.length?null:c}return b.value}b.value=a}}}),j("query.unbindAll",["query"],function(a){a.fn.unbindAll=function(a){var b=this;return b.each(function(b,c){if(c.eventHolder)for(var d,e=0,f=0;f<c.eventHolder.length;f++)a&&c.eventHolder[f][0]!==a||(a=c.eventHolder[f][0],d=c.eventHolder[f][1],c.detachEvent?(c.detachEvent("on"+a,c[a+d]),c[a+d]=null):c.removeEventListener(a,d,!1),c.eventHolder.splice(f,1),e+=1,f-=1)}),b}}),j("hbd.bridge",["hb.directive","debounce","fromDashToCamel"],function(a,b,c){a("hbBridge",function(a){return{scope:!0,link:function(d,e){function f(a){return function(b){d[a]=b,j()}}var g,h,i,j,k,l,m,n=angular.element(e).scope(),o=d.$$fire,p=[],q=e.attributes.length;for(d.$$fire=function(a,b){o.call(d,a,b);var c=b.slice();c.unshift(a),n.$emit.apply(n,c),n.$apply()},j=b(function(){d.$apply()}),g=0;q>g;g+=1)h=e.attributes[g],i=h.name||h.nodeName||h.localName,l=c(i),m=e.getAttribute(i),m&&0!==i.indexOf("ng-")&&i!==a.name+"-id"&&!a.val(l)&&(console.log("watching "+i),k=f(l),p.push(n.$watch(m,k,!0)),k(n.$eval(m)));d.$on("$destroy",function(){for(;p.length;)p.pop()()})}}})}),i("debounce",function(a){var a=function(a,b,c){var d;return function(){var e=c||this,f=arguments;clearTimeout(d),d=setTimeout(function(){d=null,a.apply(e,f)},b)}};return a}),i("fromDashToCamel",function(){return function(a){return a.replace(/-([a-z])/g,function(a){return a[1].toUpperCase()})}}),j("hbd.class",["hb.directive"],function(a){a("hbClass",function(a){return{link:function(b,c,d){b.$watch(function(){this.expr=d.value;var e,f=a.interpolate(b,d.value);for(var g in f)f.hasOwnProperty(g)&&(e=c.classList.contains(g),f[g]?c.classList.add(g):e&&c.classList.remove(g))})}}})}),j("hbd.cloak",["hb.directive"],function(a){a("hbCloak",function(){return{link:function(a,b,c){a.$on("hb::ready",function(){b.removeAttribute(c.name)})}}})}),j("hbd.directiveRepeat",["hb.directive","fromCamelToDash"],function(a,b){a("hbDirectiveRepeat",["$app",function(a){return{link:["scope","el","alias",function(c,d,e){function f(a,b){var e,f,g,h,j=[];if(b&&b.length)for(f=0,g=d.children.length;g>f;f+=1)e=d.children[f],h=b.indexOf(e.scope[i]),-1!==h&&j.push(e);for(f=0;e&&d.children.length>a;)e=d.children[f],e.scope&&e.scope!==c&&-1===j.indexOf(e)?(e.scope.$destroy(),d.removeChild(e),f-=1):e.scope||(d.removeChild(e),f-=1),f+=1}function g(g){var l,m,n,o,p,q,r,s=0;if(g&&"string"==typeof g&&g.length&&(g=[g]),g&&g.length)for(l=g.length||0,f(l,g);l>s;){if(m=d.children[s],!m){if(p=g[s],h?(p=p[h],j&&(p=j[p]||j["default"])):j&&j[p]&&(p=j[p]),o=a.val(p.split("-").join("")),!o)throw new Error(p+" is not registered.");if(o=(o.length?o[o.length-1]:o)(),!o.scope)throw new Error(e.name+" can only support inherited or isolated scope children.");n=c.$new(),void 0!==g[s]&&null!==g[s]&&""!==g[s]&&(n[i]=g[s]),q=b(p),r=k?k.replace(/<(\/?\w+)/g,"<"+q):"<"+q+"></"+q+">",m=a.addChild(d,r,n)}g[s]?(n=m.scope,n[i]=g[s],n.$index=s):m.scope.$destroy(),s+=1}else f(0);c.$emit("hbDirectiveRepeat::render")}var h=c.$eval(d.getAttribute("item-property")),i=c.$eval(d.getAttribute("scope-property"))||"model",j=c.$eval(d.getAttribute("type-map")),k="";d.children.length&&(k=d.children[0].outerHTML,d.innerHTML=""),c.$watch(e.value,g,!0),g(c.$eval(e.value))}]}}])}),i("fromCamelToDash",function(){return function(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}}),j("hbd.disabled",["hb.directive"],function(a){a("hbDisabled",function(){return{link:function(a,b,c){var d="disabled";a.$watch(c.value,function(a){a?b.setAttribute(d,d):b.removeAttribute(d)})}}})}),j("hbd.events",["hb","hb.val","each"],function(a,b,c){function d(a,b,c){for(var d=0;d<f.length;d++)f[d]||(b=b.toLowerCase()),a.addEventListener(f[d]+b,c,!1)}var e="click mousedown mouseup mouseover mouseout keydown keyup touchstart touchend touchmove".split(" "),f=["webkit","moz","MS","o",""],g="AnimationStart AnimationEnd".split(" ");c(g,function(a){b("hb"+a,["$app",function(b){return{link:function(c,e,f){function g(a){return"a"===a.target.nodeName.toLowerCase()&&a.preventDefault(),c.$event=a,a.target===e&&(b.interpolate(c,f.value),c.$apply()),!1}d(e,a,g)}}}],"event")}),c(e,function(c){b("hb"+c.charAt(0).toUpperCase()+c.substr(1),["$app",function(b){return{link:function(d,e,f){function g(a){return"a"===a.target.nodeName.toLowerCase()&&a.preventDefault(),d.$event=a,b.interpolate(d,f.value),d.$apply(),!1}a.on(e,c,g)}}}],"event")})}),j("hb",function(){var a={debug:{},plugins:{},filters:{},errors:{},directives:{}},b="on";return a.on=function(a,c,d){a.attachEvent?a.attachEvent(b+c,a[c+d]):a.addEventListener(c,d,!1)},a.off=function(a,c,d){a.detachEvent?a.detachEvent(b+c,a[c+d]):a.removeEventListener(c,d,!1)},a}),i("each",function(){function a(a,b,c,d,e,f,g){var h=g?[c,d,e]:[c];return b.apply(a,h.concat(f))}var b=function(b,c){var d,e,f,g=0;if(arguments.length>2&&(f=Array.prototype.slice.apply(arguments),f.splice(0,2)),b&&b.length&&b.hasOwnProperty(0))for(d=b.length;d>g;){if(e=a(this.scope,c,b[g],g,b,f,this.all),void 0!==e)return e;g+=1}else if(!(b instanceof Array)&&void 0===b.length)for(g in b)if(b.hasOwnProperty(g)&&(!this.omit||!this.omit[g])&&(e=a(this.scope,c,b[g],g,b,f,this.all),void 0!==e))return e;return b};return b}),j("hbd.html",["hb.directive"],function(a){a("hbHtml",function(){return{link:function(a,b,c){a.$watch(c.value,function(a){b.innerHTML=a||""})}}})}),j("hbd.ignore",["hb.directive"],function(a){a("hbIgnore",function(){return{scope:!0,link:function(a){a.$ignore(!0)}}})}),j("hbd.model",["hb.directive","resolve","query","hb.errors","throttle"],function(a,b,c,d,e){a("hbModel",function(){var a=c;return{link:function(c,f,g){function h(a){if(a=void 0===a?"":a,f.hasOwnProperty("value"))f.value=a;else{if(!f.hasOwnProperty("innerText"))throw d.E13;f.innerText=a}}function i(){b(c).set(g.value,f.hasOwnProperty("value")?f.value:f.innerText);var a=f.getAttribute("hb-change");a&&c.$eval(a),c.$apply()}var j=a(f);c.$watch(g.value,h),j.bind("change keyup blur input onpropertychange",e(i,10)),c.$on("$destroy",function(){j.unbindAll()})}}})}),j("query.unbind",["query"],function(a){a.fn.unbind=a.fn.off=function(a,b){if(1===arguments.length)this.unbindAll(a);else{a=a.match(/\w+/gim);for(var c,d=0,e=a.length;e>d;)c=a[d],this.each(function(a,d){d.detachEvent?(d.detachEvent("on"+c,d[c+b]),d[c+b]=null):d.removeEventListener(c,b,!1)}),d+=1}return this}}),j("hb.directive",["hb.val"],function(a){return a}),i("resolve",["isUndefined"],function(a){function b(a){this.data=a||{}}var c=b.prototype;c.get=function(a,b){a=a||"";for(var c=a.split(b||"."),d="",e=0,f=c.length,g=this.data;f>e&&(d=c[e],g=g[d],void 0!==g);)e+=1;return g},c.set=function(b,c,d){if(a(b))throw new Error('Resolve requires "path"');for(var e=b.split(d||"."),f="",g=0,h=e.length-1,i=this.data;h>g;)f=e[g],i=void 0===i[f]?i[f]={}:i[f],g+=1;return e.length>0&&(i[e.pop()]=c),this.data},c.clear=function(){var a=this.data;for(var b in a)a.hasOwnProperty(b)&&delete a[b]},c.path=function(a){return this.set(a,{})};var d=function(a){return new b(a)};return d}),i("isUndefined",function(){var a=function(a){return"undefined"==typeof a};return a}),i("throttle",function(){var a=function(a,b,c){b=b||250;var d,e;return function(){var f=c||this,g=+new Date,h=arguments;d&&d+b>g?(clearTimeout(e),e=setTimeout(function(){d=g,a.apply(f,h)},b)):(d=g,a.apply(f,h))}};return a}),j("hbd.repeat",["hb.directive","each"],function(a,b){a("hbRepeat",function(a){function c(a,b,c){c[b]=a&&a.trim()}return{link:function(d,e,f){function g(a){for(var b;e.children.length>a;)b=e.children[0],b.scope&&b.scope!==d&&b.scope.$destroy(),e.removeChild(b)}function h(b){if(b&&b.length){g(b.length);for(var c,f,h,j=0,l=Math.max(b.length,e.children.length);l>j;)c=e.children[j],c?b[j]?(f=c.scope,f[k]=b[j],f.$index=j):c.scope.$destroy():(h={},h[k]=b[j],h.$index=j,c=a.addChild(e,i,d.$new(),h)),j+=1}else g(0)}var i=e.children[0].outerHTML;e.removeChild(e.children[0]);var j=f.value;j=b.call({all:!0},j.split(/\s+in\s+/),c);var k=j[0],l=j[1];d.$watch(l,h,!0)}}})}),j("hbd.show",["hb.directive"],function(a){a("hbShow",function(){return{scope:!0,link:function(a,b,c){a.$watch(c.value,function(c){c?(a.$ignore(!1,!0),b.style.display=null):(a.$ignore(!0,!0),b.style.display="none")})}}})}),j("hbd.src",["hb.directive"],function(a){a("hbSrc",function(){return{link:function(a,b,c){var d="src";a.$watch(c.value,function(a){a?b.setAttribute(d,a):b.removeAttribute(d)})}}})}),j("hbd.style",["hb.directive","fromDashToCamel"],function(a,b){a("hbStyle",function(a){return{link:function(c,d,e){c.$watch(function(){this.expr=e.value;var f,g=a.interpolate(c,e.value);for(var h in g)g.hasOwnProperty(h)&&(f=b(h),d.style[f]!==g[h]&&(d.style[f]=g[h]))})}}})}),j("hbd.view",["hb.directive"],function(a){a("hbView",function(a){return{link:function(b,c,d){function e(b){return c.children.length&&a.removeChild(c.children[0]),a.addChild(c,a.val(b))}b.title="view",d.value&&b.$watch(d.value,e),b.$on("router::change",function(a,c,d,f){var g=e(c.templateName,null,d);g&&(g.scope.$state={current:c,params:d,prev:f}),b.$apply()})}}})}),j("hbf.lower",["hb.filter"],function(a){a("lower",function(){return function(a){return(a+"").toLowerCase()}})}),j("hb.filter",["hb.val"],function(a){return a}),j("hbf.timeAgo",["hb.filter","toTimeAgo"],function(a,b){a("timeAgo",function(){return function(a){a=new Date(a);var c=" ago",d=b(a),e=d.interval;switch(d.ago){case"d":return e+" days"+c;case"h":return e+" hours"+c;case"m":return e+" mins"+c;case"s":return e+" secs"+c;default:return"just now"}}})}),i("toTimeAgo",function(){var a=function(a){var b,c;return c=Math.floor((new Date-a)/1e3),b=Math.floor(c/31536e3),b>=1?{interval:b,ago:"y"}:(b=Math.floor(c/2592e3),b>=1?{interval:b,ago:"mo"}:(b=Math.floor(c/86400),b>=1?{interval:b,ago:"d"}:(b=Math.floor(c/3600),b>=1?{interval:b,ago:"h"}:(b=Math.floor(c/60),b>=1?{interval:b,ago:"m"}:(b=0>c?0:Math.floor(c),10>=b?{interval:b,ago:""}:{interval:b,ago:"s"})))))};return a}),j("hbf.upper",["hb.filter"],function(a){a("upper",function(){return function(a){return(a+"").toUpperCase()}})}),i("module",["hb","hb.compiler","hb.scope","hb.val","injector","interpolator","removeHTMLComments","each","ready","hb.errors"],function(a,b,c,d,e,f,g,h,i,j){function k(a){function i(a){return a?a.scope?a.scope:i(a.parentNode):null}function k(a){if(a){for(d.init(this),q.element(a);s.length;)t.invoke(s.shift(),q);z.$broadcast("hb::ready",q),z.$apply()}}function l(a,b,c,d){if(b){if(a!==r&&r.contains&&!r.contains(a))throw new Error(j.MESSAGES.E12,r);a.insertAdjacentHTML("beforeend",g(b));var e=c||i(a),f=a.children[a.children.length-1];return m(f,c||e,!!c,d)}}function m(a,b,c,d){var e,f=c&&b||b.$new();if(d)for(e in d)d.hasOwnProperty(e)&&(f[e]=d[e]);return v.link(a,f),w(a,b),a}function n(b){var c;b.scope?(b.scope.$destroy(),b.scope=null):(c=b.querySelectorAll(a+"-id"),h(c,n)),b.remove()}function o(a){return"undefined"!=typeof a&&(r=a,v.link(r,z),w(r,z)),r}function p(a,b){return void 0===b?y(a):(b.isClass=!0,y(a,b))}var q=this;q.name=a;var r,s=[],t=this.injector=e(),u=this.interpolator=f(t),v=b(q),w=v.compile,x=u.invoke,y=t.val.bind(t),z=c(x);z.$ignoreInterpolateErrors=!0,y("$rootScope",z),t.preProcessor=function(a,b){return b&&b.isClass?t.instantiate(b):void 0},q.bindingMarkup=["{{","}}"],q.elements={},q.bootstrap=k,q.findScope=i,q.addChild=l,q.removeChild=n,q.compile=m,q.interpolate=x,q.element=o,q.val=y,q.factory=y,q.service=p,q.template=y,q.parseBinds=function(a,b){return v.parseBinds(b,a)}}var l={};return function(a,b){if(!a)throw j.MESSAGES.E8;var c=l[a]=!b&&l[a]||new k(a);return c.val("$app")||(c.val("$app",c),c.val("$window",window),setTimeout(function(){i(function(){var b=document.querySelector("["+a+"-app]");b&&c.bootstrap(b)})})),c}}),j("hb.compiler",["each","fromDashToCamel"],function(a,b){function c(c){function d(a,b){for(var c,d,e=Array.prototype.slice.call(arguments,0),f=1,g=e.length;g>f;){c=e[f];for(d in c)c.hasOwnProperty(d)&&(a[d]=b[d]);f+=1}return a}function e(b,c){return b?void(8===b.nodeType?c.removeChild(b):b.childNodes&&a(b.childNodes,e,b)):!0}function f(a,b){if(a&&b){var d=new RegExp(c.bindingMarkup[0]+"(.*?)"+c.bindingMarkup[1],"mg");return a.replace(d,function(a,c){var d=s.invoke(b,c.trim(),!0);return"string"==typeof d||"number"==typeof d?d:"object"==typeof d?JSON.stringify(d,null,2):""})}return a}function g(a,b){var d=c.findScope(b);r.invoke(a.options.link,d,{scope:d,el:b,attr:h(b),alias:a.alias})}function h(a){var c,d={};for(c=0;c<a.attributes.length;c+=1){var e=a.attributes[c],f=b((e.name||e.localName||e.nodeName).replace(/^data\-/,""));d[f]=e.value}return d}function i(a,b){a&&(a.setAttribute(q,b.$id),c.elements[b.$id]=a,a.scope=b)}function j(a,b){var d,e,g,h,i=a.attributes,j=[{name:a.nodeName.toLowerCase(),value:""}],k=[],l=i.length,m=[];for(e=0;l>e;e+=1)d=i[e],j.push({name:d.name,value:a.getAttribute(d.name)});for(l=j.length,e=0;l>e;e+=1)d=j[e],g=d?d.name.split("-").join(""):"",h=r.val(g),h?k.push({options:r.invoke(h),alias:{name:d.name,value:d.value}}):d.value&&-1!==d.value.indexOf(c.bindingMarkup[0])&&m.push(d);for(l=m.length,e=0;l>e;e+=1)d=m[e],a.setAttribute(d.name,f(d.value,a.scope||b));return k}function k(a,b,c,e){var f=a.$new(c);return i(b,f),d(f,e),f}function l(b,d){if(3===b.nodeType){if(-1!==b.nodeValue.indexOf(c.bindingMarkup[0])&&!m(d,b)){var e=b.nodeValue;d.$watch(function(){return f(e,d)},function(a){(void 0===a||null===a||a+""=="NaN")&&(a=""),b.nodeValue=a}),d.$w[0].node=b}}else!b.getAttribute(q)&&b.childNodes.length&&a(b.childNodes,l,d)}function m(a,b){for(var c=0,d=a.$w.length;d>c;){if(a.$w[c].node===b)return!0;c+=1}return!1}function n(b,c){if(!b.compiled){b.compiled=!0,a(b.childNodes,e,b);var d=j(b,c),f=[];d&&d.length&&(a(d,p,b,c,f),a(f,g,b))}if(b){c=b.scope||c;for(var h=0,i=b.children.length;i>h;)b.children[h].compiled||n(b.children[h],c),h+=1;b.getAttribute(q)&&o(b,c)}return b}function o(b,c){a(b.childNodes,l,c)}function p(a,b,d,e){var f,g=a.options;!b.scope&&g.scope&&(f=k(d,b,"object"==typeof a.options.scope,a.options.scope)),g.tpl&&(b.innerHTML="string"==typeof g.tpl?g.tpl:r.invoke(g.tpl,f||b.scope,{scope:f||b.scope,el:b,alias:a.alias})),g.tplUrl&&(b.innerHTML=c.val("string"==typeof g.tplUrl?g.tplUrl:r.invoke(g.tplUrl,f||b.scope,{scope:f||b.scope,el:b,alias:a.alias}))),c.preLink&&c.preLink(b,a),e.push(a)}var q=c.name+"-id",r=c.injector,s=c.interpolator,t=this;t.link=i,t.compile=n,t.parseBinds=f,t.preLink=null}return function(a){return new c(a)}}),j("hb.scope",["hb.errors"],function(){function a(a){return Array[f].slice.call(a,0)||[]}function b(a,b){for(var c=!0,d=0,e=a.length;e>d;)b(a[d])||(c=!1),d+=1;return c}function c(){return(i++).toString(36)}function d(){}function e(a){var b=this;b.$id=c(),b.$w=[],b.$lw=null,b.$aQ=[],b.$pQ=[],b.$r=b,b.$c=[],b.$l={},b.$ph=null,b.$interpolate=a}var f="prototype",g="error",h=console,i=1,j=e.prototype;return j.$watch=function(a,b,c){var e,f,g=this;if(a){"string"==typeof a?(f=a,e=function(){return g.$interpolate(g,a,!0)}):e=a;var h={expr:f,watchFn:e,listenerFn:b||function(){},deep:!!c,last:d};return g.$w.unshift(h),g.$r.$lw=null,g.$lw=null,function(){var a=g.$w.indexOf(h);a>=0&&(g.$w.splice(a,1),g.$r.$lw=null)}}},j.$$digestOnce=function(){var a=!1,b=!0,c=this;return c.$$scopes(function(c){if(c.$$ignore)return!1;for(var e,f,g,h=c.$w.length;h--;)if(g=c.$w[h])if(e=g.watchFn(c),f=g.last,c.$$areEqual(e,f,g.deep)&&f!==d){if(c.$r.$lw===g)return b=!1,!1}else c.$r.$lw=g,g.last=g.deep?JSON.stringify(e):e,c.$benchmark?c.$benchmark.watch(g,c,e,f===d?e:f):g.listenerFn(e,f===d?e:f,c),f===d&&(g.last=f=void 0),a=!0;return b}),a},j.$digest=function(){var a,b=10,c=this;c.$r.$lw=null,c.$beginPhase("$digest");do{for(;c.$aQ.length;)try{var d=c.$aQ.shift();d.scope.$eval(d.exp)}catch(e){h[g](e)}if(a=c.$$digestOnce(),(a||c.$aQ.length)&&!b--)throw c.$clearPhase(),"10its"}while(a||c.$aQ.length);for(;c.$pQ.length;)try{c.$pQ.shift()()}catch(e){h[g](e)}c.$clearPhase()},j.$$areEqual=function(a,b,c){return c?JSON.stringify(a)===b:a===b||"number"==typeof a&&"number"==typeof b&&isNaN(a)&&isNaN(b)},j.$eval=function(a,b){var c=this;return c.$interpolate(b||c,a,!0)},j.$apply=function(a){var b=this;if(!b.$isIgnored())try{if(b.$beginPhase("$apply"),a)return b.$eval(a)}finally{b.$clearPhase(),b.$r.$digest()}},j.$evalAsync=function(a){var b=this;b.$ph||b.$aQ.length||setTimeout(function(){b.$aQ.length&&b.$r.$digest()},0),b.$aQ.push({scope:b,exp:a})},j.$beginPhase=function(a){var b=this;b.$ph||(b.$ph=a)},j.$clearPhase=function(){this.$ph=null},j.$$postDigest=function(a){this.$pQ.push(a)},j.$new=function(a){
var b,d=this;if(a)b=new e(d.$interpolate),b.$r=d.$r,b.$aQ=d.$aQ,b.$pQ=d.$pQ;else{var f=function(){};f.prototype=d,b=new f}return d.$c.push(b),b.$id=c(),b.$w=[],b.$l={},b.$c=[],b.$p=d,b},j.$isIgnored=function(){for(var a=this,b=a.$$ignore,c=a;!b&&c.$p;)c=c.$p,b=c.$$ignore;return!!b},j.$ignore=function(a,c){var d=this;void 0!==a&&(b(d.$c,function(b){b.$$ignore=a}),c||(d.$$ignore=a),a||d.$isIgnored()||d.$digest())},j.$ignoreEvents=function(a,c){var d=this;void 0!==a&&(b(d.$c,function(b){b.$$ignoreEvents=a}),c||(d.$$ignoreEvents=a))},j.$$scopes=function(a){var c=this;return a(c)?b(c.$c,function(b){return b.$$scopes(a)}):!1},j.$destroy=function(){var a=this;if(a!==a.$r){var b=a.$p.$c,c=b.indexOf(a);c>=0&&(a.$broadcast("$destroy"),b.splice(c,1))}},j.$on=function(a,b){var c=this,d=c.$l[a];return d||(c.$l[a]=d=[]),d.push(b),function(){var a=d.indexOf(b);a>=0&&(d[a]=null)}},j.$emit=function(b){var c=this;if(!c.$$ignoreEvents||"$destroy"===c.eventName){var d=!1,e={name:b,targetScope:c,stopPropagation:function(){d=!0},preventDefault:function(){e.defaultPrevented=!0}},f=a(arguments);f.shift();var g=[e].concat(f),h=c;do e.currentScope=h,h.$$fire(b,g),h=h.$p;while(h&&!d);return e}},j.$broadcast=function(b){var c=this;if(!c.$$ignoreEvents||"$destroy"===c.eventName){var d={name:b,targetScope:c,preventDefault:function(){d.defaultPrevented=!0}},e=a(arguments);e.shift();var f=[d].concat(e);return c.$$scopes(function(a){return d.currentScope=a,a.$$fire(b,f),!0}),d}},j.$$fire=function(a,b){for(var c=this.$l[a]||[],d=0;d<c.length;)null===c[d]?c.splice(d,1):(c[d].apply(null,b),d++);return event},function(a){return new e(a)}}),i("injector",["isFunction","toArray","functionArgs"],function(a,b,c){function d(a){var b;return a instanceof Array&&(a=a.concat(),b=a.pop(),b.$inject=a,a=b),a}function e(a,b){function c(){return a.apply(this,b)}return c.prototype=a.prototype,new c}function f(){this.registered={},this.preProcessor=null}var g="string",h="function",i=f.prototype;return i.val=function(a,b){var c,d=a.toLowerCase();return void 0!==b?this.registered[d]=b:this.preProcessor&&(c=this.preProcessor(a,this.registered[d]),void 0!==c&&(this.registered[d]=c)),this.registered[d]},i.invoke=function(a,b,c){return a=d(a),a.apply(b,this.prepareArgs(a,c,b))},i.instantiate=function(a,b){return a=d(a),e(a,this.prepareArgs(a,b))},i.prepareArgs=function(a,b,d){a.$inject||(a.$inject=c(a));var e,f=a.$inject?a.$inject.slice():[],g=f.length;for(e=0;g>e;e+=1)this.getInjection(f[e],e,f,b,d);return f},i.getArgs=c,i.getInjection=function(a,b,c,d,e){var f,i;if(d&&d[a]?f=d[a]:void 0!==(i=this.val(a))&&(f=i),void 0===f)throw console.warn("Injection not found for "+a),new Error("Injection not found for "+a);f instanceof Array&&typeof f[0]===g&&typeof f[f.length-1]===h&&(f=this.invoke(f.concat(),e)),c[b]=f},function(){var c=new f;return arguments.length&&a(arguments[0])?c.invoke.apply(c,b(arguments)):c}}),i("isFunction",function(){var a=function(a){return"function"==typeof a};return a}),i("toArray",["isArguments","isArray","isUndefined"],function(a,b,c){var d=function(d){if(a(d))return Array.prototype.slice.call(d,0)||[];try{if(b(d))return d;if(!c(d))return[].concat(d)}catch(e){}return[]};return d}),i("isArguments",["toString"],function(a){var b=function(b){var c=String(b),d="[object Arguments]"===c;return d||(d="[object Array]"!==c&&null!==b&&"object"==typeof b&&"number"==typeof b.length&&b.length>=0&&(!b.callee||"[object Function]"===a.call(b.callee))),d};return b}),i("isArray",function(){Array.prototype.__isArray=!0,Object.defineProperty(Array.prototype,"__isArray",{enumerable:!1,writable:!0});var a=function(a){return a?!!a.__isArray:!1};return a}),i("functionArgs",function(){return function(a){var b=(a||"")+"";return b.match(/\(.*\)/)[0].match(/([\$\w])+/gm)}}),j("interpolator",["each","removeLineBreaks","removeExtraSpaces"],function(a,b,c){function d(d){function e(a){n=a}function f(a,b,c,d){d&&d(a,'Error evaluating: "'+c+'" against %o',b)}function g(a,b){var c,d=0,e=[],f=0;for(a=a.replace(/('|").*?\1/g,function(a){var b="*"+d;return e.push(a),d+=1,b}),a=a.replace(/(\.?[a-zA-Z\$\_]+\w?\b)(?!\s?\:)/g,function(a){return"."===a.charAt(0)?a:h(a,b)}),c=e.length;c>f;)a=a.split("*"+f).join(e[f]),f+=1;return a}function h(a,b){a=a.trim(),void 0===b[a]&&b.hasOwnProperty(a)&&delete b[a];var c=a.toLowerCase();return"true"!==c&&"false"!==c?m+"."+a:a}function i(b,c){if(-1!==b.indexOf("|")&&b.match(/("|')?\w+\s?\1?\|\s?\w+/)){b=b.replace("||","~~");var e=b.trim().split("|");e[1]=e[1].replace("~~","||"),a.call({all:!0},e,k),e[1]=e[1].split(":");var f,g=e[1].shift().split("-").join(""),h=d.val(g);return h?(f=e[1],a.call({all:!0},f,d.getInjection,c),{filter:function(a){return f.unshift(a),d.invoke(h,c,{alias:g}).apply(c,f)},str:e[0]}):e[0]}return void 0}function j(a,d,e){var h,j,k=Function;if(null!==d&&void 0!==d&&(d=b(d),d=c(d)))return j=i(d,a),j&&(d=j.str),d=g(d,a),h=new k("var result; try { result = "+d+"; } catch(er) { result = er; } finally { return result; }").apply(a),h&&"object"==typeof h&&(h.hasOwnProperty("stack")||h.hasOwnProperty("stacktrace")||h.hasOwnProperty("backtrace"))&&(e||f(h,a,d,n),h=void 0),j?j.filter(h):h}function k(a,b,c){c[b]=a&&a.trim()}var l=this,m="this",n=function(a,b,c){window.console&&console.warn&&console.warn(b+"\n"+a.message+"\n"+(a.stack||a.stacktrace||a.backtrace),c)};l.invoke=j,l.setErrorHandler=e}return function(a){return new d(a)}}),i("removeLineBreaks",function(){var a=function(a){return a+="",a.replace(/(\r\n|\n|\r)/gm,"")};return a}),i("removeExtraSpaces",function(){var a=function(a){return a+="",a.replace(/\s+/g," ")};return a}),i("removeHTMLComments",function(){var a=function(a){return a+="",a.replace(/<!--[\s\S]*?-->/g,"")};return a}),i("ready",function(){function a(){for(var a=0,b=c.length;b>a;)c[a](),a+=1;c.length=0}var b,c=[],d=window,e=document,f="addEventListener",g="removeEventListener",h="attachEvent",i="detachEvent",j="DOMContentLoaded",k="onreadystatechange",l="complete",m="readyState",n=function(b){c.push(b),e[m]===l&&setTimeout(a)};return e[f]?b=function(){e[g](j,b,!1),a()}:e.attachEvent&&(b=function(){e[m]===l&&(e[i](k,b),a())}),e[m]===l&&setTimeout(a,1),e[f]?(e[f](j,b,!1),d[f]("load",a,!1)):e[h]&&(e[h](k,b),d[h]("onload",a)),n}),j("hb.plugins.mocks",["hb"],function(a){function b(a){var b=a.injector;b.val("$window",new c)}function c(){this._hist=[],this._listeners={},this.history=new e(this),this.document=new d(this),this.document.location.href="http://test.com/"}function d(a){this._hist=[],this._dispatcher=a,this.location=new i(a)}function e(a){this._hist=[],this._dispatcher=a}function f(a,b){var c,d,e,f,g,i,j={};for(c=a.split("#"),e=c[1]||"",d=e&&-1!==e.indexOf("?")?e.split("?").pop():"",c=c[0].split(":"),f=c[0]||b.protocol,c=c[1]?c[1].replace("//","").split("/"):[b.domain,b.pathname],g=c.shift().replace("/","");!c[0]&&c.length;)c.shift();return i=("/"+c.join("/")).replace("//","/"),utils.each(d.split("&"),h,j),{domain:g,hash:e,href:a||"",pathname:i,protocol:f,search:d}}function g(a){return a.protocol+"://"+a.domain+a.pathname+(a.hash?"#"+a.hash:"")+(a.search?"?"+a.search:"")}function h(a,b){var c=a.split("");b[c[0]]=c[1]}function i(a){this._hist=[],this._data={},this._dispatcher=a}return c.prototype={addEventListener:function(a,b){this._listeners[a]=this._listeners[a]||[],this._listeners[a].push(b),this._hist.push({method:"addEventListener",evt:a,fn:b})},removeEventListener:function(a,b){if(this._listeners[a]){var c=this._listeners[a].indexOf(b);-1!==c&&this._listeners[a].splice(c,1)}},dispatchEvent:function(a){this._listeners[a]&&utils.each(this._listeners[a],function(b){b(a)})}},d.prototype={},e.prototype={state:{},pushState:function(a,b,c){this._hist.push({method:"pushState",state:a,title:b,url:c}),this.state=a,this.title=b,this.url=c,this._dispatcher.document.location._data.href=c},replaceState:function(a,b,c){this._hist.push({method:"replaceState",state:a,title:b,url:c}),this.state=a,this.title=b,this.url=c,this._dispatcher.document.location._data.href=c}},i.prototype={get href(){return this._data.href},set href(a){this._data=f(a,this._data),this._dispatcher.dispatchEvent("popstate")},get hash(){return this._data.hash},set hash(a){this._data.hash=a,this._data.href=g(this._data),this._dispatcher.dispatchEvent("popstate")},get pathname(){return this._data.pathname}},a.plugins.mocks=function(a){return a.mocks=a.mocks||a.injector.instantiate(b),a.mocks},a.plugins.mocks}),j("hb.plugins.router",["hb","each","parseRoute"],function(a,b,c){function d(d,e,f){function g(a){return"string"==typeof a?h(arguments[1],a):void b.call({all:!0},a,h)}function h(a,b){a.id=b,z[b]=a,a.templateName=a.templateName||b,a.template&&d.val(a.templateName,a.template)}function i(a){delete z[a]}function j(a){return a.split("#").join("")}function k(a,c){a=j(a);var d={},e=[],f={url:c&&a.replace(/(\:\w+)/g,function(a,b){var e=b.substr(1);return d[e]=!0,c[e]})};return c&&(b.call({all:!0},c,l,d,e),e.length&&(f.url=f.url.split("?").shift()+"?"+e.join("&"))),f}function l(a,b,c,d,e){d[b]||e.push(b+"="+a)}function m(a,b){var d,e=j(x.hash);d=o(e),d||(e=v.otherwise,b=!0,d=o(e));var f=c.extractParams(d.url,e);p(d.id,f,b)}function n(a,b){if(b){var c=a.url.replace(/[-[\]{}()*+?.,\\^$|#\s\/]/g,"\\$&"),d=new RegExp("^"+c.replace(/(:\w+)/g,"\\w+")+"$","i");return b.match(d)?a:void 0}}function o(a){var c=b(z,n,a.split("?").shift());return c&&c.url?c:null}function p(a,b,c){var d=z[a],e=k(d.url,b),f=e.url||d.url;if(y.pushState)c||!y.state?y.replaceState({url:f,params:b},"",A+"#"+f):y.state&&y.state.url!==f&&y.pushState({url:f,params:b},"",A+"#"+f);else if(!c){if(x.hash==="#"+f)return;x.hash="#"+f}q(d,b)}function q(a,b){u=x.hash.replace("#",""),v.prev=s=t,v.current=t=a,v.params=b,e.$broadcast(v.events.CHANGE,t,b,s)}function r(){var a=x.hash.replace("#","");a!==u&&(m(null,!0),u=a)}var s,t,u,v=this,w={CHANGE:"router::change"},x=f.document.location,y=f.history,z={},A=x.pathname;a.on(f,"popstate",m),a.on(f,"hashchange",r),setInterval(r,100),v.events=w,v.go=e.go=p,v.resolveUrl=m,v.otherwise="/",v.add=g,v.remove=i,v.states=z,e.$on("module::ready",m)}return a.plugins.router=function(a){var b=a.router=a.router||a.injector.instantiate(d);return a.injector.val("router",b)},a.plugins.router}),i("parseRoute",["each"],function(a){function b(a,b,c,d,e){":"===a[0]&&(d[a.replace(":","")]=e[b])}function c(a,b){var c=a.split("=");b[c[0]]=c[1]}function d(a,b){return b&&(a=a.split("?").shift()),a=a.replace(/^\w+:\/\//,""),a=a.replace(/^\w+:\d+\//,"/"),a=a.replace(/^\w+\.\w+\//,"/")}function e(e,g,h){g=d(g);var i=g.split("?"),j=i[1],k={},l={};return"/"===e[0]&&"/"!==i[0][0]&&(i[0]="/"+i[0]),i=i[0].split("/"),a.call({all:!0},e.split("/"),b,k,i),j&&a(j.split("&"),c,l),h?f({},[k,l]):{params:k,query:l}}function f(a,b){var c,d,e,f=b.length;for(c=0;f>c;c+=1){e=b[c];for(d in e)e.hasOwnProperty(d)&&(a[d]=e[d])}return a}function g(b,c){var f=-1!==b.indexOf("?")?b.split("?").pop().split("&"):[];b.replace(/:(\w+)/g,function(a,b){return f.push(b),a});var g=e(b.split("?").shift(),c,!0),h=!!f.length;if(h&&(a(f,function(a){""===a||g.hasOwnProperty(a)&&void 0!==g[a]||(h=!1)}),!h))return null;var i=b.split("?").shift().replace(/\/:(\w+)/g,function(a,b){return"/"+g[b]}),j=d(c,!0);return j===i}return{extractParams:e,match:g}}),j("hb.service",["hb.val"],function(a){return a});for(var l in d)k(l,d[l])}(this.hb||{},function(){return this}());