!function(a,b){b.hb=a,function(a,b){b.hb=a;var c=function(){function a(a){function b(a,b){for(var c,d,e=Array.prototype.slice.call(arguments,0),f=1,g=e.length;g>f;){c=e[f];for(d in c)c.hasOwnProperty(d)&&(a[d]=b[d]);f+=1}return a}function c(a,b){return a?void(8===a.nodeType?b.removeChild(a):a.childNodes&&p(a.childNodes,c,a)):!0}function d(b,c){if(b){var d=new RegExp(a.bindingMarkup[0]+"(.*?)"+a.bindingMarkup[1],"mg");return b.replace(d,function(a,b){var d=r.exec(c,b.trim(),!0);return"string"==typeof d||"number"==typeof d?d:"object"==typeof d?JSON.stringify(d):""})}return b}function e(b,c){var d=a.findScope(c);q.invoke(b.options.link,d,{scope:d,el:c,alias:b.alias})}function f(b,c){b&&(b.setAttribute(o,c.$id),a.elements[c.$id]=b,b.scope=c)}function g(a){var b,c,d,e,f=a.attributes,g=[{name:a.nodeName.toLowerCase(),value:""}],h=[],i=f.length;for(c=0;i>c;c+=1)b=f[c],g.push({name:b.name,value:a.getAttribute(b.name)});for(i=g.length,c=0;i>c;c+=1)b=g[c],d=b?b.name.split("-").join(""):"",e=q.val(d),e&&h.push({options:q.invoke(e),alias:{name:b.name,value:b.value}});return h}function h(a,c,d,e){var g=a.$new(d);return f(c,g),b(g,e),g}function i(b,c){if(3===b.nodeType){if(-1!==b.nodeValue.indexOf(a.bindingMarkup[0])&&!j(c,b)){var e=b.nodeValue;c.$watch(function(){return d(e,c)},function(a){b.nodeValue=a}),c.$w[0].node=b}}else!b.getAttribute(o)&&b.childNodes.length&&p(b.childNodes,i,c)}function j(a,b){for(var c=0,d=a.$w.length;d>c;){if(a.$w[c].node===b)return!0;c+=1}return!1}function k(a,b){if(a.compiled)throw new Error("This element has already been compiled");a.compiled=!0,p(a.childNodes,c,a);var d=g(a),f=[];if(d&&d.length&&(p(d,n,a,b,f),p(f,e,a)),a){b=a.scope||b;for(var h=0,i=a.children.length;i>h;)a.children[h].compiled||k(a.children[h],b),h+=1;a.getAttribute(o)&&m(a,b)}return a}function m(a,b){p(a.childNodes,i,b)}function n(b,c,d,e){var f=b.options;f.tpl&&(c.innerHTML=tpl),f.tplUrl&&(c.innerHTML=a.val(f.tplUrl)),a.preLink&&a.preLink(c,b),!c.scope&&f.scope&&h(d,c,"object"==typeof b.options.scope,b.options.scope),e.push(b)}var o=a.name+"-id",p=l.each,q=a.injector,r=a.interpolator,s=this;s.link=f,s.compile=k,s.preLink=null}return function(b){return new a(b)}}(),d={};d.app=function(a){a.directive(a.name+"App",function(){return{link:function(){}}}),l.browser.ready(function(){var b=document.querySelector("["+a.name+"-app]");b&&a.bootstrap(b)})},d.autoscroll=function(a){a.directive("hbAutoscroll",function(){function b(a){var b=a.offsetHeight,c=getComputedStyle(a);return b+=parseInt(c.marginTop)+parseInt(c.marginBottom)}var c=l.query,d=window,e=function(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},f=function(a,b,c,d){return c>d?b:a+(b-a)*e(c/d)},g=function(a,b,c,e,g){e=void 0===e?500:e,c=parseInt(c);var h=Date.now(),i=d.requestAnimationFrame||d.mozRequestAnimationFrame||d.webkitRequestAnimationFrame||function(a){d.setTimeout(a,15)},j=function(){var d=Date.now()-h;a.scrollTop=f(b,c,d,e),d>e?"function"==typeof g&&g(a):i(j)};j()};return{link:function(d,e,f){function h(){setTimeout(function(){Date.now();g(e,e.scrollTop,b(k)-b(e),j.duration)},j.delay||10)}var i=e.querySelectorAll("input,textarea"),j=a.interpolate(d,f.value),k=e.querySelector("*");d.$watch(j.watch,h);for(var l in i)c(i[l]).bind("focus",h);d.$on("$destroy",function(){for(var a in i)c(i[a]).unbindAll()})}}})},d.class=function(a){a.directive("hbClass",function(){var b=l.query;return{link:function(c,d,e){var f=b(d);c.$watch(function(){var b=a.interpolate(c,e.value);for(var d in b)b.hasOwnProperty(d)&&(b[d]?f.addClass(d):f.removeClass(d))})}}})},d.cloak=function(a){a.directive("hbCloak",function(){return{link:function(a,b,c){b.removeAttribute(c.name)}}})},d.disabled=function(a){a.directive("hbDisabled",function(){return{link:function(a,b,c){var d="disabled";a.$watch(c.value,function(a){a?b.setAttribute(d,d):b.removeAttribute(d)})}}})},function(){function b(a,b,c){for(var d=0;d<e.length;d++)e[d]||(b=b.toLowerCase()),a.addEventListener(e[d]+b,c,!1)}var c="click mousedown mouseup keydown keyup touchstart touchend touchmove".split(" "),e=["webkit","moz","MS","o",""],f="AnimationStart AnimationEnd".split(" ");d.events=function(d){l.each(f,function(a){d.val(a,function(){return{link:function(c,e,f){function g(a){return"a"===a.target.nodeName.toLowerCase()&&a.preventDefault(),c.$event=a,a.target===e&&(d.interpolate(c,f.value),c.$apply()),!1}b(e,a,g)}}},"event")}),l.each(c,function(b){d.directive("hb"+b.charAt(0).toUpperCase()+b.substr(1),function(){return{link:function(c,e,f){function g(a){return"a"===a.target.nodeName.toLowerCase()&&a.preventDefault(),c.$event=a,d.interpolate(c,f.value),c.$apply(),!1}a.on(e,b,g)}}},"event")})}}(),d.html=function(a){a.directive("hbHtml",function(){return{link:function(a,b,c){a.$watch(c.value,function(a){b.innerHTML=a||""})}}})},d.ignore=function(a){a.directive("hbIgnore",function(){return{scope:!0,link:function(a){a.$ignore(!0)}}})},d.model=function(a){a.directive("hbModel",function(){var a=l.query;return{link:function(b,c,d){function e(){l.parsers.resolve(b,d.value,c.value),b.$apply()}var f=a(c);b.$watch(d.value,function(a){c.value=a}),f.bind("change keyup blur input onpropertychange",e),b.$on("$destroy",function(){f.unbindAll()})}}})},d.repeat=function(a){function b(a,b,c){c[b]=a&&a.trim()}a.directive("hbRepeat",function(){return{link:function(c,d,e){function f(b){console.log("render ",b);for(var e,f,h,j=0,k=Math.max(b.length,d.children.length);k>j;)e=d.children[j],e?b[j]?(f=e.scope,f[i]=b[j],f.$index=j):e.scope.$destroy():(h={},h[i]=b[j],h.$index=j,e=a.addChild(d,g,c.$new(),h)),j+=1}var g=d.children[0].outerHTML;d.removeChild(d.children[0]);var h=e.value;h=l.each.call({all:!0},h.split(/\s+in\s+/),b);var i=h[0],j=h[1];c.$watch(j,f,!0)}}})},d.show=function(a){a.directive("hbShow",function(){return{scope:!0,link:function(a,b,c){a.$watch(c.value,function(c){c?(a.$ignore(!1,!0),b.style.display=null):(a.$ignore(!0,!0),b.style.display="none")})}}})},d.src=function(a){a.directive("hbSrc",function(){return{link:function(a,b,c){var d="src";a.$watch(c.value,function(a){a?b.setAttribute(d,a):b.removeAttribute(d)})}}})},d.view=function(a){a.directive("hbView",function(){return{link:function(b,c,d){function e(b){return c.children.length&&a.removeChild(c.children[0]),a.addChild(c,a.val(b))}b.title="view",d.value&&b.$watch(d.value,e),b.$on("router::change",function(a,c,d,f){var g=e(c.templateName,null,d);g&&(g.scope.$state={current:c,params:d,prev:f}),b.$apply()})}}})};var e={};e.MESSAGES={E1:"Trying to assign multiple scopes to the same dom element is not permitted.",E2:"Unable to find element",E3:"Exceeded max digests of ",E4:"parent element not found in %o",E5:"property is not of type object",E6a:'Error evaluating: "',E6b:'" against %o',E7:"$digest already in progress.",E8:"Name required to instantiate module",E9:"Injection not found for ",E10:"This element has already been compiled"};var f={};f.timeAgo=function(a){a.filter("timeAgo",function(){return function(a){a=new Date(a);var b=" ago",c=l.formatters.toTimeAgo(a),d=c.interval;switch(c.ago){case"d":return d+" days"+b;case"h":return d+" hours"+b;case"m":return d+" mins"+b;case"s":return d+" secs"+b;default:return"just now"}}})};var g=function(){function a(a){var b;return a instanceof Array&&(a=a.concat(),b=a.pop(),b.$inject=a,a=b),a}function b(a,b){function c(){return a.apply(this,b)}return c.prototype=a.prototype,new c}function c(a){var b=a.toString();return b.match(/\(.*\)/)[0].match(/([\$\w])+/gm)}function d(){this.registered={},this.preProcessor=null}var e="string",f="function",g=d.prototype;return g.val=function(a,b){var c,d=a.toLowerCase();return void 0!==b?this.registered[d]=b:this.preProcessor&&(c=this.preProcessor(a,this.registered[d]),void 0!==c&&(this.registered[d]=c)),this.registered[d]},g.invoke=function(b,c,d){return b=a(b),b.apply(c,this.prepareArgs(b,d,c))},g.instantiate=function(c,d){return c=a(c),b(c,this.prepareArgs(c,d))},g.prepareArgs=function(a,b,d){a.$inject||(a.$inject=c(a));var e,f=a.$inject?a.$inject.slice():[],g=f.length;for(e=0;g>e;e+=1)this.getInjection(f[e],e,f,b,d);return f},g.getArgs=c,g.getInjection=function(a,b,c,d,g){var h,i;if(d&&d[a]?h=d[a]:void 0!==(i=this.val(a))&&(h=i),void 0===h)throw new Error("Injection not found for "+a);h instanceof Array&&typeof h[0]===e&&typeof h[h.length-1]===f&&(h=this.invoke(h.concat(),g)),c[b]=h},function(){return new d}}(),h=function(){function a(a){function b(a){i=a}function c(a,b,c,d){d&&d(a,'Error evaluating: "'+c+'" against %o',b)}function d(a,b){var c,d=0,f=[],g=0;for(a=a.replace(/('|").*?\1/g,function(a){var b="*"+d;return f.push(a),d+=1,b}),a=a.replace(/(\.?[a-zA-Z\$\_]+\w?\b)(?!\s?\:)/g,function(a){return"."===a.charAt(0)?a:e(a,b)}),c=f.length;c>g;)a=a.split("*"+g).join(f[g]),g+=1;return a}function e(a,b){a=a.trim();for(var c=[k];b&&void 0===b[a];)b=b.$parent,c.push("$parent");return b&&b[a]?c.join(".")+"."+a:k+"."+a}function f(b,c){if(-1!==b.indexOf("|")&&b.match(/\w+\s?\|\s?\w+/)){b=b.replace("||","~~");var d=b.trim().split("|");d[1]=d[1].replace("~~","||"),m.call({all:!0},d,h),d[1]=d[1].split(":");var e,f=d[1].shift(),g=a.val(f);return g?(e=d[1],m.call({all:!0},e,a.getInjection,c),{filter:function(b){return e.unshift(b),a.invoke(g,c,{alias:f}).apply(c,e)},str:d[0]}):d[0]}return void 0}function g(a,b,e){var g,h,j=Function;return b=l.formatters.stripLineBreaks(b),(b=l.formatters.stripExtraSpaces(b))?(h=f(b,a),h&&(b=h.str),b=d(b,a),e?(g=new j("var result; try { result = "+b+"; } catch(er) { result = er; } finally { return result; }").apply(a),g&&"object"==typeof g&&(g.hasOwnProperty("stack")||g.hasOwnProperty("stacktrace")||g.hasOwnProperty("backtrace"))&&c(g,a,b,i)):g=new j("return "+b).apply(a),(void 0===g||null===g||g+""=="NaN")&&(g=""),h?h.filter(g):g):""}function h(a,b,c){c[b]=a&&a.trim()}var i,j=this,k="this",m=l.each;j.exec=g,j.setErrorHandler=b}return function(b){return new a(b)}}(),i=function(){function b(b){function c(a){return a?a.scope?a.scope:c(a.parentNode):null}function e(a){a&&(this.element(a),this.ready())}function g(a,b,d,e){if(b){if(a!==t&&t.contains&&!t.contains(a))throw new Error("parent element not found in %o",t);a.insertAdjacentHTML("beforeend",l.formatters.stripHTMLComments(b));var f=d||c(a),g=a.children[a.children.length-1];return h(g,d||f,!!d,e)}}function h(a,b,c,d){var e,f=c&&b||b.$new();if(d)for(e in d)d.hasOwnProperty(e)&&void 0!==!f[e]&&(f[e]=d[e]);return y.link(a,f),z(a,b),a}function i(a){var c;a.scope?a.scope.$destroy():(c=a.querySelectorAll(b+"-id"),l.each(c,i)),a.remove()}function k(a){return"undefined"!=typeof a&&(t=a,y.link(t,u),z(t,u)),t}function m(a,b){return void 0===b?B(a):(b.isClass=!0,B(a,b))}function n(a,b){var c,d=b.split(" ");for(var e in d)c=d[e],a.hasOwnProperty(c)&&a[c](this)}function o(a){n.apply(s,[d,a])}function p(a){n.apply(s,[j,a])}function q(a){n.apply(s,[f,a])}function r(){for(;v.length;)w.invoke(v.shift(),s);u.$apply(),u.$broadcast("module::ready")}var s=this;s.name=b;var t,u=a.scope(),v=[],w=this.injector=a.injector(),x=this.interpolator=a.interpolator(w),y=a.compiler(s),z=y.compile,A=x.exec,B=w.val.bind(w);w.preProcessor=function(a,b){return b&&b.isClass?w.instantiate(b):void 0},B("$rootScope",u),u.interpolate=function(a,b,c){return"function"==typeof b?b(a,c):A(a,b)},s.bindingMarkup=[":=","=:"],s.elements={},s.bootstrap=e,s.findScope=c,s.addChild=g,s.removeChild=i,s.compile=h,s.interpolate=A,s.element=k,s.val=B,s.directive=B,s.filter=B,s.factory=B,s.service=m,s.template=B,s.useDirectives=o,s.usePlugins=p,s.useFilters=q,s.ready=r}var c={};return function(d,e){if(!d)throw a.errors.MESSAGES.E8;var f=c[d]=!e&&c[d]||new b(d);return f.injector.val("module")||(f.injector.val("module",f),f.injector.val("$window",window)),f}}();!function(a){function b(a,b,c){a.attachEvent?a.attachEvent(d+b,a[b+c]):a.addEventListener(b,c,!1)}function c(a,b,c){a.detachEvent?a.detachEvent(d+b,a[b+c]):a.removeEventListener(b,c,!1)}var d="on";a.on=b,a.off=c}(a);var j={};j.http=function(a){return a.injector.val("http",l.ajax.http)},function(){function a(a){var c=a.injector;c.val("$window",new b)}function b(){this._hist=[],this._listeners={},this.history=new d(this),this.document=new c(this),this.document.location.href="http://test.com/"}function c(a){this._hist=[],this._dispatcher=a,this.location=new h(a)}function d(a){this._hist=[],this._dispatcher=a}function e(a,b){var c,d,e,f,h,i,j={};for(c=a.split("#"),e=c[1]||"",d=e&&-1!==e.indexOf("?")?e.split("?").pop():"",c=c[0].split(":"),f=c[0]||b.protocol,c=c[1]?c[1].replace("//","").split("/"):[b.domain,b.pathname],h=c.shift().replace("/","");!c[0]&&c.length;)c.shift();return i=("/"+c.join("/")).replace("//","/"),l.each(d.split("&"),g,j),{domain:h,hash:e,href:a||"",pathname:i,protocol:f,search:d}}function f(a){return a.protocol+"://"+a.domain+a.pathname+(a.hash?"#"+a.hash:"")+(a.search?"?"+a.search:"")}function g(a,b){var c=a.split("");b[c[0]]=c[1]}function h(a){this._hist=[],this._data={},this._dispatcher=a}b.prototype={addEventListener:function(a,b){this._listeners[a]=this._listeners[a]||[],this._listeners[a].push(b),this._hist.push({method:"addEventListener",evt:a,fn:b})},removeEventListener:function(a,b){if(this._listeners[a]){var c=this._listeners[a].indexOf(b);-1!==c&&this._listeners[a].splice(c,1)}},dispatchEvent:function(a){this._listeners[a]&&l.each(this._listeners[a],function(b){b(a)})}},c.prototype={},d.prototype={state:{},pushState:function(a,b,c){this._hist.push({method:"pushState",state:a,title:b,url:c}),this.state=a,this.title=b,this.url=c,this._dispatcher.document.location._data.href=c},replaceState:function(a,b,c){this._hist.push({method:"replaceState",state:a,title:b,url:c}),this.state=a,this.title=b,this.url=c,this._dispatcher.document.location._data.href=c}},h.prototype={get href(){return this._data.href},set href(a){this._data=e(a,this._data),this._dispatcher.dispatchEvent("popstate")},get hash(){return this._data.hash},set hash(a){this._data.hash=a,this._data.href=f(this._data),this._dispatcher.dispatchEvent("popstate")},get pathname(){return this._data.pathname}},j.mocks=function(b){return b.mocks=b.mocks||b.injector.instantiate(a)}}(),function(){function b(b,c,d){function e(a){return"string"==typeof a?f(arguments[1],a):void l.each.call({all:!0},a,f)}function f(a,c){a.id=c,B[c]=a,a.templateName=a.templateName||c,a.template&&b.val(a.templateName,a.template)}function g(a){delete B[a]}function h(a){return a.split("#").join("")}function i(a,b){a=h(a);var c={},d=[],e={url:b&&a.replace(/(\:\w+)/g,function(a,d){var e=d.substr(1);return c[e]=!0,b[e]})};return b&&(l.each.call({all:!0},b,j,c,d),d.length&&(e.url=e.url.split("?").shift()+"?"+d.join("&"))),e}function j(a,b,c,d,e){d[b]||e.push(b+"="+a)}function k(a,b){var c,d=h(z.hash);c=q(d),c||(d=x.otherwise,b=!0,c=q(d));var e=o(c,d);r(c.id,e,b)}function m(a,b,c,d,e){":"===a[0]&&(d[a.replace(":","")]=e[b])}function n(a,b){var c=a.split("=");b[c[0]]=c[1]}function o(a,b){var c=b.split("?"),d=c[1],e={};return c=c[0].split("/"),l.each.call({all:!0},a.url.split("/"),m,e,c),d&&l.each(d.split("&"),n,e),e}function p(a,b){if(b){var c=a.url.replace(/[-[\]{}()*+?.,\\^$|#\s\/]/g,"\\$&"),d=new RegExp("^"+c.replace(/(:\w+)/g,"\\w+")+"$","i");return b.match(d)?a:void 0}}function q(a){var b=l.each(B,p,a.split("?").shift());return b&&b.url?b:null}function r(a,b,c){var d=B[a],e=i(d.url,b),f=e.url||d.url;if(A.pushState)c||!A.state?A.replaceState({url:f,params:b},"",C+"#"+f):A.state&&A.state.url!==f&&A.pushState({url:f,params:b},"",C+"#"+f);else if(!c){if(z.hash==="#"+f)return;z.hash="#"+f}s(d,b)}function s(a,b){w=z.hash.replace("#",""),x.prev=u=v,x.current=v=a,x.params=b,c.$broadcast(x.events.CHANGE,v,b,u)}function t(){var a=z.hash.replace("#","");a!==w&&(k(null,!0),w=a)}var u,v,w,x=this,y={CHANGE:"router::change"},z=d.document.location,A=d.history,B={},C=z.pathname;a.on(d,"popstate",k),a.on(d,"hashchange",t),setInterval(t,100),x.events=y,x.go=c.go=r,x.resolveUrl=k,x.otherwise="/",x.add=e,x.remove=g,x.states=B,c.$on("module::ready",k)}j.router=function(a){var c=a.router=a.router||a.injector.instantiate(b);return a.injector.val("router",c)}}();var k=function(){function a(a){return Array[f].slice.call(a,0)||[]}function b(a,b){for(var c=!0,d=0,e=a.length;e>d;)b(a[d])||(c=!1),d+=1;return c}function c(){return(i++).toString(36)}function d(){}function e(){var a=this;a.$id=c(),a.$w=[],a.$lw=null,a.$aQ=[],a.$pQ=[],a.$r=a,a.$c=[],a.$l={},a.$ph=null}var f="prototype",g="error",h=console,i=1,j=e.prototype;return j.$watch=function(a,b,c){var e,f=this;e="string"==typeof a?function(){return f.interpolate(f,a)}:a;var g={watchFn:e,listenerFn:b||function(){},deep:!!c,last:d};return f.$w.unshift(g),f.$r.$lw=null,f.$lw=null,function(){var a=f.$w.indexOf(g);a>=0&&(f.$w.splice(a,1),f.$r.$lw=null)}},j.$$digestOnce=function(){var a=!1,b=!0,c=this;return c.$$scopes(function(c){if(c.$$ignore)return!0;for(var e,f,g,h=c.$w.length;h--;)if(g=c.$w[h])if(e=g.watchFn(c),f=g.last,c.$$areEqual(e,f,g.deep)){if(c.$r.$lw===g)return b=!1,!1}else c.$r.$lw=g,g.last=g.deep?JSON.stringify(e):e,g.listenerFn(e,f===d?e:f,c),a=!0;return b}),a},j.$digest=function(){var a,b=10,c=this;c.$r.$lw=null,c.$beginPhase("$digest");do{for(;c.$aQ.length;)try{var d=c.$aQ.shift();d.scope.$eval(d.exp)}catch(e){h[g](e)}if(a=c.$$digestOnce(),(a||c.$aQ.length)&&!b--)throw c.$clearPhase(),"10its"}while(a||c.$aQ.length);for(;c.$pQ.length;)try{c.$pQ.shift()()}catch(e){h[g](e)}c.$clearPhase()},j.$$areEqual=function(a,b,c){return c?JSON.stringify(a)===b:a===b||"number"==typeof a&&"number"==typeof b&&isNaN(a)&&isNaN(b)},j.$eval=function(a,b){return this.interpolate(this,a,b)},j.$apply=function(a){var b=this;try{if(b.$beginPhase("$apply"),a)return b.$eval(a)}finally{b.$clearPhase(),b.$r.$digest()}},j.$evalAsync=function(a){var b=this;b.$ph||b.$aQ.length||setTimeout(function(){b.$aQ.length&&b.$r.$digest()},0),b.$aQ.push({scope:b,exp:a})},j.$beginPhase=function(a){var b=this;b.$ph||(b.$ph=a)},j.$clearPhase=function(){this.$ph=null},j.$$postDigest=function(a){this.$pQ.push(a)},j.$new=function(a){var b,d=this;if(a)b=new e,b.$r=d.$r,b.$aQ=d.$aQ,b.$pQ=d.$pQ;else{var f=function(){};f.prototype=d,b=new f}return d.$c.push(b),b.$id=c(),b.$w=[],b.$l={},b.$c=[],b.$p=d,b},j.$ignore=function(a,c){var d=this;b(d.$c,function(b){b.$$ignore=a}),c||(d.$$ignore=a)},j.$$scopes=function(a){var c=this;return a(c)?b(c.$c,function(b){return b.$$scopes(a)}):!1},j.$destroy=function(){var a=this;if(a!==a.$r){var b=a.$p.$c,c=b.indexOf(a);c>=0&&(a.$broadcast("$destroy"),b.splice(c,1))}},j.$on=function(a,b){var c=this,d=c.$l[a];return d||(c.$l[a]=d=[]),d.push(b),function(){var a=d.indexOf(b);a>=0&&(d[a]=null)}},j.$emit=function(b){var c=this;if(!c.$$ignore||"$destroy"===c.eventName){var d=!1,e={name:b,targetScope:c,stopPropagation:function(){d=!0},preventDefault:function(){e.defaultPrevented=!0}},f=a(arguments);f.shift();var g=[e].concat(f),h=c;do e.currentScope=h,h.$$fire(b,g),h=h.$p;while(h&&!d);return e}},j.$broadcast=function(b){var c=this;if(!c.$$ignore||"$destroy"===c.eventName){var d={name:b,targetScope:c,preventDefault:function(){d.defaultPrevented=!0}},e=a(arguments);e.shift();var f=[d].concat(e);return c.$$scopes(function(a){return d.currentScope=a,a.$$fire(b,f),!0}),d}},j.$$fire=function(a,b){for(var c=this.$l[a]||[],d=0;d<c.length;)null===c[d]?c.splice(d,1):(c[d].apply(null,b),d++);return event},function(){return new e}}(),l={};l.ajax={},l.ajax.http=function(){function a(a){this.init(a)}function b(a){var b=c(this.getAllResponseHeaders()),d=this.responseText;return b.contentType&&-1!==b.contentType.indexOf("application/json")&&(d=d?JSON.parse(d):d),{data:d,request:{method:a.method,url:a.url,data:a.data,headers:a.headers},headers:b,status:this.status}}function c(a){for(var b,c=a.split("\n"),d={},e=0,f=c.length;f>e;)b=c[e].split(": "),b[0]&&b[1]&&(b[0]=b[0].split("-").join("").split(""),b[0][0]=b[0][0].toLowerCase(),d[b[0].join("")]=b[1]),e+=1;return d}function d(a,b){for(var c in b)b.hasOwnProperty(c)&&void 0===a[c]&&("object"==typeof b[c]?(a[c]={},d(a[c],b[c])):a[c]=b[c]);return a}function e(b){return!(!l.mocker||!l.mocker.handle(b,a))}var f,g=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},h=window,i=function(){var a;return h.XMLHttpRequest&&"withCredentials"in new h.XMLHttpRequest?a=h.XMLHttpRequest:h.XDomainRequest&&(a=h.XDomainRequest),a}(),j=["head","get","post","put","delete"],k=j.length,l={};for(a.prototype.init=function(a){var b=this;return b.xhr=new i,b.method=a.method,b.url=a.url,b.success=a.success,b.error=a.error,b.data=a.data,b.headers=a.headers,a.credentials===!0&&(b.xhr.withCredentials=!0),b.send(),b},a.prototype.send=function(){var a=this;if("GET"===a.method&&a.data){var c=a.url.indexOf("?")>-1?"&":"?";a.url+=c+g(a.data)}else a.data=JSON.stringify(a.data);return void 0!==a.success&&(a.xhr.onload=function(){var c=b.call(this,a);this.status>=200&&this.status<300?a.success.call(this,c):void 0!==a.error&&a.error.call(this,c)}),void 0!==a.error&&(a.xhr.error=function(){var c=b.call(this,a);a.error.call(this,c)}),a.xhr.open(a.method,a.url,!0),void 0!==a.headers&&a.setHeaders(),a.xhr.send(a.data,!0),a},a.prototype.setHeaders=function(){var a,b=this,c=b.headers;for(a in c)c.hasOwnProperty(a)&&b.xhr.setRequestHeader(a,c[a]);return b},f=0;k>f;f+=1)!function(){var b=j[f];l[b]=function(c,e,f){var g={};if(void 0===c)throw new Error("CORS: url must be defined");return"object"==typeof c?g=c:("function"==typeof e&&(g.success=e),"function"==typeof f&&(g.error=f),g.url=c),g.method=b.toUpperCase(),d(g,l.defaults),l.handleMock(g)?void 0:new a(g).xhr}}();return l.mocker=null,l.handleMock=e,l.defaults={headers:{}},l}(),l.browser={},function(){var a=/iPhone/i,b=/iPod/i,c=/iPad/i,d=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,e=/Android/i,f=/IEMobile/i,g=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,h=/BlackBerry/i,i=/Opera Mini/i,j=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,k=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),m=function(a,b){return a.test(b)},n=function(l){var n=l||navigator.userAgent;return this.apple={phone:m(a,n),ipod:m(b,n),tablet:m(c,n),device:m(a,n)||m(b,n)||m(c,n)},this.android={phone:m(d,n),tablet:!m(d,n)&&m(e,n),device:m(d,n)||m(e,n)},this.windows={phone:m(f,n),tablet:m(g,n),device:m(f,n)||m(g,n)},this.other={blackberry:m(h,n),opera:m(i,n),firefox:m(j,n),device:m(h,n)||m(i,n)||m(j,n)},this.seven_inch=m(k,n),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window?this:void 0},o=function(){var a=new n;return a.Class=n,a};l.browser.isMobile=o()}(this),function(){function a(){for(var a=0,c=b.length;c>a;)b[a](),a+=1;b.length=0}var b=[],c=window,d=document,e="addEventListener",f="removeEventListener",g="attachEvent",h="detachEvent",i="DOMContentLoaded",j="onreadystatechange",k="complete",m="readyState";l.browser.ready=function(a){b.push(a)};var n;d[e]?n=function(){d[f](i,n,!1),a()}:d.attachEvent&&(n=function(){d[m]===k&&(d[h](j,n),a())}),d[m]===k&&setTimeout(a,1),d[e]?(d[e](i,n,!1),c[e]("load",a,!1)):d[g]&&(d[g](j,n),c[g]("onload",a))}(),l.data={},l.data.array={},l.data.array.sort=function(){function a(a,c,d,e){var f,g=a[d-1],h=c,i=0;for(f=c;d-1>f;f+=1)i=e(a[f],g),0>i&&(f!==h&&b(a,f,h),h+=1);return e(a[h],g)&&b(a,h,d-1),h}function b(a,b,c){var d=a[b];return a[b]=a[c],a[c]=d,a}function c(b,d,e,f){if(e>d){var g=a(b,d,e,f);c(b,d,g,f),c(b,g+1,e,f)}return b}return function(a,b){var d=c(a,0,a.length,b);return d}}(),l.data.diff=function(a,b){var c,d={};for(var e in b)if(e in a)if(l.validators.isDate(b[e]))c=l.validators.isDate(a[e])?a[e].toISOString():a[e],b[e].toISOString()!==c&&(d[e]=b[e]);else if(l.validators.isObject(b[e])&&!l.validators.isArray(b[e])){var f=l.data.diff(a[e],b[e]);l.validators.isEmpty(f)||(d[e]=f)}else l.validators.isEqual(a[e],b[e])||(d[e]=b[e]);else d[e]=b[e];return l.validators.isEmpty(d)?null:d},function(){function a(a,b,c,d,e,f,g){var h=g?[c,d,e]:[c];return b.apply(a,h.concat(f))}l.each=function(b,c){var d,e,f,g=0;if(arguments.length>2&&(f=Array.prototype.slice.apply(arguments),f.splice(0,2)),b&&b.length&&b.hasOwnProperty(0))for(d=b.length;d>g;){if(e=a(this.scope,c,b[g],g,b,f,this.all),void 0!==e)return e;g+=1}else if(!(b instanceof Array)&&void 0===b.length)for(g in b)if(b.hasOwnProperty(g)&&(!this.omit||!this.omit[g])&&(e=a(this.scope,c,b[g],g,b,f,this.all),void 0!==e))return e;return b}}(),l.formatters={},l.formatters.stripExtraSpaces=function(a){return a+="",a.replace(/(\r\n|\n|\r)/gm,"")},l.formatters.stripHTMLComments=function(a){return a+="",a.replace(/<!--[\s\S]*?-->/g,"")},l.formatters.stripLineBreaks=function(a){return a+="",a.replace(/\s+/g," ")},l.formatters.toTimeAgo=function(a){var b,c;return c=Math.floor((new Date-a)/1e3),b=Math.floor(c/31536e3),b>=1?{interval:b,ago:"y"}:(b=Math.floor(c/2592e3),b>=1?{interval:b,ago:"mo"}:(b=Math.floor(c/86400),b>=1?{interval:b,ago:"d"}:(b=Math.floor(c/3600),b>=1?{interval:b,ago:"h"}:(b=Math.floor(c/60),b>=1?{interval:b,ago:"m"}:(b=0>c?0:Math.floor(c),10>=b?{interval:b,ago:""}:{interval:b,ago:"s"})))))},l.parsers={},l.parsers.htmlify=function(){function a(a){var d,e,f=[];a=c(a);var g=0;for(g=0;4>g;g++)a=a.replace(/(\S+\.\S+)/,"<"+g+">"),f[g]=RegExp.$1;for(d=g,g=0;d>g;g++)f[g].search(/\d\.\d/)>-1||f[g].length<5?a=a.replace("<"+g+">",f[g]):(e=b(f[g]),a=a.replace("<"+g+">",e));return a=a.replace(/\n/g,"<br/>"),a=a.replace(/\ \ /g," &nbsp;"),a=a.replace(/"/g,"&quot;"),a=a.replace(/\$/g,"&#36;")}function b(a){a=d(a);var b,e,f,g,h,i,j,k=0;for(b=a.length-1,k=0;b>k&&(e=a.substr(k,1),!(e.search(/\w/)>-1));k++);for(f=a.substring(0,k),f=c(f),a=a.substr(k),k=b;k>0&&(e=a.substr(k,1),!(e.search(/\w|_|-|\//)>-1));k--);return g=a.substring(k+1),g=c(g),h=a.substring(0,k+1),h.search(/@/)>0?(i='<a href="mailto:'+h+'">'+h+"</a>",f+i+g):(j="",h.search(/\w+:\/\//)<0&&(j="http://"),i='<a href="'+j+h+'">'+h+"</a>",f+i+g)}function c(a){return a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;")}function d(a){return a=a.replace(/&lt;/g,"<"),a=a.replace(/&gt;/g,">"),a=a.replace(/&amp;/g,"&")}return a}(),l.parsers.resolve=function(a,b,c){b=b||"";for(var d,e=b.match(/(\w|\$)+/g),f="undefined"==typeof c;e.length>1;)switch(d=e.shift(),typeof a[d]){case"object":a=a[d];break;case"undefined":if(f)return;a=a[d]={};break;default:throw new Error("property is not of type object",d)}return"undefined"==typeof c?a[e.shift()]:(a[e.shift()]=c,c)},function(){function a(a,b){this.init(a,b)}var b=a.prototype=Object.create(Array.prototype);b.version="0.1.2",b.selector="",b.init=function(a,b){"string"==typeof a?"<"===a.substr(0,1)&&">"===a.substr(a.length-1,1)?this.parseHTML(a):this.parseSelector(a,b):a instanceof Array?this.parseArray(a):a instanceof Element&&this.parseElement(a)},b.parseHTML=function(a){var b=document.createElement("div");b.innerHTML=a,this.length=0,this.parseArray(b.children)},b.parseSelector=function(b,c){var d,e,f;for(this.selector=b,this.context=c instanceof Element?c:c instanceof a?c[0]:document,e=this.context.querySelectorAll(b),f=e.length,d=0,this.length=0;f>d;)this.push(e[d]),d+=1},b.parseArray=function(a){var b=0,c=a.length;for(this.length=0;c>b;)a[b]instanceof Element&&this.push(a[b]),b+=1},b.parseElement=function(a){this.length=0,this.push(a)},b.toString=function(){return this.length?this[0].outerHTML:void 0},b.each=function(a){for(var b,c=0,d=this.length;d>c&&(b=a.apply(this[c],[c,this[c]]),b!==!1);)c+=1;return this},l.query=function(c,d){for(var e in l.query.fn)l.query.fn.hasOwnProperty(e)&&(b[e]=l.query.fn[e],delete l.query.fn[e]);return new a(c,d)},l.query.fn={}}(),l.query.fn.bind=l.query.fn.on=function(a,b){a=a.match(/\w+/gim);for(var c,d=0,e=a.length;e>d;)c=a[d],this.each(function(a,d){d.attachEvent?(d["e"+c+b]=b,d[c+b]=function(){d["e"+c+b](window.event)},d.attachEvent("on"+c,d[c+b])):d.addEventListener(c,b,!1),d.eventHolder||(d.eventHolder=[]),d.eventHolder[d.eventHolder.length]=[c,b]}),d+=1;return this},l.query.fn.unbind=l.query.fn.off=function(a,b){if(1===arguments.length)this.unbindAll(a);else{a=a.match(/\w+/gim);for(var c,d=0,e=a.length;e>d;)c=a[d],this.each(function(a,d){d.detachEvent?(d.detachEvent("on"+c,d[c+b]),d[c+b]=null):d.removeEventListener(c,b,!1)}),d+=1}return this},l.query.fn.unbindAll=function(a){return this.each(function(b,c){if(c.eventHolder)for(var d,e=0,f=0;f<c.eventHolder.length;f++)a&&c.eventHolder[f][0]!==a||(a=c.eventHolder[f][0],d=c.eventHolder[f][1],c.detachEvent?(c.detachEvent("on"+a,c[a+d]),c[a+d]=null):c.removeEventListener(a,d,!1),c.eventHolder.splice(f,1),e+=1,f-=1)}),this},l.query.fn.addClass=function(a){var b=this;return this.each(function(c,d){b.hasClass(d,a)||(d.className+=" "+a)}),this},l.query.fn.hasClass=function(a,b){return a.classList?a.classList.contains(b):new RegExp("(^| )"+b+"( |$)","gi").test(a.className)},l.query.fn.removeClass=function(a){var b=this;return this.each(function(c,d){if(l.validators.isDefined(a)){var e=" "+d.className.replace(/[\t\r\n]/g," ")+" ";if(b.hasClass(d,a)){for(;e.indexOf(" "+a+" ")>=0;)e=e.replace(" "+a+" "," ");d.className=e.replace(/^\s+|\s+$/g,"")}}else d.className=""}),this},l.query.fn.css=function(a,b){var c,d;if(this.length){if(c=this[0],arguments.length>1&&this.each(function(c,d){d.style[a]=b}),a instanceof Array){var e=0,f=a.length;if(d={},c.currentStyle)for(;f>e;)d[a[e]]=c.currentStyle[a[e]],e+=1;else if(window.getComputedStyle)for(;f>e;)d[a[e]]=document.defaultView.getComputedStyle(c,null).getPropertyValue(a[e]),e+=1}else c.currentStyle?d=c.currentStyle[a]:window.getComputedStyle&&(d=document.defaultView.getComputedStyle(c,null).getPropertyValue(a));return d}return null},l.validators={},l.validators.isArray=function(a){return a?!!a.isArray:!1},l.validators.isDate=function(a){return a instanceof Date},l.validators.isDefined=function(a){return"undefined"!=typeof a},l.validators.isEmpty=function(a){if(null===a)return!0;if(l.validators.isString(a))return""===a;if(l.validators.isArray(a))return 0===a.length;if(l.validators.isObject(a)){for(var b in a)return!1;return!0}return!1},l.validators.isEqual=function(a,b,c){var d,e,f,g,h,i,j;if("string"==typeof a||"number"==typeof a||"boolean"==typeof a)return a===b;if(d=Object.keys(a),e=Object.keys(b),f=d.length,g=e.length,f!==g)return console.log("different keys ",f-g),!1;if(c)for(h=0;f>h;h+=1)if(i=a[d[h]],j=a[e[h]],"object"==typeof i&&j&&!l.validators.isEqual(a[d[h]],b[d[h]],c))return!1;return!0},l.validators.isObject=function(a){return null!==a&&"object"==typeof a},l.validators.isString=function(a){return"string"==typeof a},a.compiler=c,a.directives=d,a.errors=e,a.filters=f,a.injector=g,a.interpolator=h,a.module=i,a.plugins=j,a.scope=k,a.utils=l}({},function(){return this}())}({},function(){return this}());