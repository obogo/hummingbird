<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>JSONP</title>
    <script src="hb.js"></script>
    <script>

        //enables mock handling
        hb.utils.ajax.http.mocker = hb.utils.ajax.mock;

        hb.utils.ajax.mock.create(/data\.json/, function(next, options) {
            console.log("%c" + options.url + ' pre', "color:green");
            options.data = {
                mocks: 'awesome'
            };
            next();
        }, function(next, options) {
            console.log("%c" + options.url + ' post', "color:green;");
            next();
        });

        hb.utils.ajax.mock.create(/jsfiddle/, function(next, options) {
            console.log("%c" + options.url + ' pre', "color:green;");
            options.data = {
                mocks: 'awesome'
            };
            next();
        }, function(next, options) {
            console.log("%c" + options.url + ' post', "color:green;");
            next();
        });



        hb.utils.ajax.http.get(
                "data.json",
                function (data) {
                    console.info("success", data);
                },
                function () {
                    console.warn("error");
                });
//TODO: not working yet.
        hb.utils.ajax.http.jsonp(
                "http://jsfiddle.net/echo/jsonp/",
                function (data) {
                    console.info("success", data);
                },
                function () {
                    console.warn("error");
                });
    </script>
</head>
<body>

</body>
</html>