!function(a,b){b.hb=a;var c=a.$$||function(a){return c[a]||(c[a]={}),c[a]},d=c("c"),e=c("i"),f=c("p");a.$$=c;var g=function(a){return Array.prototype.slice.call(a)},h=function(a){var b=g(arguments),c=b[1];"function"==typeof c?this.c[a]=c():(d[a]=b[2],d[a].$inject=c,d[a].$internal=this.i)},i=function(){h.apply({i:!1,c:a},g(arguments))},j=function(){h.apply({i:!0,c:e},g(arguments))},k=function(b,c){f[b]=!0;var g,h=c.$inject,i=[];for(var j in h)if(h.hasOwnProperty(j)&&(g=h[j],d[g])){if(f.hasOwnProperty(g))throw new Error('Cyclical reference: "'+b+'" referencing "'+g+'"');k(g,d[g]),delete d[g]}if(!a[b]&&!e[b]){for(var l in h)g=h[l],i.push(a.hasOwnProperty(g)&&a[g]||e.hasOwnProperty(g)&&e[g]);c.$internal?e[b]=c.apply(null,i)||b:a[b]=c.apply(null,i)||b}Object.defineProperty(a,"$$",{enumerable:!1,writable:!1}),delete f[b]};i("extend",["isWindow","apply","toArray","isArray","isDate","isRegExp"],function(a,b,c,d,e,f){var g=function(h,i){if(a(i))throw Error("Can't extend! Making copies of Window instances is not supported.");if(i===h)return h;var j,k,l,m=c(arguments),n=1,o=m.length,p=this||{};for(!h&&i&&"object"==typeof i&&(h={});o>n;){j=m[n];for(k in j)j.hasOwnProperty(k)&&(e(j[k])?h[k]=new Date(j[k].getTime()):f(j[k])?h[k]=new RegExp(j[k]):"length"===k&&h instanceof Array||(h[k]&&"object"==typeof h[k]&&!j[k]instanceof Array?h[k]=b(g,p,[h[k],j[k]]):d(j[k])?(l=p&&p.concat?(h[k]||[]).concat(j[k]):j[k],p&&p.arrayAsObject?(h[k]||(h[k]={length:l.length}),h[k]instanceof Array&&(h[k]=b(g,p,[{},h[k]]))):h[k]=h[k]||[],l.length&&(h[k]=b(g,p,[h[k],l]))):j[k]&&"object"==typeof j[k]?(p.objectAsArray&&"number"==typeof j[k].length&&(h[k]instanceof Array||(h[k]=b(g,p,[[],h[k]]))),h[k]=b(g,p,[h[k]||{},j[k]])):(p.override!==!1||void 0===h[k])&&(h[k]=j[k])));n+=1}return h};return g}),j("asyncRender",["dispatcher","hb.eventStash"],function(a,b){function c(){this.down=e,this.up=d,this.direction=e,this.index=0,this.len=0,this.maxLen=0,this.size=0,this.complete=!1,this.atChunkEnd=!1,a(this)}var d="up",e="down";b.ASYNC_RENDER_CHUNK_END="async::chunk_end",b.ASYNC_RENDER_COMPLETE="async::complete";var f=c.prototype;return f.setup=function(a,b,c){this.direction=a,this.size=b,this.len=0,this.maxLen=c,this.atChunkEnd=!1,this.complete=!1,this.index=a===e?0:c-1},f.inc=function(){this.complete||this.atChunkEnd||(this.direction===e?this.index<this.len?(this.index+=1,this.index===this.len&&this.finishChunk()):this.finishChunk():(this.index>this.maxLen-this.len-1&&(this.index-=1),this.index<=this.maxLen-this.len-1&&this.finishChunk()))},f.finishChunk=function(){this.complete||this.atChunkEnd||(this.atChunkEnd=!0,-1!==this.index&&this.index!==this.maxLen||this.len!==this.maxLen||this.finish(),this.dispatch(b.ASYNC_RENDER_CHUNK_END))},f.next=function(){if(this.complete)return this.dispatch(b.ASYNC_RENDER_COMPLETE),this.direction=e,!1;var a=Math.min(this.size,this.maxLen);return a?(this.len+a>this.maxLen&&(a=this.maxLen-this.len),this.direction===d&&(this.index=this.maxLen-this.len-1),this.len+=a,this.atChunkEnd=!1,!0):!1},f.finish=function(){this.complete=!0},{create:function(){return new c}}}),i("dispatcher",["apply"],function(a){function b(a){this.type=a,this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1}function c(a){if(!a)throw Error("event cannot be undefined")}b.prototype.preventDefault=function(){this.defaultPrevented=!0},b.prototype.stopPropagation=function(){this.propagationStopped=!0},b.prototype.stopImmediatePropagation=function(){this.immediatePropagationStopped=!0},b.prototype.toString=function(){return this.type};var d=function(d,e,f){function g(a,b){c(a);var d,e;e=n[a],e&&(b?(d=e.indexOf(b),-1!==d&&e.splice(d,1)):e.length=0)}function h(a,b){return c(a),n[a]=n[a]||[],n[a].push(b),function(){g(a,b)}}function i(b,c){function f(){g(b,f),a(c,e||d,arguments)}return h(b,f)}function j(a,b){c(a);var d,e="*";return a||b?(d=[],n[e]&&(d=n[e].concat(d)),n[a]&&(d=n[a].concat(d)),d):n}function k(){n={}}function l(b,c){return b&&a(b,d,c)}function m(a){c(a);var d,e=j(a,!0),f=e.length,a="object"==typeof a?a:new b(a);if(f)for(arguments[0]=a,d=0;f>d;d+=1)a.immediatePropagationStopped||l(e[d],arguments);return a}if(d&&d.on&&d.on.dispatcher)return d;d=d||{};var n={};return e&&f?(d.on=e[f.on]&&e[f.on].bind(e),d.off=e[f.off]&&e[f.off].bind(e),d.once=e[f.once]&&e[f.once].bind(e),d.dispatch=d.fire=e[f.dispatch].bind(e)):(d.on=h,d.off=g,d.once=i,d.dispatch=d.fire=m),d.getListeners=j,d.removeAllListeners=k,d};return d}),i("apply",function(){return function(a,b,c){switch(c=c||[],c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2]);case 4:return a.call(b,c[0],c[1],c[2],c[3]);case 5:return a.call(b,c[0],c[1],c[2],c[3],c[4]);case 6:return a.call(b,c[0],c[1],c[2],c[3],c[4],c[5])}return a.apply(b,c)}}),i("indexOfMatch",["isMatch"],function(a){function b(b,c){for(var d=0,e=b.length;e>d;d+=1)if(a(b[d],c))return d;return-1}return b}),i("isMatch",["isRegExp","isDate"],function(a,b){function c(e,f){var g;if(e===f)return!0;if("object"==typeof f){if(g=typeof e,-1!==d.indexOf(g)){if(a(f)&&!f.test(e+""))return!1;if(b(f))return b(e)&&f.getTime()===e.getTime()?!0:!1}if(e instanceof Array&&void 0!==f[0]){for(var h=0;h<e.length;h+=1)if(c(e[h],f[0]))return!0;return!1}for(var i in f)if(f.hasOwnProperty(i)){if(!e.hasOwnProperty(i))return!1;if(!c(e[i],f[i]))return!1}return!0}return"function"==typeof f?!!f(e):!1}var d=["string","number","boolean"];return c}),i("isRegExp",function(){var a=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)};return a}),i("isDate",function(){var a=function(a){return a instanceof Date};return a}),i("matchAllOthers",["isMatch"],function(a){function b(b,c){for(var d=[],e=0,f=b.length;f>e;e+=1)a(b[e],c)||d.push(b[e]);return d}return b}),i("matchAll",["isMatch"],function(a){function b(b,c){for(var d=[],e=0;e<b.length;e+=1)a(b[e],c)&&d.push(b[e]);return d}return b}),i("matchIndexOf",["isMatch"],function(a){function b(b,c){for(var d=0,e=b.length;e>d;d+=1)if(a(b[d],c))return d;return-1}return b}),i("sort",function(){function a(a,c,d,e){var f,g=a[d-1],h=c,i=0;for(f=c;d-1>f;f+=1)i=e(a[f],g),0>i&&(f!==h&&b(a,f,h),h+=1);return e(a[h],g)&&b(a,h,d-1),h}function b(a,b,c){var d=a[b];return a[b]=a[c],a[c]=d,a}function c(b,d,e,f){if(e>d){var g=a(b,d,e,f);c(b,d,g,f),c(b,g+1,e,f)}return b}return function(a,b){var d=c(a,0,a.length,b);return d}}),i("copy",["apply","extend"],function(a,b){function c(c){return a(b,this,[{},c])}return c}),i("hb.eventStash",function(){var a=new function(){};return a.HB_READY="hb::ready",a}),i("isWindow",function(){var a=function(a){return a&&a.document&&a.location&&a.alert&&a.setInterval};return a}),i("toArray",["isArguments","isArray","isUndefined"],function(a,b,c){var d=function(d){if(a(d))return Array.prototype.slice.call(d,0)||[];try{if(b(d))return d;if(!c(d))return[].concat(d)}catch(e){}return[]};return d}),i("isArguments",["toString"],function(a){var b=function(b){var c=String(b),d="[object Arguments]"===c;return d||(d="[object Array]"!==c&&null!==b&&"object"==typeof b&&"number"==typeof b.length&&b.length>=0&&(!b.callee||"[object Function]"===a.call(b.callee))),d};return b}),i("isArray",function(){Array.prototype.__isArray=!0,Object.defineProperty(Array.prototype,"__isArray",{enumerable:!1,writable:!0});var a=function(a){return a?!!a.__isArray:!1};return a}),i("isUndefined",function(){var a=function(a){return"undefined"==typeof a};return a}),i("getDistanceToRect",[],function(){return function(a,b){var c=Math.max(Math.min(b.x,a.x+a.width),a.x),d=Math.max(Math.min(b.y,a.y+a.height),a.y);return Math.sqrt((b.x-c)*(b.x-c)+(b.y-d)*(b.y-d))}}),i("getPointOnCircle",function(){return function(a,b,c,d){return{x:a+c*Math.cos(d),y:b+c*Math.sin(d)}}}),i("degreesToRadians",function(){return function(a){return a*(Math.PI/180)}}),i("getPointOnRect",["getCenterOfRect","getPointOnCircle"],function(a,b){return function(c,d){var e=.5*Math.min(c.width,c.height),f=a(c),g=b(f.x,f.y,e,d),h=Math.abs(c.x-g.x),i=Math.abs(c.y-g.y),j=Math.abs(c.x+c.width-g.x),k=Math.abs(c.y+c.height-g.y),l=Math.min(h,i,j,k);return l===h?g.x=c.x:l===i?g.y=c.y:l===j?g.x=c.x+c.width:l===k&&(g.y=c.y+c.height),g}}),j("getCenterOfRect",[],function(){return function(a){return{x:a.x+.5*a.width,y:a.y+.5*a.height}}}),i("each",function(){function a(a){var b=a.toString();return b.slice(b.indexOf("(")+1,b.indexOf(")")).match(c)}function b(b){function c(a){var b;if(k+=1,a){if(b=Date.now(),n+a>b)return b=Date.now(),void m();n=b}setTimeout(m,0)}var d,e,f;"function"==typeof arguments[1]?(e=arguments[1],f=arguments[2]):(d=arguments[1]||{},e=arguments[2],f=arguments[3]);var g,h,i,j,k=0,l=a(e);void 0===b.length&&(i=Object.keys(b),j=i.length);var m=function(){if(j=i?j:b.length,j>k){try{h=d?e(i?b[i[k]]:b[k],i?i[k]:k,b,d,g):e(i?b[i[k]]:b[k],i?i[k]:k,b,g)}catch(a){if(!f)throw a;f(a,b,d)}if(void 0!==h)return m=null,f?void f(h,b,d):h;g||(k+=1,m())}else"function"==typeof f&&(m=null,f(null,b,d))},n=Date.now();d?l&&5===l.length&&(g=c):l&&4===l.length&&(g=c),m()}var c=/([^\s,]+)/g;return b}),i("route",["each"],function(a){function b(a,b,c,d){":"===a[0]&&(d.result[a.replace(":","")]=d.parts[b])}function c(a,b,c,d){var e=a.split("=");d[e[0]]=e[1]}function d(a,b){return b&&(a=a.split("?").shift()),a=a.replace(/^\w+:\/\//,""),a=a.replace(/^\w+:\d+\//,"/"),a=a.replace(/^\w+\.\w+\//,"/")}function e(e,g,h){g=d(g);var i=g.split("?"),j=i[1],k={},l={};return"/"===e[0]&&"/"!==i[0][0]&&(i[0]="/"+i[0]),i=i[0].split("/"),a(e.split("/"),{result:k,parts:i},b),j&&a(j.split("&"),l,c),h?f({},[k,l]):{params:k,query:l}}function f(a,b){var c,d,e,f=b.length;for(c=0;f>c;c+=1){e=b[c];for(d in e)e.hasOwnProperty(d)&&(a[d]=e[d])}return a}function g(a,b,c,d){""===a||d.values.hasOwnProperty(a)&&void 0!==d.values[a]||(d.hasParams=!1)}function h(b,c){var f=-1!==b.indexOf("?")?b.split("?").pop().split("&"):[];b.replace(i,function(a,b){return f.push(b),a});var h={values:e(b.split("?").shift(),c,!0),hasParams:!!f.length};if(h.hasParams&&(a(f,h,g),!h.hasParams))return null;var k=b.split("?").shift().replace(j,function(a,b){return"/"+h.values[b]}),l=d(c,!0);return l===k}var i=/:(\w+)/g,j=/\/:(\w+)/g;return{match:h,extractParams:e}}),i("define",function(){return function(a){i.apply(this,arguments),k(a,d[a])}});for(var l in d)k(l,d[l])}(this.hb||{},function(){return this}());
//# sourceMappingURL=hb-unittest.min.js.map