!function(a,b){b.hb=a;var c,d,e=function(){};return function(){var a,b,f,g,h,i="~",j=".";return a=Function[i]=Function[i]||function(b){return a[b]||(a[b]={}),a[b]},g=a("c"),b=a("d"),f=a("p"),h=function(a){var c=arguments,d=c[1];"function"==typeof d?b[a]=d():(g[a]=c[2],g[a][j]=d)},c=d=function(){h.apply(null,arguments)},resolve=function(a,c){f[a]=!0;var d,e,h,i=c[j],k=[];if(i)for(e=i.length,d=0;e>d;d++)h=i[d],g[h]&&(f.hasOwnProperty(h)||resolve(h,g[h]),resolve(h,g[h]),delete g[h]);if(!b.hasOwnProperty(a)){for(d=0;e>d;d++)h=i[d],k.push(b.hasOwnProperty(h)&&b[h]);b[a]=c.apply(null,k)}delete f[a]},e=function(){for(var a in g)resolve(a,g[a])},c}(),c("copy",["apply","extend"],function(a,b){function c(c){return a(b,this,[{},c])}return c}),d("asyncRender",["dispatcher","hb.eventStash"],function(a,b){function c(){this.down=e,this.up=d,this.direction=e,this.index=0,this.len=0,this.maxLen=0,this.size=0,this.complete=!1,this.atChunkEnd=!1,a(this)}var d="up",e="down";b.ASYNC_RENDER_CHUNK_END="async::chunk_end",b.ASYNC_RENDER_COMPLETE="async::complete";var f=c.prototype;return f.setup=function(a,b,c){this.direction=a,this.size=b,this.len=0,this.maxLen=c,this.atChunkEnd=!1,this.complete=!1,this.index=a===e?0:c-1},f.inc=function(){this.complete||this.atChunkEnd||(this.direction===e?this.index<this.len?(this.index+=1,this.index===this.len&&this.finishChunk()):this.finishChunk():(this.index>this.maxLen-this.len-1&&(this.index-=1),this.index<=this.maxLen-this.len-1&&this.finishChunk()))},f.finishChunk=function(){this.complete||this.atChunkEnd||(this.atChunkEnd=!0,-1!==this.index&&this.index!==this.maxLen||this.len!==this.maxLen||this.finish(),this.dispatch(b.ASYNC_RENDER_CHUNK_END))},f.next=function(){if(this.complete)return this.dispatch(b.ASYNC_RENDER_COMPLETE),this.direction=e,!1;var a=Math.min(this.size,this.maxLen);return a?(this.len+a>this.maxLen&&(a=this.maxLen-this.len),this.direction===d&&(this.index=this.maxLen-this.len-1),this.len+=a,this.atChunkEnd=!1,!0):!1},f.finish=function(){this.complete=!0},{create:function(){return new c}}}),c("dispatcher",["apply","isFunction"],function(a,b){function c(a){this.type=a,this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1}function d(a){if(!a)throw Error("event cannot be undefined")}c.prototype.preventDefault=function(){this.defaultPrevented=!0},c.prototype.stopPropagation=function(){this.propagationStopped=!0},c.prototype.stopImmediatePropagation=function(){this.immediatePropagationStopped=!0},c.prototype.toString=function(){return this.type};var e=function(e,f,g){function h(a,b){d(a);var c,e;e=o[a],e&&(b?(c=e.indexOf(b),-1!==c&&e.splice(c,1)):e.length=0)}function i(a,c){return b(c)?(d(a),o[a]=o[a]||[],o[a].push(c),function(){h(a,c)}):void 0}function j(c,g){function j(){h(c,j),a(g,f||e,arguments)}return b(g)?(d(c),i(c,j)):void 0}function k(a,b){d(a);var c,e="*";return a||b?(c=[],o[e]&&(c=o[e].concat(c)),o[a]&&(c=o[a].concat(c)),c):o}function l(){o={}}function m(b,c){return b&&a(b,e,c)}function n(a){d(a);var b,e=k(a,!0),f=e.length,a="object"==typeof a?a:new c(a);if(f)for(arguments[0]=a,b=0;f>b;b+=1)a.immediatePropagationStopped||m(e[b],arguments);return a}if(e&&e.on&&e.on.dispatcher)return e;e=e||{};var o={};return i.dispatcher=!0,f&&g?(e.on=f[g.on]&&f[g.on].bind(f),e.off=f[g.off]&&f[g.off].bind(f),e.once=f[g.once]&&f[g.once].bind(f),e.dispatch=e.fire=f[g.dispatch].bind(f)):(e.on=i,e.off=h,e.once=j,e.dispatch=e.fire=n),e.getListeners=k,e.removeAllListeners=l,e};return e}),c("apply",["isFunction"],function(a){return function(b,c,d){if(a(b)){switch(d=d||[],d.length){case 0:return b.call(c);case 1:return b.call(c,d[0]);case 2:return b.call(c,d[0],d[1]);case 3:return b.call(c,d[0],d[1],d[2]);case 4:return b.call(c,d[0],d[1],d[2],d[3]);case 5:return b.call(c,d[0],d[1],d[2],d[3],d[4]);case 6:return b.call(c,d[0],d[1],d[2],d[3],d[4],d[5])}return b.apply(c,d)}}}),c("isFunction",function(){var a=function(a){return"function"==typeof a};return a}),c("indexOfMatch",["isMatch"],function(a){function b(b,c){for(var d=0,e=b.length;e>d;d+=1)if(a(b[d],c))return d;return-1}return b}),c("isMatch",["isRegExp","isDate"],function(a,b){function c(e,f){var g;if(e===f)return!0;if("object"==typeof f){if(g=typeof e,-1!==d.indexOf(g)){if(a(f)&&!f.test(e+""))return!1;if(b(f))return b(e)&&f.getTime()===e.getTime()?!0:!1}if(e instanceof Array&&void 0!==f[0]){for(var h=0;h<e.length;h+=1)if(c(e[h],f[0]))return!0;return!1}for(var i in f)if(f.hasOwnProperty(i)){if(void 0===e[i]&&!e.hasOwnProperty(i))return!1;if(!c(e[i],f[i]))return!1}return!0}return"function"==typeof f?!!f(e):!1}var d=["string","number","boolean"];return c}),c("isRegExp",function(){var a=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)};return a}),c("isDate",function(){var a=function(a){return a instanceof Date};return a}),c("matchAllOthers",["isMatch"],function(a){function b(b,c){for(var d=[],e=0,f=b.length;f>e;e+=1)a(b[e],c)||d.push(b[e]);return d}return b}),c("matchAll",["isMatch"],function(a){function b(b,c){for(var d=[],e=0;e<b.length;e+=1)a(b[e],c)&&d.push(b[e]);return d}return b}),c("matchIndexOf",["isMatch"],function(a){function b(b,c){for(var d=0,e=b.length;e>d;d+=1)if(a(b[d],c))return d;return-1}return b}),c("sort",function(){function a(a,c,d,e){var f,g=a[d-1],h=c,i=0;for(f=c;d-1>f;f+=1)i=e(a[f],g),0>i&&(f!==h&&b(a,f,h),h+=1);return e(a[h],g)&&b(a,h,d-1),h}function b(a,b,c){var d=a[b];return a[b]=a[c],a[c]=d,a}function c(b,d,e,f){if(e>d){var g=a(b,d,e,f);c(b,d,g,f),c(b,g+1,e,f)}return b}return function(a,b){var d=c(a,0,a.length,b);return d}}),c("hb.eventStash",function(){var a=new function(){};return a.HB_READY="hb::ready",a}),c("extend",["isWindow","apply","toArray","isArray","isDate","isRegExp"],function(a,b,c,d,e,f){var g=function(h,i){if(a(i))throw Error("Can't extend! Making copies of Window instances is not supported.");if(i===h)return h;var j,k,l,m=c(arguments),n=1,o=m.length,p=this||{};for(!h&&i&&"object"==typeof i&&(h={});o>n;){j=m[n];for(k in j)j.hasOwnProperty(k)&&(e(j[k])?h[k]=new Date(j[k].getTime()):f(j[k])?h[k]=new RegExp(j[k]):"length"===k&&h instanceof Array||(h[k]&&"object"==typeof h[k]&&!j[k]instanceof Array?h[k]=b(g,p,[h[k],j[k]]):d(j[k])?(l=p&&p.concat?(h[k]||[]).concat(j[k]):j[k],p&&p.arrayAsObject?(h[k]||(h[k]={length:l.length}),h[k]instanceof Array&&(h[k]=b(g,p,[{},h[k]]))):h[k]=h[k]||[],l.length&&(h[k]=b(g,p,[h[k],l]))):j[k]&&"object"==typeof j[k]?(p.objectAsArray&&"number"==typeof j[k].length&&(h[k]instanceof Array||(h[k]=b(g,p,[[],h[k]]))),h[k]=b(g,p,[h[k]||{},j[k]])):(p.override!==!1||void 0===h[k])&&(h[k]=j[k])));n+=1}return h};return g}),c("isWindow",function(){var a=function(a){return a&&a.document&&a.location&&a.alert&&a.setInterval};return a}),c("toArray",["isArguments","isArray","isUndefined"],function(a,b,c){var d=function(d){if(a(d))return Array.prototype.slice.call(d,0)||[];try{if(b(d))return d;if(!c(d))return[].concat(d)}catch(e){}return[]};return d}),c("isArguments",["toString"],function(a){var b=function(b){var c=String(b),d="[object Arguments]"===c;return d||(d="[object Array]"!==c&&null!==b&&"object"==typeof b&&"number"==typeof b.length&&b.length>=0&&(!b.callee||"[object Function]"===a.call(b.callee))),d};return b}),c("isArray",function(){Array.prototype.__isArray=!0,Object.defineProperty(Array.prototype,"__isArray",{enumerable:!1,writable:!0});var a=function(a){return a?!!a.__isArray:!1};return a}),c("isUndefined",function(){var a=function(a){return"undefined"==typeof a};return a}),c("getDistanceToRect",[],function(){return function(a,b){var c=Math.max(Math.min(b.x,a.x+a.width),a.x),d=Math.max(Math.min(b.y,a.y+a.height),a.y);return Math.sqrt((b.x-c)*(b.x-c)+(b.y-d)*(b.y-d))}}),c("getPointOnCircle",function(){return function(a,b,c,d){return{x:a+c*Math.cos(d),y:b+c*Math.sin(d)}}}),c("degreesToRadians",function(){return function(a){return a*(Math.PI/180)}}),c("getPointOnRect",["getCenterOfRect","getPointOnCircle"],function(a,b){return function(c,d){var e=.5*Math.min(c.width,c.height),f=a(c),g=b(f.x,f.y,e,d),h=Math.abs(c.x-g.x),i=Math.abs(c.y-g.y),j=Math.abs(c.x+c.width-g.x),k=Math.abs(c.y+c.height-g.y),l=Math.min(h,i,j,k);return l===h?g.x=c.x:l===i?g.y=c.y:l===j?g.x=c.x+c.width:l===k&&(g.y=c.y+c.height),g}}),d("getCenterOfRect",[],function(){return function(a){return{x:a.x+.5*a.width,y:a.y+.5*a.height}}}),c("each",function(){function a(a){var b=a.toString();return b.slice(b.indexOf("(")+1,b.indexOf(")")).match(c)}function b(b){function c(a){var b;if(k+=1,a){if(b=Date.now(),n+a>b)return b=Date.now(),void m();n=b}setTimeout(m,0)}var d,e,f;if("function"==typeof arguments[1]?(e=arguments[1],f=arguments[2]):(d=arguments[1]||{},e=arguments[2],f=arguments[3]),!b)return void(f&&f(void 0,b,d));var g,h,i,j,k=0,l=a(e);void 0===b.length&&(i=Object.keys(b),j=i.length);var m=function(){if(j=i?j:b.length,j>k){try{h=d?e(i?b[i[k]]:b[k],i?i[k]:k,b,d,g):e(i?b[i[k]]:b[k],i?i[k]:k,b,g)}catch(a){if(!f)throw a;f(a,b,d)}if(void 0!==h)return m=null,f?void f(h,b,d):h;g||(k+=1,m())}else"function"==typeof f&&(m=null,f(null,b,d))},n=Date.now();d?l&&5===l.length&&(g=c):l&&4===l.length&&(g=c),m()}var c=/([^\s,]+)/g;return b}),c("define",function(){var b={};a.define=function(a){c.apply(this,arguments),resolve(a,b[a])}}),e(),b.hb}(this.hb||{},function(){return this}());
//# sourceMappingURL=hb-unittest.min.js.map